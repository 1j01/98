"use strict";var ZenFS=(()=>{var ed=Object.create;var Fi=Object.defineProperty;var td=Object.getOwnPropertyDescriptor;var id=Object.getOwnPropertyNames;var rd=Object.getPrototypeOf,nd=Object.prototype.hasOwnProperty;var Ws=(t,e)=>(e=Symbol[t])?e:Symbol.for("Symbol."+t),js=t=>{throw TypeError(t)};var s=(t,e)=>Fi(t,"name",{value:e,configurable:!0});var T=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),yr=(t,e)=>{for(var i in e)Fi(t,i,{get:e[i],enumerable:!0})},qs=(t,e,i,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of id(e))!nd.call(t,n)&&n!==i&&Fi(t,n,{get:()=>e[n],enumerable:!(r=td(e,n))||r.enumerable});return t};var mr=(t,e,i)=>(i=t!=null?ed(rd(t)):{},qs(e||!t||!t.__esModule?Fi(i,"default",{value:t,enumerable:!0}):i,t)),od=t=>qs(Fi({},"__esModule",{value:!0}),t);var x=(t,e,i)=>{if(e!=null){typeof e!="object"&&typeof e!="function"&&js("Object expected");var r;i&&(r=e[Ws("asyncDispose")]),r===void 0&&(r=e[Ws("dispose")]),typeof r!="function"&&js("Object not disposable"),t.push([i,r,e])}else i&&t.push([i]);return e},k=(t,e,i)=>{var r=typeof SuppressedError=="function"?SuppressedError:function(a,c,l,f){return f=Error(l),f.name="SuppressedError",f.error=a,f.suppressed=c,f},n=a=>e=i?new r(a,e,"An error was suppressed during disposal"):(i=!0,a),o=a=>{for(;a=t.pop();)try{var c=a[1]&&a[1].call(a[2]);if(a[0])return Promise.resolve(c).then(o,l=>(n(l),o()))}catch(l){n(l)}if(i)throw e};return o()};var sa=T(Ir=>{"use strict";Ir.byteLength=Jd;Ir.toByteArray=Zd;Ir.fromByteArray=ih;var je=[],Se=[],Xd=typeof Uint8Array<"u"?Uint8Array:Array,Vn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(Tt=0,na=Vn.length;Tt<na;++Tt)je[Tt]=Vn[Tt],Se[Vn.charCodeAt(Tt)]=Tt;var Tt,na;Se[45]=62;Se[95]=63;function oa(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=t.indexOf("=");i===-1&&(i=e);var r=i===e?0:4-i%4;return[i,r]}s(oa,"getLens");function Jd(t){var e=oa(t),i=e[0],r=e[1];return(i+r)*3/4-r}s(Jd,"byteLength");function Qd(t,e,i){return(e+i)*3/4-i}s(Qd,"_byteLength");function Zd(t){var e,i=oa(t),r=i[0],n=i[1],o=new Xd(Qd(t,r,n)),a=0,c=n>0?r-4:r,l;for(l=0;l<c;l+=4)e=Se[t.charCodeAt(l)]<<18|Se[t.charCodeAt(l+1)]<<12|Se[t.charCodeAt(l+2)]<<6|Se[t.charCodeAt(l+3)],o[a++]=e>>16&255,o[a++]=e>>8&255,o[a++]=e&255;return n===2&&(e=Se[t.charCodeAt(l)]<<2|Se[t.charCodeAt(l+1)]>>4,o[a++]=e&255),n===1&&(e=Se[t.charCodeAt(l)]<<10|Se[t.charCodeAt(l+1)]<<4|Se[t.charCodeAt(l+2)]>>2,o[a++]=e>>8&255,o[a++]=e&255),o}s(Zd,"toByteArray");function eh(t){return je[t>>18&63]+je[t>>12&63]+je[t>>6&63]+je[t&63]}s(eh,"tripletToBase64");function th(t,e,i){for(var r,n=[],o=e;o<i;o+=3)r=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(t[o+2]&255),n.push(eh(r));return n.join("")}s(th,"encodeChunk");function ih(t){for(var e,i=t.length,r=i%3,n=[],o=16383,a=0,c=i-r;a<c;a+=o)n.push(th(t,a,a+o>c?c:a+o));return r===1?(e=t[i-1],n.push(je[e>>2]+je[e<<4&63]+"==")):r===2&&(e=(t[i-2]<<8)+t[i-1],n.push(je[e>>10]+je[e>>4&63]+je[e<<2&63]+"=")),n.join("")}s(ih,"fromByteArray")});var aa=T(Hn=>{Hn.read=function(t,e,i,r,n){var o,a,c=n*8-r-1,l=(1<<c)-1,f=l>>1,d=-7,h=i?n-1:0,m=i?-1:1,b=t[e+h];for(h+=m,o=b&(1<<-d)-1,b>>=-d,d+=c;d>0;o=o*256+t[e+h],h+=m,d-=8);for(a=o&(1<<-d)-1,o>>=-d,d+=r;d>0;a=a*256+t[e+h],h+=m,d-=8);if(o===0)o=1-f;else{if(o===l)return a?NaN:(b?-1:1)*(1/0);a=a+Math.pow(2,r),o=o-f}return(b?-1:1)*a*Math.pow(2,o-r)};Hn.write=function(t,e,i,r,n,o){var a,c,l,f=o*8-n-1,d=(1<<f)-1,h=d>>1,m=n===23?Math.pow(2,-24)-Math.pow(2,-77):0,b=r?0:o-1,w=r?1:-1,g=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(c=isNaN(e)?1:0,a=d):(a=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-a))<1&&(a--,l*=2),a+h>=1?e+=m/l:e+=m*Math.pow(2,1-h),e*l>=2&&(a++,l/=2),a+h>=d?(c=0,a=d):a+h>=1?(c=(e*l-1)*Math.pow(2,n),a=a+h):(c=e*Math.pow(2,h-1)*Math.pow(2,n),a=0));n>=8;t[i+b]=c&255,b+=w,c/=256,n-=8);for(a=a<<n|c,f+=n;f>0;t[i+b]=a&255,b+=w,a/=256,f-=8);t[i+b-w]|=g*128}});var _e=T(si=>{"use strict";var Gn=sa(),ni=aa(),ca=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;si.Buffer=y;si.SlowBuffer=ch;si.INSPECT_MAX_BYTES=50;var Pr=2147483647;si.kMaxLength=Pr;y.TYPED_ARRAY_SUPPORT=rh();!y.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function rh(){try{let t=new Uint8Array(1),e={foo:s(function(){return 42},"foo")};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),t.foo()===42}catch{return!1}}s(rh,"typedArraySupport");Object.defineProperty(y.prototype,"parent",{enumerable:!0,get:s(function(){if(y.isBuffer(this))return this.buffer},"get")});Object.defineProperty(y.prototype,"offset",{enumerable:!0,get:s(function(){if(y.isBuffer(this))return this.byteOffset},"get")});function ot(t){if(t>Pr)throw new RangeError('The value "'+t+'" is invalid for option "size"');let e=new Uint8Array(t);return Object.setPrototypeOf(e,y.prototype),e}s(ot,"createBuffer");function y(t,e,i){if(typeof t=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return Jn(t)}return da(t,e,i)}s(y,"Buffer");y.poolSize=8192;function da(t,e,i){if(typeof t=="string")return oh(t,e);if(ArrayBuffer.isView(t))return sh(t);if(t==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(qe(t,ArrayBuffer)||t&&qe(t.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(qe(t,SharedArrayBuffer)||t&&qe(t.buffer,SharedArrayBuffer)))return Kn(t,e,i);if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let r=t.valueOf&&t.valueOf();if(r!=null&&r!==t)return y.from(r,e,i);let n=ah(t);if(n)return n;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof t[Symbol.toPrimitive]=="function")return y.from(t[Symbol.toPrimitive]("string"),e,i);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}s(da,"from");y.from=function(t,e,i){return da(t,e,i)};Object.setPrototypeOf(y.prototype,Uint8Array.prototype);Object.setPrototypeOf(y,Uint8Array);function ha(t){if(typeof t!="number")throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}s(ha,"assertSize");function nh(t,e,i){return ha(t),t<=0?ot(t):e!==void 0?typeof i=="string"?ot(t).fill(e,i):ot(t).fill(e):ot(t)}s(nh,"alloc");y.alloc=function(t,e,i){return nh(t,e,i)};function Jn(t){return ha(t),ot(t<0?0:Qn(t)|0)}s(Jn,"allocUnsafe");y.allocUnsafe=function(t){return Jn(t)};y.allocUnsafeSlow=function(t){return Jn(t)};function oh(t,e){if((typeof e!="string"||e==="")&&(e="utf8"),!y.isEncoding(e))throw new TypeError("Unknown encoding: "+e);let i=pa(t,e)|0,r=ot(i),n=r.write(t,e);return n!==i&&(r=r.slice(0,n)),r}s(oh,"fromString");function Yn(t){let e=t.length<0?0:Qn(t.length)|0,i=ot(e);for(let r=0;r<e;r+=1)i[r]=t[r]&255;return i}s(Yn,"fromArrayLike");function sh(t){if(qe(t,Uint8Array)){let e=new Uint8Array(t);return Kn(e.buffer,e.byteOffset,e.byteLength)}return Yn(t)}s(sh,"fromArrayView");function Kn(t,e,i){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(i||0))throw new RangeError('"length" is outside of buffer bounds');let r;return e===void 0&&i===void 0?r=new Uint8Array(t):i===void 0?r=new Uint8Array(t,e):r=new Uint8Array(t,e,i),Object.setPrototypeOf(r,y.prototype),r}s(Kn,"fromArrayBuffer");function ah(t){if(y.isBuffer(t)){let e=Qn(t.length)|0,i=ot(e);return i.length===0||t.copy(i,0,0,e),i}if(t.length!==void 0)return typeof t.length!="number"||eo(t.length)?ot(0):Yn(t);if(t.type==="Buffer"&&Array.isArray(t.data))return Yn(t.data)}s(ah,"fromObject");function Qn(t){if(t>=Pr)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Pr.toString(16)+" bytes");return t|0}s(Qn,"checked");function ch(t){return+t!=t&&(t=0),y.alloc(+t)}s(ch,"SlowBuffer");y.isBuffer=s(function(e){return e!=null&&e._isBuffer===!0&&e!==y.prototype},"isBuffer");y.compare=s(function(e,i){if(qe(e,Uint8Array)&&(e=y.from(e,e.offset,e.byteLength)),qe(i,Uint8Array)&&(i=y.from(i,i.offset,i.byteLength)),!y.isBuffer(e)||!y.isBuffer(i))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===i)return 0;let r=e.length,n=i.length;for(let o=0,a=Math.min(r,n);o<a;++o)if(e[o]!==i[o]){r=e[o],n=i[o];break}return r<n?-1:n<r?1:0},"compare");y.isEncoding=s(function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},"isEncoding");y.concat=s(function(e,i){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return y.alloc(0);let r;if(i===void 0)for(i=0,r=0;r<e.length;++r)i+=e[r].length;let n=y.allocUnsafe(i),o=0;for(r=0;r<e.length;++r){let a=e[r];if(qe(a,Uint8Array))o+a.length>n.length?(y.isBuffer(a)||(a=y.from(a)),a.copy(n,o)):Uint8Array.prototype.set.call(n,a,o);else if(y.isBuffer(a))a.copy(n,o);else throw new TypeError('"list" argument must be an Array of Buffers');o+=a.length}return n},"concat");function pa(t,e){if(y.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||qe(t,ArrayBuffer))return t.byteLength;if(typeof t!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);let i=t.length,r=arguments.length>2&&arguments[2]===!0;if(!r&&i===0)return 0;let n=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":return Xn(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return i*2;case"hex":return i>>>1;case"base64":return xa(t).length;default:if(n)return r?-1:Xn(t).length;e=(""+e).toLowerCase(),n=!0}}s(pa,"byteLength");y.byteLength=pa;function lh(t,e,i){let r=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((i===void 0||i>this.length)&&(i=this.length),i<=0)||(i>>>=0,e>>>=0,i<=e))return"";for(t||(t="utf8");;)switch(t){case"hex":return wh(this,e,i);case"utf8":case"utf-8":return ma(this,e,i);case"ascii":return bh(this,e,i);case"latin1":case"binary":return gh(this,e,i);case"base64":return yh(this,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Sh(this,e,i);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}s(lh,"slowToString");y.prototype._isBuffer=!0;function Ct(t,e,i){let r=t[e];t[e]=t[i],t[i]=r}s(Ct,"swap");y.prototype.swap16=s(function(){let e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let i=0;i<e;i+=2)Ct(this,i,i+1);return this},"swap16");y.prototype.swap32=s(function(){let e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let i=0;i<e;i+=4)Ct(this,i,i+3),Ct(this,i+1,i+2);return this},"swap32");y.prototype.swap64=s(function(){let e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let i=0;i<e;i+=8)Ct(this,i,i+7),Ct(this,i+1,i+6),Ct(this,i+2,i+5),Ct(this,i+3,i+4);return this},"swap64");y.prototype.toString=s(function(){let e=this.length;return e===0?"":arguments.length===0?ma(this,0,e):lh.apply(this,arguments)},"toString");y.prototype.toLocaleString=y.prototype.toString;y.prototype.equals=s(function(e){if(!y.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:y.compare(this,e)===0},"equals");y.prototype.inspect=s(function(){let e="",i=si.INSPECT_MAX_BYTES;return e=this.toString("hex",0,i).replace(/(.{2})/g,"$1 ").trim(),this.length>i&&(e+=" ... "),"<Buffer "+e+">"},"inspect");ca&&(y.prototype[ca]=y.prototype.inspect);y.prototype.compare=s(function(e,i,r,n,o){if(qe(e,Uint8Array)&&(e=y.from(e,e.offset,e.byteLength)),!y.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(i===void 0&&(i=0),r===void 0&&(r=e?e.length:0),n===void 0&&(n=0),o===void 0&&(o=this.length),i<0||r>e.length||n<0||o>this.length)throw new RangeError("out of range index");if(n>=o&&i>=r)return 0;if(n>=o)return-1;if(i>=r)return 1;if(i>>>=0,r>>>=0,n>>>=0,o>>>=0,this===e)return 0;let a=o-n,c=r-i,l=Math.min(a,c),f=this.slice(n,o),d=e.slice(i,r);for(let h=0;h<l;++h)if(f[h]!==d[h]){a=f[h],c=d[h];break}return a<c?-1:c<a?1:0},"compare");function ya(t,e,i,r,n){if(t.length===0)return-1;if(typeof i=="string"?(r=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),i=+i,eo(i)&&(i=n?0:t.length-1),i<0&&(i=t.length+i),i>=t.length){if(n)return-1;i=t.length-1}else if(i<0)if(n)i=0;else return-1;if(typeof e=="string"&&(e=y.from(e,r)),y.isBuffer(e))return e.length===0?-1:la(t,e,i,r,n);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?n?Uint8Array.prototype.indexOf.call(t,e,i):Uint8Array.prototype.lastIndexOf.call(t,e,i):la(t,[e],i,r,n);throw new TypeError("val must be string, number or Buffer")}s(ya,"bidirectionalIndexOf");function la(t,e,i,r,n){let o=1,a=t.length,c=e.length;if(r!==void 0&&(r=String(r).toLowerCase(),r==="ucs2"||r==="ucs-2"||r==="utf16le"||r==="utf-16le")){if(t.length<2||e.length<2)return-1;o=2,a/=2,c/=2,i/=2}function l(d,h){return o===1?d[h]:d.readUInt16BE(h*o)}s(l,"read");let f;if(n){let d=-1;for(f=i;f<a;f++)if(l(t,f)===l(e,d===-1?0:f-d)){if(d===-1&&(d=f),f-d+1===c)return d*o}else d!==-1&&(f-=f-d),d=-1}else for(i+c>a&&(i=a-c),f=i;f>=0;f--){let d=!0;for(let h=0;h<c;h++)if(l(t,f+h)!==l(e,h)){d=!1;break}if(d)return f}return-1}s(la,"arrayIndexOf");y.prototype.includes=s(function(e,i,r){return this.indexOf(e,i,r)!==-1},"includes");y.prototype.indexOf=s(function(e,i,r){return ya(this,e,i,r,!0)},"indexOf");y.prototype.lastIndexOf=s(function(e,i,r){return ya(this,e,i,r,!1)},"lastIndexOf");function fh(t,e,i,r){i=Number(i)||0;let n=t.length-i;r?(r=Number(r),r>n&&(r=n)):r=n;let o=e.length;r>o/2&&(r=o/2);let a;for(a=0;a<r;++a){let c=parseInt(e.substr(a*2,2),16);if(eo(c))return a;t[i+a]=c}return a}s(fh,"hexWrite");function uh(t,e,i,r){return Ar(Xn(e,t.length-i),t,i,r)}s(uh,"utf8Write");function dh(t,e,i,r){return Ar(kh(e),t,i,r)}s(dh,"asciiWrite");function hh(t,e,i,r){return Ar(xa(e),t,i,r)}s(hh,"base64Write");function ph(t,e,i,r){return Ar(vh(e,t.length-i),t,i,r)}s(ph,"ucs2Write");y.prototype.write=s(function(e,i,r,n){if(i===void 0)n="utf8",r=this.length,i=0;else if(r===void 0&&typeof i=="string")n=i,r=this.length,i=0;else if(isFinite(i))i=i>>>0,isFinite(r)?(r=r>>>0,n===void 0&&(n="utf8")):(n=r,r=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let o=this.length-i;if((r===void 0||r>o)&&(r=o),e.length>0&&(r<0||i<0)||i>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let a=!1;for(;;)switch(n){case"hex":return fh(this,e,i,r);case"utf8":case"utf-8":return uh(this,e,i,r);case"ascii":case"latin1":case"binary":return dh(this,e,i,r);case"base64":return hh(this,e,i,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ph(this,e,i,r);default:if(a)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),a=!0}},"write");y.prototype.toJSON=s(function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},"toJSON");function yh(t,e,i){return e===0&&i===t.length?Gn.fromByteArray(t):Gn.fromByteArray(t.slice(e,i))}s(yh,"base64Slice");function ma(t,e,i){i=Math.min(t.length,i);let r=[],n=e;for(;n<i;){let o=t[n],a=null,c=o>239?4:o>223?3:o>191?2:1;if(n+c<=i){let l,f,d,h;switch(c){case 1:o<128&&(a=o);break;case 2:l=t[n+1],(l&192)===128&&(h=(o&31)<<6|l&63,h>127&&(a=h));break;case 3:l=t[n+1],f=t[n+2],(l&192)===128&&(f&192)===128&&(h=(o&15)<<12|(l&63)<<6|f&63,h>2047&&(h<55296||h>57343)&&(a=h));break;case 4:l=t[n+1],f=t[n+2],d=t[n+3],(l&192)===128&&(f&192)===128&&(d&192)===128&&(h=(o&15)<<18|(l&63)<<12|(f&63)<<6|d&63,h>65535&&h<1114112&&(a=h))}}a===null?(a=65533,c=1):a>65535&&(a-=65536,r.push(a>>>10&1023|55296),a=56320|a&1023),r.push(a),n+=c}return mh(r)}s(ma,"utf8Slice");var fa=4096;function mh(t){let e=t.length;if(e<=fa)return String.fromCharCode.apply(String,t);let i="",r=0;for(;r<e;)i+=String.fromCharCode.apply(String,t.slice(r,r+=fa));return i}s(mh,"decodeCodePointsArray");function bh(t,e,i){let r="";i=Math.min(t.length,i);for(let n=e;n<i;++n)r+=String.fromCharCode(t[n]&127);return r}s(bh,"asciiSlice");function gh(t,e,i){let r="";i=Math.min(t.length,i);for(let n=e;n<i;++n)r+=String.fromCharCode(t[n]);return r}s(gh,"latin1Slice");function wh(t,e,i){let r=t.length;(!e||e<0)&&(e=0),(!i||i<0||i>r)&&(i=r);let n="";for(let o=e;o<i;++o)n+=Fh[t[o]];return n}s(wh,"hexSlice");function Sh(t,e,i){let r=t.slice(e,i),n="";for(let o=0;o<r.length-1;o+=2)n+=String.fromCharCode(r[o]+r[o+1]*256);return n}s(Sh,"utf16leSlice");y.prototype.slice=s(function(e,i){let r=this.length;e=~~e,i=i===void 0?r:~~i,e<0?(e+=r,e<0&&(e=0)):e>r&&(e=r),i<0?(i+=r,i<0&&(i=0)):i>r&&(i=r),i<e&&(i=e);let n=this.subarray(e,i);return Object.setPrototypeOf(n,y.prototype),n},"slice");function Z(t,e,i){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>i)throw new RangeError("Trying to access beyond buffer length")}s(Z,"checkOffset");y.prototype.readUintLE=y.prototype.readUIntLE=s(function(e,i,r){e=e>>>0,i=i>>>0,r||Z(e,i,this.length);let n=this[e],o=1,a=0;for(;++a<i&&(o*=256);)n+=this[e+a]*o;return n},"readUIntLE");y.prototype.readUintBE=y.prototype.readUIntBE=s(function(e,i,r){e=e>>>0,i=i>>>0,r||Z(e,i,this.length);let n=this[e+--i],o=1;for(;i>0&&(o*=256);)n+=this[e+--i]*o;return n},"readUIntBE");y.prototype.readUint8=y.prototype.readUInt8=s(function(e,i){return e=e>>>0,i||Z(e,1,this.length),this[e]},"readUInt8");y.prototype.readUint16LE=y.prototype.readUInt16LE=s(function(e,i){return e=e>>>0,i||Z(e,2,this.length),this[e]|this[e+1]<<8},"readUInt16LE");y.prototype.readUint16BE=y.prototype.readUInt16BE=s(function(e,i){return e=e>>>0,i||Z(e,2,this.length),this[e]<<8|this[e+1]},"readUInt16BE");y.prototype.readUint32LE=y.prototype.readUInt32LE=s(function(e,i){return e=e>>>0,i||Z(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216},"readUInt32LE");y.prototype.readUint32BE=y.prototype.readUInt32BE=s(function(e,i){return e=e>>>0,i||Z(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])},"readUInt32BE");y.prototype.readBigUInt64LE=yt(s(function(e){e=e>>>0,oi(e,"offset");let i=this[e],r=this[e+7];(i===void 0||r===void 0)&&$i(e,this.length-8);let n=i+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,o=this[++e]+this[++e]*2**8+this[++e]*2**16+r*2**24;return BigInt(n)+(BigInt(o)<<BigInt(32))},"readBigUInt64LE"));y.prototype.readBigUInt64BE=yt(s(function(e){e=e>>>0,oi(e,"offset");let i=this[e],r=this[e+7];(i===void 0||r===void 0)&&$i(e,this.length-8);let n=i*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],o=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+r;return(BigInt(n)<<BigInt(32))+BigInt(o)},"readBigUInt64BE"));y.prototype.readIntLE=s(function(e,i,r){e=e>>>0,i=i>>>0,r||Z(e,i,this.length);let n=this[e],o=1,a=0;for(;++a<i&&(o*=256);)n+=this[e+a]*o;return o*=128,n>=o&&(n-=Math.pow(2,8*i)),n},"readIntLE");y.prototype.readIntBE=s(function(e,i,r){e=e>>>0,i=i>>>0,r||Z(e,i,this.length);let n=i,o=1,a=this[e+--n];for(;n>0&&(o*=256);)a+=this[e+--n]*o;return o*=128,a>=o&&(a-=Math.pow(2,8*i)),a},"readIntBE");y.prototype.readInt8=s(function(e,i){return e=e>>>0,i||Z(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]},"readInt8");y.prototype.readInt16LE=s(function(e,i){e=e>>>0,i||Z(e,2,this.length);let r=this[e]|this[e+1]<<8;return r&32768?r|4294901760:r},"readInt16LE");y.prototype.readInt16BE=s(function(e,i){e=e>>>0,i||Z(e,2,this.length);let r=this[e+1]|this[e]<<8;return r&32768?r|4294901760:r},"readInt16BE");y.prototype.readInt32LE=s(function(e,i){return e=e>>>0,i||Z(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},"readInt32LE");y.prototype.readInt32BE=s(function(e,i){return e=e>>>0,i||Z(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},"readInt32BE");y.prototype.readBigInt64LE=yt(s(function(e){e=e>>>0,oi(e,"offset");let i=this[e],r=this[e+7];(i===void 0||r===void 0)&&$i(e,this.length-8);let n=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(i+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)},"readBigInt64LE"));y.prototype.readBigInt64BE=yt(s(function(e){e=e>>>0,oi(e,"offset");let i=this[e],r=this[e+7];(i===void 0||r===void 0)&&$i(e,this.length-8);let n=(i<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+r)},"readBigInt64BE"));y.prototype.readFloatLE=s(function(e,i){return e=e>>>0,i||Z(e,4,this.length),ni.read(this,e,!0,23,4)},"readFloatLE");y.prototype.readFloatBE=s(function(e,i){return e=e>>>0,i||Z(e,4,this.length),ni.read(this,e,!1,23,4)},"readFloatBE");y.prototype.readDoubleLE=s(function(e,i){return e=e>>>0,i||Z(e,8,this.length),ni.read(this,e,!0,52,8)},"readDoubleLE");y.prototype.readDoubleBE=s(function(e,i){return e=e>>>0,i||Z(e,8,this.length),ni.read(this,e,!1,52,8)},"readDoubleBE");function le(t,e,i,r,n,o){if(!y.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>n||e<o)throw new RangeError('"value" argument is out of bounds');if(i+r>t.length)throw new RangeError("Index out of range")}s(le,"checkInt");y.prototype.writeUintLE=y.prototype.writeUIntLE=s(function(e,i,r,n){if(e=+e,i=i>>>0,r=r>>>0,!n){let c=Math.pow(2,8*r)-1;le(this,e,i,r,c,0)}let o=1,a=0;for(this[i]=e&255;++a<r&&(o*=256);)this[i+a]=e/o&255;return i+r},"writeUIntLE");y.prototype.writeUintBE=y.prototype.writeUIntBE=s(function(e,i,r,n){if(e=+e,i=i>>>0,r=r>>>0,!n){let c=Math.pow(2,8*r)-1;le(this,e,i,r,c,0)}let o=r-1,a=1;for(this[i+o]=e&255;--o>=0&&(a*=256);)this[i+o]=e/a&255;return i+r},"writeUIntBE");y.prototype.writeUint8=y.prototype.writeUInt8=s(function(e,i,r){return e=+e,i=i>>>0,r||le(this,e,i,1,255,0),this[i]=e&255,i+1},"writeUInt8");y.prototype.writeUint16LE=y.prototype.writeUInt16LE=s(function(e,i,r){return e=+e,i=i>>>0,r||le(this,e,i,2,65535,0),this[i]=e&255,this[i+1]=e>>>8,i+2},"writeUInt16LE");y.prototype.writeUint16BE=y.prototype.writeUInt16BE=s(function(e,i,r){return e=+e,i=i>>>0,r||le(this,e,i,2,65535,0),this[i]=e>>>8,this[i+1]=e&255,i+2},"writeUInt16BE");y.prototype.writeUint32LE=y.prototype.writeUInt32LE=s(function(e,i,r){return e=+e,i=i>>>0,r||le(this,e,i,4,4294967295,0),this[i+3]=e>>>24,this[i+2]=e>>>16,this[i+1]=e>>>8,this[i]=e&255,i+4},"writeUInt32LE");y.prototype.writeUint32BE=y.prototype.writeUInt32BE=s(function(e,i,r){return e=+e,i=i>>>0,r||le(this,e,i,4,4294967295,0),this[i]=e>>>24,this[i+1]=e>>>16,this[i+2]=e>>>8,this[i+3]=e&255,i+4},"writeUInt32BE");function ba(t,e,i,r,n){Ea(e,r,n,t,i,7);let o=Number(e&BigInt(4294967295));t[i++]=o,o=o>>8,t[i++]=o,o=o>>8,t[i++]=o,o=o>>8,t[i++]=o;let a=Number(e>>BigInt(32)&BigInt(4294967295));return t[i++]=a,a=a>>8,t[i++]=a,a=a>>8,t[i++]=a,a=a>>8,t[i++]=a,i}s(ba,"wrtBigUInt64LE");function ga(t,e,i,r,n){Ea(e,r,n,t,i,7);let o=Number(e&BigInt(4294967295));t[i+7]=o,o=o>>8,t[i+6]=o,o=o>>8,t[i+5]=o,o=o>>8,t[i+4]=o;let a=Number(e>>BigInt(32)&BigInt(4294967295));return t[i+3]=a,a=a>>8,t[i+2]=a,a=a>>8,t[i+1]=a,a=a>>8,t[i]=a,i+8}s(ga,"wrtBigUInt64BE");y.prototype.writeBigUInt64LE=yt(s(function(e,i=0){return ba(this,e,i,BigInt(0),BigInt("0xffffffffffffffff"))},"writeBigUInt64LE"));y.prototype.writeBigUInt64BE=yt(s(function(e,i=0){return ga(this,e,i,BigInt(0),BigInt("0xffffffffffffffff"))},"writeBigUInt64BE"));y.prototype.writeIntLE=s(function(e,i,r,n){if(e=+e,i=i>>>0,!n){let l=Math.pow(2,8*r-1);le(this,e,i,r,l-1,-l)}let o=0,a=1,c=0;for(this[i]=e&255;++o<r&&(a*=256);)e<0&&c===0&&this[i+o-1]!==0&&(c=1),this[i+o]=(e/a>>0)-c&255;return i+r},"writeIntLE");y.prototype.writeIntBE=s(function(e,i,r,n){if(e=+e,i=i>>>0,!n){let l=Math.pow(2,8*r-1);le(this,e,i,r,l-1,-l)}let o=r-1,a=1,c=0;for(this[i+o]=e&255;--o>=0&&(a*=256);)e<0&&c===0&&this[i+o+1]!==0&&(c=1),this[i+o]=(e/a>>0)-c&255;return i+r},"writeIntBE");y.prototype.writeInt8=s(function(e,i,r){return e=+e,i=i>>>0,r||le(this,e,i,1,127,-128),e<0&&(e=255+e+1),this[i]=e&255,i+1},"writeInt8");y.prototype.writeInt16LE=s(function(e,i,r){return e=+e,i=i>>>0,r||le(this,e,i,2,32767,-32768),this[i]=e&255,this[i+1]=e>>>8,i+2},"writeInt16LE");y.prototype.writeInt16BE=s(function(e,i,r){return e=+e,i=i>>>0,r||le(this,e,i,2,32767,-32768),this[i]=e>>>8,this[i+1]=e&255,i+2},"writeInt16BE");y.prototype.writeInt32LE=s(function(e,i,r){return e=+e,i=i>>>0,r||le(this,e,i,4,2147483647,-2147483648),this[i]=e&255,this[i+1]=e>>>8,this[i+2]=e>>>16,this[i+3]=e>>>24,i+4},"writeInt32LE");y.prototype.writeInt32BE=s(function(e,i,r){return e=+e,i=i>>>0,r||le(this,e,i,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[i]=e>>>24,this[i+1]=e>>>16,this[i+2]=e>>>8,this[i+3]=e&255,i+4},"writeInt32BE");y.prototype.writeBigInt64LE=yt(s(function(e,i=0){return ba(this,e,i,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))},"writeBigInt64LE"));y.prototype.writeBigInt64BE=yt(s(function(e,i=0){return ga(this,e,i,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))},"writeBigInt64BE"));function wa(t,e,i,r,n,o){if(i+r>t.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}s(wa,"checkIEEE754");function Sa(t,e,i,r,n){return e=+e,i=i>>>0,n||wa(t,e,i,4,34028234663852886e22,-34028234663852886e22),ni.write(t,e,i,r,23,4),i+4}s(Sa,"writeFloat");y.prototype.writeFloatLE=s(function(e,i,r){return Sa(this,e,i,!0,r)},"writeFloatLE");y.prototype.writeFloatBE=s(function(e,i,r){return Sa(this,e,i,!1,r)},"writeFloatBE");function _a(t,e,i,r,n){return e=+e,i=i>>>0,n||wa(t,e,i,8,17976931348623157e292,-17976931348623157e292),ni.write(t,e,i,r,52,8),i+8}s(_a,"writeDouble");y.prototype.writeDoubleLE=s(function(e,i,r){return _a(this,e,i,!0,r)},"writeDoubleLE");y.prototype.writeDoubleBE=s(function(e,i,r){return _a(this,e,i,!1,r)},"writeDoubleBE");y.prototype.copy=s(function(e,i,r,n){if(!y.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),!n&&n!==0&&(n=this.length),i>=e.length&&(i=e.length),i||(i=0),n>0&&n<r&&(n=r),n===r||e.length===0||this.length===0)return 0;if(i<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-i<n-r&&(n=e.length-i+r);let o=n-r;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(i,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),i),o},"copy");y.prototype.fill=s(function(e,i,r,n){if(typeof e=="string"){if(typeof i=="string"?(n=i,i=0,r=this.length):typeof r=="string"&&(n=r,r=this.length),n!==void 0&&typeof n!="string")throw new TypeError("encoding must be a string");if(typeof n=="string"&&!y.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(e.length===1){let a=e.charCodeAt(0);(n==="utf8"&&a<128||n==="latin1")&&(e=a)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(i<0||this.length<i||this.length<r)throw new RangeError("Out of range index");if(r<=i)return this;i=i>>>0,r=r===void 0?this.length:r>>>0,e||(e=0);let o;if(typeof e=="number")for(o=i;o<r;++o)this[o]=e;else{let a=y.isBuffer(e)?e:y.from(e,n),c=a.length;if(c===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<r-i;++o)this[o+i]=a[o%c]}return this},"fill");var ri={};function Zn(t,e,i){ri[t]=class extends i{static{s(this,"NodeError")}constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(n){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:n,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}s(Zn,"E");Zn("ERR_BUFFER_OUT_OF_BOUNDS",function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);Zn("ERR_INVALID_ARG_TYPE",function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`},TypeError);Zn("ERR_OUT_OF_RANGE",function(t,e,i){let r=`The value of "${t}" is out of range.`,n=i;return Number.isInteger(i)&&Math.abs(i)>2**32?n=ua(String(i)):typeof i=="bigint"&&(n=String(i),(i>BigInt(2)**BigInt(32)||i<-(BigInt(2)**BigInt(32)))&&(n=ua(n)),n+="n"),r+=` It must be ${e}. Received ${n}`,r},RangeError);function ua(t){let e="",i=t.length,r=t[0]==="-"?1:0;for(;i>=r+4;i-=3)e=`_${t.slice(i-3,i)}${e}`;return`${t.slice(0,i)}${e}`}s(ua,"addNumericalSeparator");function _h(t,e,i){oi(e,"offset"),(t[e]===void 0||t[e+i]===void 0)&&$i(e,t.length-(i+1))}s(_h,"checkBounds");function Ea(t,e,i,r,n,o){if(t>i||t<e){let a=typeof e=="bigint"?"n":"",c;throw o>3?e===0||e===BigInt(0)?c=`>= 0${a} and < 2${a} ** ${(o+1)*8}${a}`:c=`>= -(2${a} ** ${(o+1)*8-1}${a}) and < 2 ** ${(o+1)*8-1}${a}`:c=`>= ${e}${a} and <= ${i}${a}`,new ri.ERR_OUT_OF_RANGE("value",c,t)}_h(r,n,o)}s(Ea,"checkIntBI");function oi(t,e){if(typeof t!="number")throw new ri.ERR_INVALID_ARG_TYPE(e,"number",t)}s(oi,"validateNumber");function $i(t,e,i){throw Math.floor(t)!==t?(oi(t,i),new ri.ERR_OUT_OF_RANGE(i||"offset","an integer",t)):e<0?new ri.ERR_BUFFER_OUT_OF_BOUNDS:new ri.ERR_OUT_OF_RANGE(i||"offset",`>= ${i?1:0} and <= ${e}`,t)}s($i,"boundsError");var Eh=/[^+/0-9A-Za-z-_]/g;function xh(t){if(t=t.split("=")[0],t=t.trim().replace(Eh,""),t.length<2)return"";for(;t.length%4!==0;)t=t+"=";return t}s(xh,"base64clean");function Xn(t,e){e=e||1/0;let i,r=t.length,n=null,o=[];for(let a=0;a<r;++a){if(i=t.charCodeAt(a),i>55295&&i<57344){if(!n){if(i>56319){(e-=3)>-1&&o.push(239,191,189);continue}else if(a+1===r){(e-=3)>-1&&o.push(239,191,189);continue}n=i;continue}if(i<56320){(e-=3)>-1&&o.push(239,191,189),n=i;continue}i=(n-55296<<10|i-56320)+65536}else n&&(e-=3)>-1&&o.push(239,191,189);if(n=null,i<128){if((e-=1)<0)break;o.push(i)}else if(i<2048){if((e-=2)<0)break;o.push(i>>6|192,i&63|128)}else if(i<65536){if((e-=3)<0)break;o.push(i>>12|224,i>>6&63|128,i&63|128)}else if(i<1114112){if((e-=4)<0)break;o.push(i>>18|240,i>>12&63|128,i>>6&63|128,i&63|128)}else throw new Error("Invalid code point")}return o}s(Xn,"utf8ToBytes");function kh(t){let e=[];for(let i=0;i<t.length;++i)e.push(t.charCodeAt(i)&255);return e}s(kh,"asciiToBytes");function vh(t,e){let i,r,n,o=[];for(let a=0;a<t.length&&!((e-=2)<0);++a)i=t.charCodeAt(a),r=i>>8,n=i%256,o.push(n),o.push(r);return o}s(vh,"utf16leToBytes");function xa(t){return Gn.toByteArray(xh(t))}s(xa,"base64ToBytes");function Ar(t,e,i,r){let n;for(n=0;n<r&&!(n+i>=e.length||n>=t.length);++n)e[n+i]=t[n];return n}s(Ar,"blitBuffer");function qe(t,e){return t instanceof e||t!=null&&t.constructor!=null&&t.constructor.name!=null&&t.constructor.name===e.name}s(qe,"isInstance");function eo(t){return t!==t}s(eo,"numberIsNaN");var Fh=function(){let t="0123456789abcdef",e=new Array(256);for(let i=0;i<16;++i){let r=i*16;for(let n=0;n<16;++n)e[r+n]=t[i]+t[n]}return e}();function yt(t){return typeof BigInt>"u"?Ih:t}s(yt,"defineBigIntMethod");function Ih(){throw new Error("BigInt not supported")}s(Ih,"BufferBigIntNotDefined")});var U=T((tE,Ka)=>{"use strict";Ka.exports={ArrayIsArray:s(function(t){return Array.isArray(t)},"ArrayIsArray"),ArrayPrototypeIncludes:s(function(t,e){return t.includes(e)},"ArrayPrototypeIncludes"),ArrayPrototypeIndexOf:s(function(t,e){return t.indexOf(e)},"ArrayPrototypeIndexOf"),ArrayPrototypeJoin:s(function(t,e){return t.join(e)},"ArrayPrototypeJoin"),ArrayPrototypeMap:s(function(t,e){return t.map(e)},"ArrayPrototypeMap"),ArrayPrototypePop:s(function(t,e){return t.pop(e)},"ArrayPrototypePop"),ArrayPrototypePush:s(function(t,e){return t.push(e)},"ArrayPrototypePush"),ArrayPrototypeSlice:s(function(t,e,i){return t.slice(e,i)},"ArrayPrototypeSlice"),Error,FunctionPrototypeCall:s(function(t,e,...i){return t.call(e,...i)},"FunctionPrototypeCall"),FunctionPrototypeSymbolHasInstance:s(function(t,e){return Function.prototype[Symbol.hasInstance].call(t,e)},"FunctionPrototypeSymbolHasInstance"),MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties:s(function(t,e){return Object.defineProperties(t,e)},"ObjectDefineProperties"),ObjectDefineProperty:s(function(t,e,i){return Object.defineProperty(t,e,i)},"ObjectDefineProperty"),ObjectGetOwnPropertyDescriptor:s(function(t,e){return Object.getOwnPropertyDescriptor(t,e)},"ObjectGetOwnPropertyDescriptor"),ObjectKeys:s(function(t){return Object.keys(t)},"ObjectKeys"),ObjectSetPrototypeOf:s(function(t,e){return Object.setPrototypeOf(t,e)},"ObjectSetPrototypeOf"),Promise,PromisePrototypeCatch:s(function(t,e){return t.catch(e)},"PromisePrototypeCatch"),PromisePrototypeThen:s(function(t,e,i){return t.then(e,i)},"PromisePrototypeThen"),PromiseReject:s(function(t){return Promise.reject(t)},"PromiseReject"),PromiseResolve:s(function(t){return Promise.resolve(t)},"PromiseResolve"),ReflectApply:Reflect.apply,RegExpPrototypeTest:s(function(t,e){return t.test(e)},"RegExpPrototypeTest"),SafeSet:Set,String,StringPrototypeSlice:s(function(t,e,i){return t.slice(e,i)},"StringPrototypeSlice"),StringPrototypeToLowerCase:s(function(t){return t.toLowerCase()},"StringPrototypeToLowerCase"),StringPrototypeToUpperCase:s(function(t){return t.toUpperCase()},"StringPrototypeToUpperCase"),StringPrototypeTrim:s(function(t){return t.trim()},"StringPrototypeTrim"),Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet:s(function(t,e,i){return t.set(e,i)},"TypedArrayPrototypeSet"),Boolean,Uint8Array}});var ci=T((rE,Mr)=>{"use strict";var{AbortController:Xa,AbortSignal:Ah}=typeof self<"u"?self:typeof window<"u"?window:void 0;Mr.exports=Xa;Mr.exports.AbortSignal=Ah;Mr.exports.default=Xa});var Ji=T((nE,co)=>{"use strict";var li=typeof Reflect=="object"?Reflect:null,Ja=li&&typeof li.apply=="function"?li.apply:s(function(e,i,r){return Function.prototype.apply.call(e,i,r)},"ReflectApply"),Ur;li&&typeof li.ownKeys=="function"?Ur=li.ownKeys:Object.getOwnPropertySymbols?Ur=s(function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))},"ReflectOwnKeys"):Ur=s(function(e){return Object.getOwnPropertyNames(e)},"ReflectOwnKeys");function Oh(t){console&&console.warn&&console.warn(t)}s(Oh,"ProcessEmitWarning");var Za=Number.isNaN||s(function(e){return e!==e},"NumberIsNaN");function N(){N.init.call(this)}s(N,"EventEmitter");co.exports=N;co.exports.once=Nh;N.EventEmitter=N;N.prototype._events=void 0;N.prototype._eventsCount=0;N.prototype._maxListeners=void 0;var Qa=10;function Wr(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}s(Wr,"checkListener");Object.defineProperty(N,"defaultMaxListeners",{enumerable:!0,get:s(function(){return Qa},"get"),set:s(function(t){if(typeof t!="number"||t<0||Za(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");Qa=t},"set")});N.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};N.prototype.setMaxListeners=s(function(e){if(typeof e!="number"||e<0||Za(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},"setMaxListeners");function ec(t){return t._maxListeners===void 0?N.defaultMaxListeners:t._maxListeners}s(ec,"_getMaxListeners");N.prototype.getMaxListeners=s(function(){return ec(this)},"getMaxListeners");N.prototype.emit=s(function(e){for(var i=[],r=1;r<arguments.length;r++)i.push(arguments[r]);var n=e==="error",o=this._events;if(o!==void 0)n=n&&o.error===void 0;else if(!n)return!1;if(n){var a;if(i.length>0&&(a=i[0]),a instanceof Error)throw a;var c=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw c.context=a,c}var l=o[e];if(l===void 0)return!1;if(typeof l=="function")Ja(l,this,i);else for(var f=l.length,d=oc(l,f),r=0;r<f;++r)Ja(d[r],this,i);return!0},"emit");function tc(t,e,i,r){var n,o,a;if(Wr(i),o=t._events,o===void 0?(o=t._events=Object.create(null),t._eventsCount=0):(o.newListener!==void 0&&(t.emit("newListener",e,i.listener?i.listener:i),o=t._events),a=o[e]),a===void 0)a=o[e]=i,++t._eventsCount;else if(typeof a=="function"?a=o[e]=r?[i,a]:[a,i]:r?a.unshift(i):a.push(i),n=ec(t),n>0&&a.length>n&&!a.warned){a.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=t,c.type=e,c.count=a.length,Oh(c)}return t}s(tc,"_addListener");N.prototype.addListener=s(function(e,i){return tc(this,e,i,!1)},"addListener");N.prototype.on=N.prototype.addListener;N.prototype.prependListener=s(function(e,i){return tc(this,e,i,!0)},"prependListener");function Th(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}s(Th,"onceWrapper");function ic(t,e,i){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:i},n=Th.bind(r);return n.listener=i,r.wrapFn=n,n}s(ic,"_onceWrap");N.prototype.once=s(function(e,i){return Wr(i),this.on(e,ic(this,e,i)),this},"once");N.prototype.prependOnceListener=s(function(e,i){return Wr(i),this.prependListener(e,ic(this,e,i)),this},"prependOnceListener");N.prototype.removeListener=s(function(e,i){var r,n,o,a,c;if(Wr(i),n=this._events,n===void 0)return this;if(r=n[e],r===void 0)return this;if(r===i||r.listener===i)--this._eventsCount===0?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||i));else if(typeof r!="function"){for(o=-1,a=r.length-1;a>=0;a--)if(r[a]===i||r[a].listener===i){c=r[a].listener,o=a;break}if(o<0)return this;o===0?r.shift():Ch(r,o),r.length===1&&(n[e]=r[0]),n.removeListener!==void 0&&this.emit("removeListener",e,c||i)}return this},"removeListener");N.prototype.off=N.prototype.removeListener;N.prototype.removeAllListeners=s(function(e){var i,r,n;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[e]),this;if(arguments.length===0){var o=Object.keys(r),a;for(n=0;n<o.length;++n)a=o[n],a!=="removeListener"&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(i=r[e],typeof i=="function")this.removeListener(e,i);else if(i!==void 0)for(n=i.length-1;n>=0;n--)this.removeListener(e,i[n]);return this},"removeAllListeners");function rc(t,e,i){var r=t._events;if(r===void 0)return[];var n=r[e];return n===void 0?[]:typeof n=="function"?i?[n.listener||n]:[n]:i?Rh(n):oc(n,n.length)}s(rc,"_listeners");N.prototype.listeners=s(function(e){return rc(this,e,!0)},"listeners");N.prototype.rawListeners=s(function(e){return rc(this,e,!1)},"rawListeners");N.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):nc.call(t,e)};N.prototype.listenerCount=nc;function nc(t){var e=this._events;if(e!==void 0){var i=e[t];if(typeof i=="function")return 1;if(i!==void 0)return i.length}return 0}s(nc,"listenerCount");N.prototype.eventNames=s(function(){return this._eventsCount>0?Ur(this._events):[]},"eventNames");function oc(t,e){for(var i=new Array(e),r=0;r<e;++r)i[r]=t[r];return i}s(oc,"arrayClone");function Ch(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}s(Ch,"spliceOne");function Rh(t){for(var e=new Array(t.length),i=0;i<e.length;++i)e[i]=t[i].listener||t[i];return e}s(Rh,"unwrapListeners");function Nh(t,e){return new Promise(function(i,r){function n(a){t.removeListener(e,o),r(a)}s(n,"errorListener");function o(){typeof t.removeListener=="function"&&t.removeListener("error",n),i([].slice.call(arguments))}s(o,"resolver"),sc(t,e,o,{once:!0}),e!=="error"&&Lh(t,n,{once:!0})})}s(Nh,"once");function Lh(t,e,i){typeof t.on=="function"&&sc(t,"error",e,i)}s(Lh,"addErrorHandlerIfEventEmitter");function sc(t,e,i,r){if(typeof t.on=="function")r.once?t.once(e,i):t.on(e,i);else if(typeof t.addEventListener=="function")t.addEventListener(e,s(function n(o){r.once&&t.removeEventListener(e,n),i(o)},"wrapListener"));else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}s(sc,"eventTargetAgnosticAddListener")});var re=T((sE,fo)=>{"use strict";var Bh=_e(),{kResistStopPropagation:Dh,SymbolDispose:Mh}=U(),Uh=globalThis.AbortSignal||ci().AbortSignal,Wh=globalThis.AbortController||ci().AbortController,jh=Object.getPrototypeOf(async function(){}).constructor,ac=globalThis.Blob||Bh.Blob,qh=s(typeof ac<"u"?function(e){return e instanceof ac}:function(e){return!1},"isBlob"),cc=s((t,e)=>{if(t!==void 0&&(t===null||typeof t!="object"||!("aborted"in t)))throw new ERR_INVALID_ARG_TYPE(e,"AbortSignal",t)},"validateAbortSignal"),$h=s((t,e)=>{if(typeof t!="function")throw new ERR_INVALID_ARG_TYPE(e,"Function",t)},"validateFunction"),lo=class extends Error{static{s(this,"AggregateError")}constructor(e){if(!Array.isArray(e))throw new TypeError(`Expected input to be an Array, got ${typeof e}`);let i="";for(let r=0;r<e.length;r++)i+=`    ${e[r].stack}
`;super(i),this.name="AggregateError",this.errors=e}};fo.exports={AggregateError:lo,kEmptyObject:Object.freeze({}),once:s(function(t){let e=!1;return function(...i){e||(e=!0,t.apply(this,i))}},"once"),createDeferredPromise:s(function(){let t,e;return{promise:new Promise((r,n)=>{t=r,e=n}),resolve:t,reject:e}},"createDeferredPromise"),promisify:s(function(t){return new Promise((e,i)=>{t((r,...n)=>r?i(r):e(...n))})},"promisify"),debuglog:s(function(){return function(){}},"debuglog"),format:s(function(t,...e){return t.replace(/%([sdifj])/g,function(...[i,r]){let n=e.shift();return r==="f"?n.toFixed(6):r==="j"?JSON.stringify(n):r==="s"&&typeof n=="object"?`${n.constructor!==Object?n.constructor.name:""} {}`.trim():n.toString()})},"format"),inspect:s(function(t){switch(typeof t){case"string":if(t.includes("'"))if(t.includes('"')){if(!t.includes("`")&&!t.includes("${"))return`\`${t}\``}else return`"${t}"`;return`'${t}'`;case"number":return isNaN(t)?"NaN":Object.is(t,-0)?String(t):t;case"bigint":return`${String(t)}n`;case"boolean":case"undefined":return String(t);case"object":return"{}"}},"inspect"),types:{isAsyncFunction:s(function(t){return t instanceof jh},"isAsyncFunction"),isArrayBufferView:s(function(t){return ArrayBuffer.isView(t)},"isArrayBufferView")},isBlob:qh,deprecate:s(function(t,e){return t},"deprecate"),addAbortListener:Ji().addAbortListener||s(function(e,i){if(e===void 0)throw new ERR_INVALID_ARG_TYPE("signal","AbortSignal",e);cc(e,"signal"),$h(i,"listener");let r;return e.aborted?queueMicrotask(()=>i()):(e.addEventListener("abort",i,{__proto__:null,once:!0,[Dh]:!0}),r=s(()=>{e.removeEventListener("abort",i)},"removeEventListener")),{__proto__:null,[Mh](){var n;(n=r)===null||n===void 0||n()}}},"addAbortListener"),AbortSignalAny:Uh.any||s(function(e){if(e.length===1)return e[0];let i=new Wh,r=s(()=>i.abort(),"abort");return e.forEach(n=>{cc(n,"signals"),n.addEventListener("abort",r,{once:!0})}),i.signal.addEventListener("abort",()=>{e.forEach(n=>n.removeEventListener("abort",r))},{once:!0}),i.signal},"AbortSignalAny")};fo.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")});var se=T((cE,uc)=>{"use strict";var{format:zh,inspect:jr,AggregateError:Vh}=re(),Hh=globalThis.AggregateError||Vh,Gh=Symbol("kIsNodeError"),Yh=["string","function","number","object","Function","Object","boolean","bigint","symbol"],Kh=/^([A-Z][a-z0-9]*)+$/,Xh="__node_internal_",qr={};function Bt(t,e){if(!t)throw new qr.ERR_INTERNAL_ASSERTION(e)}s(Bt,"assert");function lc(t){let e="",i=t.length,r=t[0]==="-"?1:0;for(;i>=r+4;i-=3)e=`_${t.slice(i-3,i)}${e}`;return`${t.slice(0,i)}${e}`}s(lc,"addNumericalSeparator");function Jh(t,e,i){if(typeof e=="function")return Bt(e.length<=i.length,`Code: ${t}; The provided arguments length (${i.length}) does not match the required ones (${e.length}).`),e(...i);let r=(e.match(/%[dfijoOs]/g)||[]).length;return Bt(r===i.length,`Code: ${t}; The provided arguments length (${i.length}) does not match the required ones (${r}).`),i.length===0?e:zh(e,...i)}s(Jh,"getMessage");function ee(t,e,i){i||(i=Error);class r extends i{static{s(this,"NodeError")}constructor(...o){super(Jh(t,e,o))}toString(){return`${this.name} [${t}]: ${this.message}`}}Object.defineProperties(r.prototype,{name:{value:i.name,writable:!0,enumerable:!1,configurable:!0},toString:{value:s(function(){return`${this.name} [${t}]: ${this.message}`},"value"),writable:!0,enumerable:!1,configurable:!0}}),r.prototype.code=t,r.prototype[Gh]=!0,qr[t]=r}s(ee,"E");function fc(t){let e=Xh+t.name;return Object.defineProperty(t,"name",{value:e}),t}s(fc,"hideStackFrames");function Qh(t,e){if(t&&e&&t!==e){if(Array.isArray(e.errors))return e.errors.push(t),e;let i=new Hh([e,t],e.message);return i.code=e.code,i}return t||e}s(Qh,"aggregateTwoErrors");var uo=class extends Error{static{s(this,"AbortError")}constructor(e="The operation was aborted",i=void 0){if(i!==void 0&&typeof i!="object")throw new qr.ERR_INVALID_ARG_TYPE("options","Object",i);super(e,i),this.code="ABORT_ERR",this.name="AbortError"}};ee("ERR_ASSERTION","%s",Error);ee("ERR_INVALID_ARG_TYPE",(t,e,i)=>{Bt(typeof t=="string","'name' must be a string"),Array.isArray(e)||(e=[e]);let r="The ";t.endsWith(" argument")?r+=`${t} `:r+=`"${t}" ${t.includes(".")?"property":"argument"} `,r+="must be ";let n=[],o=[],a=[];for(let l of e)Bt(typeof l=="string","All expected entries have to be of type string"),Yh.includes(l)?n.push(l.toLowerCase()):Kh.test(l)?o.push(l):(Bt(l!=="object",'The value "object" should be written as "Object"'),a.push(l));if(o.length>0){let l=n.indexOf("object");l!==-1&&(n.splice(n,l,1),o.push("Object"))}if(n.length>0){switch(n.length){case 1:r+=`of type ${n[0]}`;break;case 2:r+=`one of type ${n[0]} or ${n[1]}`;break;default:{let l=n.pop();r+=`one of type ${n.join(", ")}, or ${l}`}}(o.length>0||a.length>0)&&(r+=" or ")}if(o.length>0){switch(o.length){case 1:r+=`an instance of ${o[0]}`;break;case 2:r+=`an instance of ${o[0]} or ${o[1]}`;break;default:{let l=o.pop();r+=`an instance of ${o.join(", ")}, or ${l}`}}a.length>0&&(r+=" or ")}switch(a.length){case 0:break;case 1:a[0].toLowerCase()!==a[0]&&(r+="an "),r+=`${a[0]}`;break;case 2:r+=`one of ${a[0]} or ${a[1]}`;break;default:{let l=a.pop();r+=`one of ${a.join(", ")}, or ${l}`}}if(i==null)r+=`. Received ${i}`;else if(typeof i=="function"&&i.name)r+=`. Received function ${i.name}`;else if(typeof i=="object"){var c;if((c=i.constructor)!==null&&c!==void 0&&c.name)r+=`. Received an instance of ${i.constructor.name}`;else{let l=jr(i,{depth:-1});r+=`. Received ${l}`}}else{let l=jr(i,{colors:!1});l.length>25&&(l=`${l.slice(0,25)}...`),r+=`. Received type ${typeof i} (${l})`}return r},TypeError);ee("ERR_INVALID_ARG_VALUE",(t,e,i="is invalid")=>{let r=jr(e);return r.length>128&&(r=r.slice(0,128)+"..."),`The ${t.includes(".")?"property":"argument"} '${t}' ${i}. Received ${r}`},TypeError);ee("ERR_INVALID_RETURN_VALUE",(t,e,i)=>{var r;let n=i!=null&&(r=i.constructor)!==null&&r!==void 0&&r.name?`instance of ${i.constructor.name}`:`type ${typeof i}`;return`Expected ${t} to be returned from the "${e}" function but got ${n}.`},TypeError);ee("ERR_MISSING_ARGS",(...t)=>{Bt(t.length>0,"At least one arg needs to be specified");let e,i=t.length;switch(t=(Array.isArray(t)?t:[t]).map(r=>`"${r}"`).join(" or "),i){case 1:e+=`The ${t[0]} argument`;break;case 2:e+=`The ${t[0]} and ${t[1]} arguments`;break;default:{let r=t.pop();e+=`The ${t.join(", ")}, and ${r} arguments`}break}return`${e} must be specified`},TypeError);ee("ERR_OUT_OF_RANGE",(t,e,i)=>{Bt(e,'Missing "range" argument');let r;return Number.isInteger(i)&&Math.abs(i)>2**32?r=lc(String(i)):typeof i=="bigint"?(r=String(i),(i>2n**32n||i<-(2n**32n))&&(r=lc(r)),r+="n"):r=jr(i),`The value of "${t}" is out of range. It must be ${e}. Received ${r}`},RangeError);ee("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error);ee("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error);ee("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error);ee("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error);ee("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error);ee("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);ee("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error);ee("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error);ee("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error);ee("ERR_STREAM_WRITE_AFTER_END","write after end",Error);ee("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError);uc.exports={AbortError:uo,aggregateTwoErrors:fc(Qh),hideStackFrames:fc,codes:qr}});var ui=T((fE,_c)=>{"use strict";var{ArrayIsArray:po,ArrayPrototypeIncludes:yc,ArrayPrototypeJoin:mc,ArrayPrototypeMap:Zh,NumberIsInteger:yo,NumberIsNaN:ep,NumberMAX_SAFE_INTEGER:tp,NumberMIN_SAFE_INTEGER:ip,NumberParseInt:rp,ObjectPrototypeHasOwnProperty:np,RegExpPrototypeExec:bc,String:op,StringPrototypeToUpperCase:sp,StringPrototypeTrim:ap}=U(),{hideStackFrames:xe,codes:{ERR_SOCKET_BAD_PORT:cp,ERR_INVALID_ARG_TYPE:ne,ERR_INVALID_ARG_VALUE:fi,ERR_OUT_OF_RANGE:Dt,ERR_UNKNOWN_SIGNAL:dc}}=se(),{normalizeEncoding:lp}=re(),{isAsyncFunction:fp,isArrayBufferView:up}=re().types,hc={};function dp(t){return t===(t|0)}s(dp,"isInt32");function hp(t){return t===t>>>0}s(hp,"isUint32");var pp=/^[0-7]+$/,yp="must be a 32-bit unsigned integer or an octal string";function mp(t,e,i){if(typeof t>"u"&&(t=i),typeof t=="string"){if(bc(pp,t)===null)throw new fi(e,t,yp);t=rp(t,8)}return gc(t,e),t}s(mp,"parseFileMode");var bp=xe((t,e,i=ip,r=tp)=>{if(typeof t!="number")throw new ne(e,"number",t);if(!yo(t))throw new Dt(e,"an integer",t);if(t<i||t>r)throw new Dt(e,`>= ${i} && <= ${r}`,t)}),gp=xe((t,e,i=-2147483648,r=2147483647)=>{if(typeof t!="number")throw new ne(e,"number",t);if(!yo(t))throw new Dt(e,"an integer",t);if(t<i||t>r)throw new Dt(e,`>= ${i} && <= ${r}`,t)}),gc=xe((t,e,i=!1)=>{if(typeof t!="number")throw new ne(e,"number",t);if(!yo(t))throw new Dt(e,"an integer",t);let r=i?1:0,n=4294967295;if(t<r||t>n)throw new Dt(e,`>= ${r} && <= ${n}`,t)});function mo(t,e){if(typeof t!="string")throw new ne(e,"string",t)}s(mo,"validateString");function wp(t,e,i=void 0,r){if(typeof t!="number")throw new ne(e,"number",t);if(i!=null&&t<i||r!=null&&t>r||(i!=null||r!=null)&&ep(t))throw new Dt(e,`${i!=null?`>= ${i}`:""}${i!=null&&r!=null?" && ":""}${r!=null?`<= ${r}`:""}`,t)}s(wp,"validateNumber");var Sp=xe((t,e,i)=>{if(!yc(i,t)){let n="must be one of: "+mc(Zh(i,o=>typeof o=="string"?`'${o}'`:op(o)),", ");throw new fi(e,t,n)}});function wc(t,e){if(typeof t!="boolean")throw new ne(e,"boolean",t)}s(wc,"validateBoolean");function ho(t,e,i){return t==null||!np(t,e)?i:t[e]}s(ho,"getOwnPropertyValueOrDefault");var _p=xe((t,e,i=null)=>{let r=ho(i,"allowArray",!1),n=ho(i,"allowFunction",!1);if(!ho(i,"nullable",!1)&&t===null||!r&&po(t)||typeof t!="object"&&(!n||typeof t!="function"))throw new ne(e,"Object",t)}),Ep=xe((t,e)=>{if(t!=null&&typeof t!="object"&&typeof t!="function")throw new ne(e,"a dictionary",t)}),$r=xe((t,e,i=0)=>{if(!po(t))throw new ne(e,"Array",t);if(t.length<i){let r=`must be longer than ${i}`;throw new fi(e,t,r)}});function xp(t,e){$r(t,e);for(let i=0;i<t.length;i++)mo(t[i],`${e}[${i}]`)}s(xp,"validateStringArray");function kp(t,e){$r(t,e);for(let i=0;i<t.length;i++)wc(t[i],`${e}[${i}]`)}s(kp,"validateBooleanArray");function vp(t,e){$r(t,e);for(let i=0;i<t.length;i++){let r=t[i],n=`${e}[${i}]`;if(r==null)throw new ne(n,"AbortSignal",r);Sc(r,n)}}s(vp,"validateAbortSignalArray");function Fp(t,e="signal"){if(mo(t,e),hc[t]===void 0)throw hc[sp(t)]!==void 0?new dc(t+" (signals must use all capital letters)"):new dc(t)}s(Fp,"validateSignalName");var Ip=xe((t,e="buffer")=>{if(!up(t))throw new ne(e,["Buffer","TypedArray","DataView"],t)});function Pp(t,e){let i=lp(e),r=t.length;if(i==="hex"&&r%2!==0)throw new fi("encoding",e,`is invalid for data of length ${r}`)}s(Pp,"validateEncoding");function Ap(t,e="Port",i=!0){if(typeof t!="number"&&typeof t!="string"||typeof t=="string"&&ap(t).length===0||+t!==+t>>>0||t>65535||t===0&&!i)throw new cp(e,t,i);return t|0}s(Ap,"validatePort");var Sc=xe((t,e)=>{if(t!==void 0&&(t===null||typeof t!="object"||!("aborted"in t)))throw new ne(e,"AbortSignal",t)}),Op=xe((t,e)=>{if(typeof t!="function")throw new ne(e,"Function",t)}),Tp=xe((t,e)=>{if(typeof t!="function"||fp(t))throw new ne(e,"Function",t)}),Cp=xe((t,e)=>{if(t!==void 0)throw new ne(e,"undefined",t)});function Rp(t,e,i){if(!yc(i,t))throw new ne(e,`('${mc(i,"|")}')`,t)}s(Rp,"validateUnion");var Np=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function pc(t,e){if(typeof t>"u"||!bc(Np,t))throw new fi(e,t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}s(pc,"validateLinkHeaderFormat");function Lp(t){if(typeof t=="string")return pc(t,"hints"),t;if(po(t)){let e=t.length,i="";if(e===0)return i;for(let r=0;r<e;r++){let n=t[r];pc(n,"hints"),i+=n,r!==e-1&&(i+=", ")}return i}throw new fi("hints",t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}s(Lp,"validateLinkHeaderValue");_c.exports={isInt32:dp,isUint32:hp,parseFileMode:mp,validateArray:$r,validateStringArray:xp,validateBooleanArray:kp,validateAbortSignalArray:vp,validateBoolean:wc,validateBuffer:Ip,validateDictionary:Ep,validateEncoding:Pp,validateFunction:Op,validateInt32:gp,validateInteger:bp,validateNumber:wp,validateObject:_p,validateOneOf:Sp,validatePlainFunction:Tp,validatePort:Ap,validateSignalName:Fp,validateString:mo,validateUint32:gc,validateUndefined:Cp,validateUnion:Rp,validateAbortSignal:Sc,validateLinkHeaderValue:Lp}});var St=T((dE,vc)=>{var V=vc.exports={},Ve,He;function bo(){throw new Error("setTimeout has not been defined")}s(bo,"defaultSetTimout");function go(){throw new Error("clearTimeout has not been defined")}s(go,"defaultClearTimeout");(function(){try{typeof setTimeout=="function"?Ve=setTimeout:Ve=bo}catch{Ve=bo}try{typeof clearTimeout=="function"?He=clearTimeout:He=go}catch{He=go}})();function Ec(t){if(Ve===setTimeout)return setTimeout(t,0);if((Ve===bo||!Ve)&&setTimeout)return Ve=setTimeout,setTimeout(t,0);try{return Ve(t,0)}catch{try{return Ve.call(null,t,0)}catch{return Ve.call(this,t,0)}}}s(Ec,"runTimeout");function Bp(t){if(He===clearTimeout)return clearTimeout(t);if((He===go||!He)&&clearTimeout)return He=clearTimeout,clearTimeout(t);try{return He(t)}catch{try{return He.call(null,t)}catch{return He.call(this,t)}}}s(Bp,"runClearTimeout");var st=[],di=!1,Mt,zr=-1;function Dp(){!di||!Mt||(di=!1,Mt.length?st=Mt.concat(st):zr=-1,st.length&&xc())}s(Dp,"cleanUpNextTick");function xc(){if(!di){var t=Ec(Dp);di=!0;for(var e=st.length;e;){for(Mt=st,st=[];++zr<e;)Mt&&Mt[zr].run();zr=-1,e=st.length}Mt=null,di=!1,Bp(t)}}s(xc,"drainQueue");V.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];st.push(new kc(t,e)),st.length===1&&!di&&Ec(xc)};function kc(t,e){this.fun=t,this.array=e}s(kc,"Item");kc.prototype.run=function(){this.fun.apply(null,this.array)};V.title="browser";V.browser=!0;V.env={};V.argv=[];V.version="";V.versions={};function at(){}s(at,"noop");V.on=at;V.addListener=at;V.once=at;V.off=at;V.removeListener=at;V.removeAllListeners=at;V.emit=at;V.prependListener=at;V.prependOnceListener=at;V.listeners=function(t){return[]};V.binding=function(t){throw new Error("process.binding is not supported")};V.cwd=function(){return"/"};V.chdir=function(t){throw new Error("process.chdir is not supported")};V.umask=function(){return 0}});var Ye=T((pE,Wc)=>{"use strict";var{SymbolAsyncIterator:Fc,SymbolIterator:Ic,SymbolFor:Ut}=U(),Pc=Ut("nodejs.stream.destroyed"),Ac=Ut("nodejs.stream.errored"),wo=Ut("nodejs.stream.readable"),So=Ut("nodejs.stream.writable"),Oc=Ut("nodejs.stream.disturbed"),Mp=Ut("nodejs.webstream.isClosedPromise"),Up=Ut("nodejs.webstream.controllerErrorFunction");function Vr(t,e=!1){var i;return!!(t&&typeof t.pipe=="function"&&typeof t.on=="function"&&(!e||typeof t.pause=="function"&&typeof t.resume=="function")&&(!t._writableState||((i=t._readableState)===null||i===void 0?void 0:i.readable)!==!1)&&(!t._writableState||t._readableState))}s(Vr,"isReadableNodeStream");function Hr(t){var e;return!!(t&&typeof t.write=="function"&&typeof t.on=="function"&&(!t._readableState||((e=t._writableState)===null||e===void 0?void 0:e.writable)!==!1))}s(Hr,"isWritableNodeStream");function Wp(t){return!!(t&&typeof t.pipe=="function"&&t._readableState&&typeof t.on=="function"&&typeof t.write=="function")}s(Wp,"isDuplexNodeStream");function Ge(t){return t&&(t._readableState||t._writableState||typeof t.write=="function"&&typeof t.on=="function"||typeof t.pipe=="function"&&typeof t.on=="function")}s(Ge,"isNodeStream");function Tc(t){return!!(t&&!Ge(t)&&typeof t.pipeThrough=="function"&&typeof t.getReader=="function"&&typeof t.cancel=="function")}s(Tc,"isReadableStream");function Cc(t){return!!(t&&!Ge(t)&&typeof t.getWriter=="function"&&typeof t.abort=="function")}s(Cc,"isWritableStream");function Rc(t){return!!(t&&!Ge(t)&&typeof t.readable=="object"&&typeof t.writable=="object")}s(Rc,"isTransformStream");function jp(t){return Tc(t)||Cc(t)||Rc(t)}s(jp,"isWebStream");function qp(t,e){return t==null?!1:e===!0?typeof t[Fc]=="function":e===!1?typeof t[Ic]=="function":typeof t[Fc]=="function"||typeof t[Ic]=="function"}s(qp,"isIterable");function Gr(t){if(!Ge(t))return null;let e=t._writableState,i=t._readableState,r=e||i;return!!(t.destroyed||t[Pc]||r!=null&&r.destroyed)}s(Gr,"isDestroyed");function Nc(t){if(!Hr(t))return null;if(t.writableEnded===!0)return!0;let e=t._writableState;return e!=null&&e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}s(Nc,"isWritableEnded");function $p(t,e){if(!Hr(t))return null;if(t.writableFinished===!0)return!0;let i=t._writableState;return i!=null&&i.errored?!1:typeof i?.finished!="boolean"?null:!!(i.finished||e===!1&&i.ended===!0&&i.length===0)}s($p,"isWritableFinished");function zp(t){if(!Vr(t))return null;if(t.readableEnded===!0)return!0;let e=t._readableState;return!e||e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}s(zp,"isReadableEnded");function Lc(t,e){if(!Vr(t))return null;let i=t._readableState;return i!=null&&i.errored?!1:typeof i?.endEmitted!="boolean"?null:!!(i.endEmitted||e===!1&&i.ended===!0&&i.length===0)}s(Lc,"isReadableFinished");function Bc(t){return t&&t[wo]!=null?t[wo]:typeof t?.readable!="boolean"?null:Gr(t)?!1:Vr(t)&&t.readable&&!Lc(t)}s(Bc,"isReadable");function Dc(t){return t&&t[So]!=null?t[So]:typeof t?.writable!="boolean"?null:Gr(t)?!1:Hr(t)&&t.writable&&!Nc(t)}s(Dc,"isWritable");function Vp(t,e){return Ge(t)?Gr(t)?!0:!(e?.readable!==!1&&Bc(t)||e?.writable!==!1&&Dc(t)):null}s(Vp,"isFinished");function Hp(t){var e,i;return Ge(t)?t.writableErrored?t.writableErrored:(e=(i=t._writableState)===null||i===void 0?void 0:i.errored)!==null&&e!==void 0?e:null:null}s(Hp,"isWritableErrored");function Gp(t){var e,i;return Ge(t)?t.readableErrored?t.readableErrored:(e=(i=t._readableState)===null||i===void 0?void 0:i.errored)!==null&&e!==void 0?e:null:null}s(Gp,"isReadableErrored");function Yp(t){if(!Ge(t))return null;if(typeof t.closed=="boolean")return t.closed;let e=t._writableState,i=t._readableState;return typeof e?.closed=="boolean"||typeof i?.closed=="boolean"?e?.closed||i?.closed:typeof t._closed=="boolean"&&Mc(t)?t._closed:null}s(Yp,"isClosed");function Mc(t){return typeof t._closed=="boolean"&&typeof t._defaultKeepAlive=="boolean"&&typeof t._removedConnection=="boolean"&&typeof t._removedContLen=="boolean"}s(Mc,"isOutgoingMessage");function Uc(t){return typeof t._sent100=="boolean"&&Mc(t)}s(Uc,"isServerResponse");function Kp(t){var e;return typeof t._consuming=="boolean"&&typeof t._dumped=="boolean"&&((e=t.req)===null||e===void 0?void 0:e.upgradeOrConnect)===void 0}s(Kp,"isServerRequest");function Xp(t){if(!Ge(t))return null;let e=t._writableState,i=t._readableState,r=e||i;return!r&&Uc(t)||!!(r&&r.autoDestroy&&r.emitClose&&r.closed===!1)}s(Xp,"willEmitClose");function Jp(t){var e;return!!(t&&((e=t[Oc])!==null&&e!==void 0?e:t.readableDidRead||t.readableAborted))}s(Jp,"isDisturbed");function Qp(t){var e,i,r,n,o,a,c,l,f,d;return!!(t&&((e=(i=(r=(n=(o=(a=t[Ac])!==null&&a!==void 0?a:t.readableErrored)!==null&&o!==void 0?o:t.writableErrored)!==null&&n!==void 0?n:(c=t._readableState)===null||c===void 0?void 0:c.errorEmitted)!==null&&r!==void 0?r:(l=t._writableState)===null||l===void 0?void 0:l.errorEmitted)!==null&&i!==void 0?i:(f=t._readableState)===null||f===void 0?void 0:f.errored)!==null&&e!==void 0?e:!((d=t._writableState)===null||d===void 0)&&d.errored))}s(Qp,"isErrored");Wc.exports={isDestroyed:Gr,kIsDestroyed:Pc,isDisturbed:Jp,kIsDisturbed:Oc,isErrored:Qp,kIsErrored:Ac,isReadable:Bc,kIsReadable:wo,kIsClosedPromise:Mp,kControllerErrorFunction:Up,kIsWritable:So,isClosed:Yp,isDuplexNodeStream:Wp,isFinished:Vp,isIterable:qp,isReadableNodeStream:Vr,isReadableStream:Tc,isReadableEnded:zp,isReadableFinished:Lc,isReadableErrored:Gp,isNodeStream:Ge,isWebStream:jp,isWritable:Dc,isWritableNodeStream:Hr,isWritableStream:Cc,isWritableEnded:Nc,isWritableFinished:$p,isWritableErrored:Hp,isServerRequest:Kp,isServerResponse:Uc,willEmitClose:Xp,isTransformStream:Rc}});var ct=T((mE,vo)=>{var _t=St(),{AbortError:Kc,codes:Zp}=se(),{ERR_INVALID_ARG_TYPE:ey,ERR_STREAM_PREMATURE_CLOSE:jc}=Zp,{kEmptyObject:Eo,once:xo}=re(),{validateAbortSignal:ty,validateFunction:iy,validateObject:ry,validateBoolean:ny}=ui(),{Promise:oy,PromisePrototypeThen:sy,SymbolDispose:Xc}=U(),{isClosed:ay,isReadable:qc,isReadableNodeStream:_o,isReadableStream:cy,isReadableFinished:$c,isReadableErrored:zc,isWritable:Vc,isWritableNodeStream:Hc,isWritableStream:ly,isWritableFinished:Gc,isWritableErrored:Yc,isNodeStream:fy,willEmitClose:uy,kIsClosedPromise:dy}=Ye(),hi;function hy(t){return t.setHeader&&typeof t.abort=="function"}s(hy,"isRequest");var ko=s(()=>{},"nop");function Jc(t,e,i){var r,n;if(arguments.length===2?(i=e,e=Eo):e==null?e=Eo:ry(e,"options"),iy(i,"callback"),ty(e.signal,"options.signal"),i=xo(i),cy(t)||ly(t))return py(t,e,i);if(!fy(t))throw new ey("stream",["ReadableStream","WritableStream","Stream"],t);let o=(r=e.readable)!==null&&r!==void 0?r:_o(t),a=(n=e.writable)!==null&&n!==void 0?n:Hc(t),c=t._writableState,l=t._readableState,f=s(()=>{t.writable||m()},"onlegacyfinish"),d=uy(t)&&_o(t)===o&&Hc(t)===a,h=Gc(t,!1),m=s(()=>{h=!0,t.destroyed&&(d=!1),!(d&&(!t.readable||o))&&(!o||b)&&i.call(t)},"onfinish"),b=$c(t,!1),w=s(()=>{b=!0,t.destroyed&&(d=!1),!(d&&(!t.writable||a))&&(!a||h)&&i.call(t)},"onend"),g=s(G=>{i.call(t,G)},"onerror"),A=ay(t),E=s(()=>{A=!0;let G=Yc(t)||zc(t);if(G&&typeof G!="boolean")return i.call(t,G);if(o&&!b&&_o(t,!0)&&!$c(t,!1))return i.call(t,new jc);if(a&&!h&&!Gc(t,!1))return i.call(t,new jc);i.call(t)},"onclose"),C=s(()=>{A=!0;let G=Yc(t)||zc(t);if(G&&typeof G!="boolean")return i.call(t,G);i.call(t)},"onclosed"),j=s(()=>{t.req.on("finish",m)},"onrequest");hy(t)?(t.on("complete",m),d||t.on("abort",E),t.req?j():t.on("request",j)):a&&!c&&(t.on("end",f),t.on("close",f)),!d&&typeof t.aborted=="boolean"&&t.on("aborted",E),t.on("end",w),t.on("finish",m),e.error!==!1&&t.on("error",g),t.on("close",E),A?_t.nextTick(E):c!=null&&c.errorEmitted||l!=null&&l.errorEmitted?d||_t.nextTick(C):(!o&&(!d||qc(t))&&(h||Vc(t)===!1)||!a&&(!d||Vc(t))&&(b||qc(t)===!1)||l&&t.req&&t.aborted)&&_t.nextTick(C);let O=s(()=>{i=ko,t.removeListener("aborted",E),t.removeListener("complete",m),t.removeListener("abort",E),t.removeListener("request",j),t.req&&t.req.removeListener("finish",m),t.removeListener("end",f),t.removeListener("close",f),t.removeListener("finish",m),t.removeListener("end",w),t.removeListener("error",g),t.removeListener("close",E)},"cleanup");if(e.signal&&!A){let G=s(()=>{let Ft=i;O(),Ft.call(t,new Kc(void 0,{cause:e.signal.reason}))},"abort");if(e.signal.aborted)_t.nextTick(G);else{hi=hi||re().addAbortListener;let Ft=hi(e.signal,G),pe=i;i=xo((...Kt)=>{Ft[Xc](),pe.apply(t,Kt)})}}return O}s(Jc,"eos");function py(t,e,i){let r=!1,n=ko;if(e.signal)if(n=s(()=>{r=!0,i.call(t,new Kc(void 0,{cause:e.signal.reason}))},"abort"),e.signal.aborted)_t.nextTick(n);else{hi=hi||re().addAbortListener;let a=hi(e.signal,n),c=i;i=xo((...l)=>{a[Xc](),c.apply(t,l)})}let o=s((...a)=>{r||_t.nextTick(()=>i.apply(t,a))},"resolverFn");return sy(t[dy].promise,o,o),ko}s(py,"eosWeb");function yy(t,e){var i;let r=!1;return e===null&&(e=Eo),(i=e)!==null&&i!==void 0&&i.cleanup&&(ny(e.cleanup,"cleanup"),r=e.cleanup),new oy((n,o)=>{let a=Jc(t,e,c=>{r&&a(),c?o(c):n()})})}s(yy,"finished");vo.exports=Jc;vo.exports.finished=yy});var Wt=T((gE,ol)=>{"use strict";var Ke=St(),{aggregateTwoErrors:my,codes:{ERR_MULTIPLE_CALLBACK:by},AbortError:gy}=se(),{Symbol:el}=U(),{kIsDestroyed:wy,isDestroyed:Sy,isFinished:_y,isServerRequest:Ey}=Ye(),tl=el("kDestroy"),Fo=el("kConstruct");function il(t,e,i){t&&(t.stack,e&&!e.errored&&(e.errored=t),i&&!i.errored&&(i.errored=t))}s(il,"checkError");function xy(t,e){let i=this._readableState,r=this._writableState,n=r||i;return r!=null&&r.destroyed||i!=null&&i.destroyed?(typeof e=="function"&&e(),this):(il(t,r,i),r&&(r.destroyed=!0),i&&(i.destroyed=!0),n.constructed?Qc(this,t,e):this.once(tl,function(o){Qc(this,my(o,t),e)}),this)}s(xy,"destroy");function Qc(t,e,i){let r=!1;function n(o){if(r)return;r=!0;let a=t._readableState,c=t._writableState;il(o,c,a),c&&(c.closed=!0),a&&(a.closed=!0),typeof i=="function"&&i(o),o?Ke.nextTick(ky,t,o):Ke.nextTick(rl,t)}s(n,"onDestroy");try{t._destroy(e||null,n)}catch(o){n(o)}}s(Qc,"_destroy");function ky(t,e){Io(t,e),rl(t)}s(ky,"emitErrorCloseNT");function rl(t){let e=t._readableState,i=t._writableState;i&&(i.closeEmitted=!0),e&&(e.closeEmitted=!0),(i!=null&&i.emitClose||e!=null&&e.emitClose)&&t.emit("close")}s(rl,"emitCloseNT");function Io(t,e){let i=t._readableState,r=t._writableState;r!=null&&r.errorEmitted||i!=null&&i.errorEmitted||(r&&(r.errorEmitted=!0),i&&(i.errorEmitted=!0),t.emit("error",e))}s(Io,"emitErrorNT");function vy(){let t=this._readableState,e=this._writableState;t&&(t.constructed=!0,t.closed=!1,t.closeEmitted=!1,t.destroyed=!1,t.errored=null,t.errorEmitted=!1,t.reading=!1,t.ended=t.readable===!1,t.endEmitted=t.readable===!1),e&&(e.constructed=!0,e.destroyed=!1,e.closed=!1,e.closeEmitted=!1,e.errored=null,e.errorEmitted=!1,e.finalCalled=!1,e.prefinished=!1,e.ended=e.writable===!1,e.ending=e.writable===!1,e.finished=e.writable===!1)}s(vy,"undestroy");function Po(t,e,i){let r=t._readableState,n=t._writableState;if(n!=null&&n.destroyed||r!=null&&r.destroyed)return this;r!=null&&r.autoDestroy||n!=null&&n.autoDestroy?t.destroy(e):e&&(e.stack,n&&!n.errored&&(n.errored=e),r&&!r.errored&&(r.errored=e),i?Ke.nextTick(Io,t,e):Io(t,e))}s(Po,"errorOrDestroy");function Fy(t,e){if(typeof t._construct!="function")return;let i=t._readableState,r=t._writableState;i&&(i.constructed=!1),r&&(r.constructed=!1),t.once(Fo,e),!(t.listenerCount(Fo)>1)&&Ke.nextTick(Iy,t)}s(Fy,"construct");function Iy(t){let e=!1;function i(r){if(e){Po(t,r??new by);return}e=!0;let n=t._readableState,o=t._writableState,a=o||n;n&&(n.constructed=!0),o&&(o.constructed=!0),a.destroyed?t.emit(tl,r):r?Po(t,r,!0):Ke.nextTick(Py,t)}s(i,"onConstruct");try{t._construct(r=>{Ke.nextTick(i,r)})}catch(r){Ke.nextTick(i,r)}}s(Iy,"constructNT");function Py(t){t.emit(Fo)}s(Py,"emitConstructNT");function Zc(t){return t?.setHeader&&typeof t.abort=="function"}s(Zc,"isRequest");function nl(t){t.emit("close")}s(nl,"emitCloseLegacy");function Ay(t,e){t.emit("error",e),Ke.nextTick(nl,t)}s(Ay,"emitErrorCloseLegacy");function Oy(t,e){!t||Sy(t)||(!e&&!_y(t)&&(e=new gy),Ey(t)?(t.socket=null,t.destroy(e)):Zc(t)?t.abort():Zc(t.req)?t.req.abort():typeof t.destroy=="function"?t.destroy(e):typeof t.close=="function"?t.close():e?Ke.nextTick(Ay,t,e):Ke.nextTick(nl,t),t.destroyed||(t[wy]=!0))}s(Oy,"destroyer");ol.exports={construct:Fy,destroyer:Oy,destroy:xy,undestroy:vy,errorOrDestroy:Po}});var Xr=T((SE,al)=>{"use strict";var{ArrayIsArray:Ty,ObjectSetPrototypeOf:sl}=U(),{EventEmitter:Yr}=Ji();function Kr(t){Yr.call(this,t)}s(Kr,"Stream");sl(Kr.prototype,Yr.prototype);sl(Kr,Yr);Kr.prototype.pipe=function(t,e){let i=this;function r(d){t.writable&&t.write(d)===!1&&i.pause&&i.pause()}s(r,"ondata"),i.on("data",r);function n(){i.readable&&i.resume&&i.resume()}s(n,"ondrain"),t.on("drain",n),!t._isStdio&&(!e||e.end!==!1)&&(i.on("end",a),i.on("close",c));let o=!1;function a(){o||(o=!0,t.end())}s(a,"onend");function c(){o||(o=!0,typeof t.destroy=="function"&&t.destroy())}s(c,"onclose");function l(d){f(),Yr.listenerCount(this,"error")===0&&this.emit("error",d)}s(l,"onerror"),Ao(i,"error",l),Ao(t,"error",l);function f(){i.removeListener("data",r),t.removeListener("drain",n),i.removeListener("end",a),i.removeListener("close",c),i.removeListener("error",l),t.removeListener("error",l),i.removeListener("end",f),i.removeListener("close",f),t.removeListener("close",f)}return s(f,"cleanup"),i.on("end",f),i.on("close",f),t.on("close",f),t.emit("pipe",i),t};function Ao(t,e,i){if(typeof t.prependListener=="function")return t.prependListener(e,i);!t._events||!t._events[e]?t.on(e,i):Ty(t._events[e])?t._events[e].unshift(i):t._events[e]=[i,t._events[e]]}s(Ao,"prependListener");al.exports={Stream:Kr,prependListener:Ao}});var Qi=T((EE,Jr)=>{"use strict";var{SymbolDispose:Cy}=U(),{AbortError:cl,codes:Ry}=se(),{isNodeStream:ll,isWebStream:Ny,kControllerErrorFunction:Ly}=Ye(),By=ct(),{ERR_INVALID_ARG_TYPE:fl}=Ry,Oo,Dy=s((t,e)=>{if(typeof t!="object"||!("aborted"in t))throw new fl(e,"AbortSignal",t)},"validateAbortSignal");Jr.exports.addAbortSignal=s(function(e,i){if(Dy(e,"signal"),!ll(i)&&!Ny(i))throw new fl("stream",["ReadableStream","WritableStream","Stream"],i);return Jr.exports.addAbortSignalNoValidate(e,i)},"addAbortSignal");Jr.exports.addAbortSignalNoValidate=function(t,e){if(typeof t!="object"||!("aborted"in t))return e;let i=ll(e)?()=>{e.destroy(new cl(void 0,{cause:t.reason}))}:()=>{e[Ly](new cl(void 0,{cause:t.reason}))};if(t.aborted)i();else{Oo=Oo||re().addAbortListener;let r=Oo(t,i);By(e,r[Cy])}return e}});var hl=T((vE,dl)=>{"use strict";var{StringPrototypeSlice:ul,SymbolIterator:My,TypedArrayPrototypeSet:Qr,Uint8Array:Uy}=U(),{Buffer:To}=_e(),{inspect:Wy}=re();dl.exports=class{static{s(this,"BufferList")}constructor(){this.head=null,this.tail=null,this.length=0}push(e){let i={data:e,next:null};this.length>0?this.tail.next=i:this.head=i,this.tail=i,++this.length}unshift(e){let i={data:e,next:this.head};this.length===0&&(this.tail=i),this.head=i,++this.length}shift(){if(this.length===0)return;let e=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0}join(e){if(this.length===0)return"";let i=this.head,r=""+i.data;for(;(i=i.next)!==null;)r+=e+i.data;return r}concat(e){if(this.length===0)return To.alloc(0);let i=To.allocUnsafe(e>>>0),r=this.head,n=0;for(;r;)Qr(i,r.data,n),n+=r.data.length,r=r.next;return i}consume(e,i){let r=this.head.data;if(e<r.length){let n=r.slice(0,e);return this.head.data=r.slice(e),n}return e===r.length?this.shift():i?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[My](){for(let e=this.head;e;e=e.next)yield e.data}_getString(e){let i="",r=this.head,n=0;do{let o=r.data;if(e>o.length)i+=o,e-=o.length;else{e===o.length?(i+=o,++n,r.next?this.head=r.next:this.head=this.tail=null):(i+=ul(o,0,e),this.head=r,r.data=ul(o,e));break}++n}while((r=r.next)!==null);return this.length-=n,i}_getBuffer(e){let i=To.allocUnsafe(e),r=e,n=this.head,o=0;do{let a=n.data;if(e>a.length)Qr(i,a,r-e),e-=a.length;else{e===a.length?(Qr(i,a,r-e),++o,n.next?this.head=n.next:this.head=this.tail=null):(Qr(i,new Uy(a.buffer,a.byteOffset,e),r-e),this.head=n,n.data=a.slice(e));break}++o}while((n=n.next)!==null);return this.length-=o,i}[Symbol.for("nodejs.util.inspect.custom")](e,i){return Wy(this,{...i,depth:0,customInspect:!1})}}});var Zi=T((IE,bl)=>{"use strict";var{MathFloor:jy,NumberIsInteger:qy}=U(),{validateInteger:$y}=ui(),{ERR_INVALID_ARG_VALUE:zy}=se().codes,pl=16*1024,yl=16;function Vy(t,e,i){return t.highWaterMark!=null?t.highWaterMark:e?t[i]:null}s(Vy,"highWaterMarkFrom");function ml(t){return t?yl:pl}s(ml,"getDefaultHighWaterMark");function Hy(t,e){$y(e,"value",0),t?yl=e:pl=e}s(Hy,"setDefaultHighWaterMark");function Gy(t,e,i,r){let n=Vy(e,r,i);if(n!=null){if(!qy(n)||n<0){let o=r?`options.${i}`:"options.highWaterMark";throw new zy(o,n)}return jy(n)}return ml(t.objectMode)}s(Gy,"getHighWaterMark");bl.exports={getHighWaterMark:Gy,getDefaultHighWaterMark:ml,setDefaultHighWaterMark:Hy}});var Sl=T((Co,wl)=>{var Zr=_e(),Xe=Zr.Buffer;function gl(t,e){for(var i in t)e[i]=t[i]}s(gl,"copyProps");Xe.from&&Xe.alloc&&Xe.allocUnsafe&&Xe.allocUnsafeSlow?wl.exports=Zr:(gl(Zr,Co),Co.Buffer=jt);function jt(t,e,i){return Xe(t,e,i)}s(jt,"SafeBuffer");jt.prototype=Object.create(Xe.prototype);gl(Xe,jt);jt.from=function(t,e,i){if(typeof t=="number")throw new TypeError("Argument must not be a number");return Xe(t,e,i)};jt.alloc=function(t,e,i){if(typeof t!="number")throw new TypeError("Argument must be a number");var r=Xe(t);return e!==void 0?typeof i=="string"?r.fill(e,i):r.fill(e):r.fill(0),r};jt.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Xe(t)};jt.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Zr.SlowBuffer(t)}});var xl=T(El=>{"use strict";var No=Sl().Buffer,_l=No.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function Yy(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}s(Yy,"_normalizeEncoding");function Ky(t){var e=Yy(t);if(typeof e!="string"&&(No.isEncoding===_l||!_l(t)))throw new Error("Unknown encoding: "+t);return e||t}s(Ky,"normalizeEncoding");El.StringDecoder=er;function er(t){this.encoding=Ky(t);var e;switch(this.encoding){case"utf16le":this.text=tm,this.end=im,e=4;break;case"utf8":this.fillLast=Qy,e=4;break;case"base64":this.text=rm,this.end=nm,e=3;break;default:this.write=om,this.end=sm;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=No.allocUnsafe(e)}s(er,"StringDecoder");er.prototype.write=function(t){if(t.length===0)return"";var e,i;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";i=this.lastNeed,this.lastNeed=0}else i=0;return i<t.length?e?e+this.text(t,i):this.text(t,i):e||""};er.prototype.end=em;er.prototype.text=Zy;er.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function Ro(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}s(Ro,"utf8CheckByte");function Xy(t,e,i){var r=e.length-1;if(r<i)return 0;var n=Ro(e[r]);return n>=0?(n>0&&(t.lastNeed=n-1),n):--r<i||n===-2?0:(n=Ro(e[r]),n>=0?(n>0&&(t.lastNeed=n-2),n):--r<i||n===-2?0:(n=Ro(e[r]),n>=0?(n>0&&(n===2?n=0:t.lastNeed=n-3),n):0))}s(Xy,"utf8CheckIncomplete");function Jy(t,e,i){if((e[0]&192)!==128)return t.lastNeed=0,"\uFFFD";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"\uFFFD";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"\uFFFD"}}s(Jy,"utf8CheckExtraBytes");function Qy(t){var e=this.lastTotal-this.lastNeed,i=Jy(this,t,e);if(i!==void 0)return i;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}s(Qy,"utf8FillLast");function Zy(t,e){var i=Xy(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=i;var r=t.length-(i-this.lastNeed);return t.copy(this.lastChar,0,r),t.toString("utf8",e,r)}s(Zy,"utf8Text");function em(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e}s(em,"utf8End");function tm(t,e){if((t.length-e)%2===0){var i=t.toString("utf16le",e);if(i){var r=i.charCodeAt(i.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],i.slice(0,-1)}return i}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}s(tm,"utf16Text");function im(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var i=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,i)}return e}s(im,"utf16End");function rm(t,e){var i=(t.length-e)%3;return i===0?t.toString("base64",e):(this.lastNeed=3-i,this.lastTotal=3,i===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-i))}s(rm,"base64Text");function nm(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}s(nm,"base64End");function om(t){return t.toString(this.encoding)}s(om,"simpleWrite");function sm(t){return t&&t.length?this.write(t):""}s(sm,"simpleEnd")});var Lo=T((CE,Il)=>{"use strict";var kl=St(),{PromisePrototypeThen:am,SymbolAsyncIterator:vl,SymbolIterator:Fl}=U(),{Buffer:cm}=_e(),{ERR_INVALID_ARG_TYPE:lm,ERR_STREAM_NULL_VALUES:fm}=se().codes;function um(t,e,i){let r;if(typeof e=="string"||e instanceof cm)return new t({objectMode:!0,...i,read:s(function(){this.push(e),this.push(null)},"read")});let n;if(e&&e[vl])n=!0,r=e[vl]();else if(e&&e[Fl])n=!1,r=e[Fl]();else throw new lm("iterable",["Iterable"],e);let o=new t({objectMode:!0,highWaterMark:1,...i}),a=!1;o._read=function(){a||(a=!0,l())},o._destroy=function(f,d){am(c(f),()=>kl.nextTick(d,f),h=>kl.nextTick(d,h||f))};async function c(f){let d=f!=null,h=typeof r.throw=="function";if(d&&h){let{value:m,done:b}=await r.throw(f);if(await m,b)return}if(typeof r.return=="function"){let{value:m}=await r.return();await m}}s(c,"close");async function l(){for(;;){try{let{value:f,done:d}=n?await r.next():r.next();if(d)o.push(null);else{let h=f&&typeof f.then=="function"?await f:f;if(h===null)throw a=!1,new fm;if(o.push(h))continue;a=!1}}catch(f){o.destroy(f)}break}}return s(l,"next"),o}s(um,"from");Il.exports=um});var ir=T((NE,Vl)=>{var Fe=St(),{ArrayPrototypeIndexOf:dm,NumberIsInteger:hm,NumberIsNaN:pm,NumberParseInt:ym,ObjectDefineProperties:$o,ObjectKeys:mm,ObjectSetPrototypeOf:Ol,Promise:Tl,SafeSet:bm,SymbolAsyncDispose:gm,SymbolAsyncIterator:wm,Symbol:Sm}=U();Vl.exports=F;F.ReadableState=nn;var{EventEmitter:_m}=Ji(),{Stream:Et,prependListener:Em}=Xr(),{Buffer:Bo}=_e(),{addAbortSignal:xm}=Qi(),Cl=ct(),P=re().debuglog("stream",t=>{P=t}),km=hl(),mi=Wt(),{getHighWaterMark:vm,getDefaultHighWaterMark:Fm}=Zi(),{aggregateTwoErrors:Pl,codes:{ERR_INVALID_ARG_TYPE:Im,ERR_METHOD_NOT_IMPLEMENTED:Pm,ERR_OUT_OF_RANGE:Am,ERR_STREAM_PUSH_AFTER_EOF:Om,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:Tm},AbortError:Cm}=se(),{validateObject:Rm}=ui(),qt=Sm("kPaused"),{StringDecoder:Rl}=xl(),Nm=Lo();Ol(F.prototype,Et.prototype);Ol(F,Et);var Do=s(()=>{},"nop"),{errorOrDestroy:pi}=mi,yi=1,Lm=2,Nl=4,tr=8,Ll=16,en=32,tn=64,Bl=128,Bm=256,Dm=512,Mm=1024,jo=2048,qo=4096,Um=8192,Wm=16384,jm=32768,Dl=65536,qm=1<<17,$m=1<<18;function X(t){return{enumerable:!1,get:s(function(){return(this.state&t)!==0},"get"),set:s(function(e){e?this.state|=t:this.state&=~t},"set")}}s(X,"makeBitMapDescriptor");$o(nn.prototype,{objectMode:X(yi),ended:X(Lm),endEmitted:X(Nl),reading:X(tr),constructed:X(Ll),sync:X(en),needReadable:X(tn),emittedReadable:X(Bl),readableListening:X(Bm),resumeScheduled:X(Dm),errorEmitted:X(Mm),emitClose:X(jo),autoDestroy:X(qo),destroyed:X(Um),closed:X(Wm),closeEmitted:X(jm),multiAwaitDrain:X(Dl),readingMore:X(qm),dataEmitted:X($m)});function nn(t,e,i){typeof i!="boolean"&&(i=e instanceof Je()),this.state=jo|qo|Ll|en,t&&t.objectMode&&(this.state|=yi),i&&t&&t.readableObjectMode&&(this.state|=yi),this.highWaterMark=t?vm(this,t,"readableHighWaterMark",i):Fm(!1),this.buffer=new km,this.length=0,this.pipes=[],this.flowing=null,this[qt]=null,t&&t.emitClose===!1&&(this.state&=~jo),t&&t.autoDestroy===!1&&(this.state&=~qo),this.errored=null,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,t&&t.encoding&&(this.decoder=new Rl(t.encoding),this.encoding=t.encoding)}s(nn,"ReadableState");function F(t){if(!(this instanceof F))return new F(t);let e=this instanceof Je();this._readableState=new nn(t,this,e),t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.construct=="function"&&(this._construct=t.construct),t.signal&&!e&&xm(t.signal,this)),Et.call(this,t),mi.construct(this,()=>{this._readableState.needReadable&&rn(this,this._readableState)})}s(F,"Readable");F.prototype.destroy=mi.destroy;F.prototype._undestroy=mi.undestroy;F.prototype._destroy=function(t,e){e(t)};F.prototype[_m.captureRejectionSymbol]=function(t){this.destroy(t)};F.prototype[gm]=function(){let t;return this.destroyed||(t=this.readableEnded?null:new Cm,this.destroy(t)),new Tl((e,i)=>Cl(this,r=>r&&r!==t?i(r):e(null)))};F.prototype.push=function(t,e){return Ml(this,t,e,!1)};F.prototype.unshift=function(t,e){return Ml(this,t,e,!0)};function Ml(t,e,i,r){P("readableAddChunk",e);let n=t._readableState,o;if(n.state&yi||(typeof e=="string"?(i=i||n.defaultEncoding,n.encoding!==i&&(r&&n.encoding?e=Bo.from(e,i).toString(n.encoding):(e=Bo.from(e,i),i=""))):e instanceof Bo?i="":Et._isUint8Array(e)?(e=Et._uint8ArrayToBuffer(e),i=""):e!=null&&(o=new Im("chunk",["string","Buffer","Uint8Array"],e))),o)pi(t,o);else if(e===null)n.state&=~tr,Hm(t,n);else if(n.state&yi||e&&e.length>0)if(r)if(n.state&Nl)pi(t,new Tm);else{if(n.destroyed||n.errored)return!1;Mo(t,n,e,!0)}else if(n.ended)pi(t,new Om);else{if(n.destroyed||n.errored)return!1;n.state&=~tr,n.decoder&&!i?(e=n.decoder.write(e),n.objectMode||e.length!==0?Mo(t,n,e,!1):rn(t,n)):Mo(t,n,e,!1)}else r||(n.state&=~tr,rn(t,n));return!n.ended&&(n.length<n.highWaterMark||n.length===0)}s(Ml,"readableAddChunk");function Mo(t,e,i,r){e.flowing&&e.length===0&&!e.sync&&t.listenerCount("data")>0?(e.state&Dl?e.awaitDrainWriters.clear():e.awaitDrainWriters=null,e.dataEmitted=!0,t.emit("data",i)):(e.length+=e.objectMode?1:i.length,r?e.buffer.unshift(i):e.buffer.push(i),e.state&tn&&on(t)),rn(t,e)}s(Mo,"addChunk");F.prototype.isPaused=function(){let t=this._readableState;return t[qt]===!0||t.flowing===!1};F.prototype.setEncoding=function(t){let e=new Rl(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;let i=this._readableState.buffer,r="";for(let n of i)r+=e.write(n);return i.clear(),r!==""&&i.push(r),this._readableState.length=r.length,this};var zm=1073741824;function Vm(t){if(t>zm)throw new Am("size","<= 1GiB",t);return t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++,t}s(Vm,"computeNewHighWaterMark");function Al(t,e){return t<=0||e.length===0&&e.ended?0:e.state&yi?1:pm(t)?e.flowing&&e.length?e.buffer.first().length:e.length:t<=e.length?t:e.ended?e.length:0}s(Al,"howMuchToRead");F.prototype.read=function(t){P("read",t),t===void 0?t=NaN:hm(t)||(t=ym(t,10));let e=this._readableState,i=t;if(t>e.highWaterMark&&(e.highWaterMark=Vm(t)),t!==0&&(e.state&=~Bl),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return P("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?Uo(this):on(this),null;if(t=Al(t,e),t===0&&e.ended)return e.length===0&&Uo(this),null;let r=(e.state&tn)!==0;if(P("need readable",r),(e.length===0||e.length-t<e.highWaterMark)&&(r=!0,P("length less than watermark",r)),e.ended||e.reading||e.destroyed||e.errored||!e.constructed)r=!1,P("reading, ended or constructing",r);else if(r){P("do read"),e.state|=tr|en,e.length===0&&(e.state|=tn);try{this._read(e.highWaterMark)}catch(o){pi(this,o)}e.state&=~en,e.reading||(t=Al(i,e))}let n;return t>0?n=$l(t,e):n=null,n===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.multiAwaitDrain?e.awaitDrainWriters.clear():e.awaitDrainWriters=null),e.length===0&&(e.ended||(e.needReadable=!0),i!==t&&e.ended&&Uo(this)),n!==null&&!e.errorEmitted&&!e.closeEmitted&&(e.dataEmitted=!0,this.emit("data",n)),n};function Hm(t,e){if(P("onEofChunk"),!e.ended){if(e.decoder){let i=e.decoder.end();i&&i.length&&(e.buffer.push(i),e.length+=e.objectMode?1:i.length)}e.ended=!0,e.sync?on(t):(e.needReadable=!1,e.emittedReadable=!0,Ul(t))}}s(Hm,"onEofChunk");function on(t){let e=t._readableState;P("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(P("emitReadable",e.flowing),e.emittedReadable=!0,Fe.nextTick(Ul,t))}s(on,"emitReadable");function Ul(t){let e=t._readableState;P("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&!e.errored&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,jl(t)}s(Ul,"emitReadable_");function rn(t,e){!e.readingMore&&e.constructed&&(e.readingMore=!0,Fe.nextTick(Gm,t,e))}s(rn,"maybeReadMore");function Gm(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){let i=e.length;if(P("maybeReadMore read 0"),t.read(0),i===e.length)break}e.readingMore=!1}s(Gm,"maybeReadMore_");F.prototype._read=function(t){throw new Pm("_read()")};F.prototype.pipe=function(t,e){let i=this,r=this._readableState;r.pipes.length===1&&(r.multiAwaitDrain||(r.multiAwaitDrain=!0,r.awaitDrainWriters=new bm(r.awaitDrainWriters?[r.awaitDrainWriters]:[]))),r.pipes.push(t),P("pipe count=%d opts=%j",r.pipes.length,e);let o=(!e||e.end!==!1)&&t!==Fe.stdout&&t!==Fe.stderr?c:A;r.endEmitted?Fe.nextTick(o):i.once("end",o),t.on("unpipe",a);function a(E,C){P("onunpipe"),E===i&&C&&C.hasUnpiped===!1&&(C.hasUnpiped=!0,d())}s(a,"onunpipe");function c(){P("onend"),t.end()}s(c,"onend");let l,f=!1;function d(){P("cleanup"),t.removeListener("close",w),t.removeListener("finish",g),l&&t.removeListener("drain",l),t.removeListener("error",b),t.removeListener("unpipe",a),i.removeListener("end",c),i.removeListener("end",A),i.removeListener("data",m),f=!0,l&&r.awaitDrainWriters&&(!t._writableState||t._writableState.needDrain)&&l()}s(d,"cleanup");function h(){f||(r.pipes.length===1&&r.pipes[0]===t?(P("false write response, pause",0),r.awaitDrainWriters=t,r.multiAwaitDrain=!1):r.pipes.length>1&&r.pipes.includes(t)&&(P("false write response, pause",r.awaitDrainWriters.size),r.awaitDrainWriters.add(t)),i.pause()),l||(l=Ym(i,t),t.on("drain",l))}s(h,"pause"),i.on("data",m);function m(E){P("ondata");let C=t.write(E);P("dest.write",C),C===!1&&h()}s(m,"ondata");function b(E){if(P("onerror",E),A(),t.removeListener("error",b),t.listenerCount("error")===0){let C=t._writableState||t._readableState;C&&!C.errorEmitted?pi(t,E):t.emit("error",E)}}s(b,"onerror"),Em(t,"error",b);function w(){t.removeListener("finish",g),A()}s(w,"onclose"),t.once("close",w);function g(){P("onfinish"),t.removeListener("close",w),A()}s(g,"onfinish"),t.once("finish",g);function A(){P("unpipe"),i.unpipe(t)}return s(A,"unpipe"),t.emit("pipe",i),t.writableNeedDrain===!0?h():r.flowing||(P("pipe resume"),i.resume()),t};function Ym(t,e){return s(function(){let r=t._readableState;r.awaitDrainWriters===e?(P("pipeOnDrain",1),r.awaitDrainWriters=null):r.multiAwaitDrain&&(P("pipeOnDrain",r.awaitDrainWriters.size),r.awaitDrainWriters.delete(e)),(!r.awaitDrainWriters||r.awaitDrainWriters.size===0)&&t.listenerCount("data")&&t.resume()},"pipeOnDrainFunctionResult")}s(Ym,"pipeOnDrain");F.prototype.unpipe=function(t){let e=this._readableState,i={hasUnpiped:!1};if(e.pipes.length===0)return this;if(!t){let n=e.pipes;e.pipes=[],this.pause();for(let o=0;o<n.length;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}let r=dm(e.pipes,t);return r===-1?this:(e.pipes.splice(r,1),e.pipes.length===0&&this.pause(),t.emit("unpipe",this,i),this)};F.prototype.on=function(t,e){let i=Et.prototype.on.call(this,t,e),r=this._readableState;return t==="data"?(r.readableListening=this.listenerCount("readable")>0,r.flowing!==!1&&this.resume()):t==="readable"&&!r.endEmitted&&!r.readableListening&&(r.readableListening=r.needReadable=!0,r.flowing=!1,r.emittedReadable=!1,P("on readable",r.length,r.reading),r.length?on(this):r.reading||Fe.nextTick(Km,this)),i};F.prototype.addListener=F.prototype.on;F.prototype.removeListener=function(t,e){let i=Et.prototype.removeListener.call(this,t,e);return t==="readable"&&Fe.nextTick(Wl,this),i};F.prototype.off=F.prototype.removeListener;F.prototype.removeAllListeners=function(t){let e=Et.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&Fe.nextTick(Wl,this),e};function Wl(t){let e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&e[qt]===!1?e.flowing=!0:t.listenerCount("data")>0?t.resume():e.readableListening||(e.flowing=null)}s(Wl,"updateReadableListening");function Km(t){P("readable nexttick read 0"),t.read(0)}s(Km,"nReadingNextTick");F.prototype.resume=function(){let t=this._readableState;return t.flowing||(P("resume"),t.flowing=!t.readableListening,Xm(this,t)),t[qt]=!1,this};function Xm(t,e){e.resumeScheduled||(e.resumeScheduled=!0,Fe.nextTick(Jm,t,e))}s(Xm,"resume");function Jm(t,e){P("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),jl(t),e.flowing&&!e.reading&&t.read(0)}s(Jm,"resume_");F.prototype.pause=function(){return P("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(P("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[qt]=!0,this};function jl(t){let e=t._readableState;for(P("flow",e.flowing);e.flowing&&t.read()!==null;);}s(jl,"flow");F.prototype.wrap=function(t){let e=!1;t.on("data",r=>{!this.push(r)&&t.pause&&(e=!0,t.pause())}),t.on("end",()=>{this.push(null)}),t.on("error",r=>{pi(this,r)}),t.on("close",()=>{this.destroy()}),t.on("destroy",()=>{this.destroy()}),this._read=()=>{e&&t.resume&&(e=!1,t.resume())};let i=mm(t);for(let r=1;r<i.length;r++){let n=i[r];this[n]===void 0&&typeof t[n]=="function"&&(this[n]=t[n].bind(t))}return this};F.prototype[wm]=function(){return ql(this)};F.prototype.iterator=function(t){return t!==void 0&&Rm(t,"options"),ql(this,t)};function ql(t,e){typeof t.read!="function"&&(t=F.wrap(t,{objectMode:!0}));let i=Qm(t,e);return i.stream=t,i}s(ql,"streamToAsyncIterator");async function*Qm(t,e){let i=Do;function r(a){this===t?(i(),i=Do):i=a}s(r,"next"),t.on("readable",r);let n,o=Cl(t,{writable:!1},a=>{n=a?Pl(n,a):null,i(),i=Do});try{for(;;){let a=t.destroyed?null:t.read();if(a!==null)yield a;else{if(n)throw n;if(n===null)return;await new Tl(r)}}}catch(a){throw n=Pl(n,a),n}finally{(n||e?.destroyOnReturn!==!1)&&(n===void 0||t._readableState.autoDestroy)?mi.destroyer(t,null):(t.off("readable",r),o())}}s(Qm,"createAsyncIterator");$o(F.prototype,{readable:{__proto__:null,get:s(function(){let t=this._readableState;return!!t&&t.readable!==!1&&!t.destroyed&&!t.errorEmitted&&!t.endEmitted},"get"),set:s(function(t){this._readableState&&(this._readableState.readable=!!t)},"set")},readableDidRead:{__proto__:null,enumerable:!1,get:s(function(){return this._readableState.dataEmitted},"get")},readableAborted:{__proto__:null,enumerable:!1,get:s(function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)},"get")},readableHighWaterMark:{__proto__:null,enumerable:!1,get:s(function(){return this._readableState.highWaterMark},"get")},readableBuffer:{__proto__:null,enumerable:!1,get:s(function(){return this._readableState&&this._readableState.buffer},"get")},readableFlowing:{__proto__:null,enumerable:!1,get:s(function(){return this._readableState.flowing},"get"),set:s(function(t){this._readableState&&(this._readableState.flowing=t)},"set")},readableLength:{__proto__:null,enumerable:!1,get:s(function(){return this._readableState.length},"get")},readableObjectMode:{__proto__:null,enumerable:!1,get:s(function(){return this._readableState?this._readableState.objectMode:!1},"get")},readableEncoding:{__proto__:null,enumerable:!1,get:s(function(){return this._readableState?this._readableState.encoding:null},"get")},errored:{__proto__:null,enumerable:!1,get:s(function(){return this._readableState?this._readableState.errored:null},"get")},closed:{__proto__:null,get:s(function(){return this._readableState?this._readableState.closed:!1},"get")},destroyed:{__proto__:null,enumerable:!1,get:s(function(){return this._readableState?this._readableState.destroyed:!1},"get"),set:s(function(t){this._readableState&&(this._readableState.destroyed=t)},"set")},readableEnded:{__proto__:null,enumerable:!1,get:s(function(){return this._readableState?this._readableState.endEmitted:!1},"get")}});$o(nn.prototype,{pipesCount:{__proto__:null,get:s(function(){return this.pipes.length},"get")},paused:{__proto__:null,get:s(function(){return this[qt]!==!1},"get"),set:s(function(t){this[qt]=!!t},"set")}});F._fromList=$l;function $l(t,e){if(e.length===0)return null;let i;return e.objectMode?i=e.buffer.shift():!t||t>=e.length?(e.decoder?i=e.buffer.join(""):e.buffer.length===1?i=e.buffer.first():i=e.buffer.concat(e.length),e.buffer.clear()):i=e.buffer.consume(t,e.decoder),i}s($l,"fromList");function Uo(t){let e=t._readableState;P("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,Fe.nextTick(Zm,e,t))}s(Uo,"endReadable");function Zm(t,e){if(P("endReadableNT",t.endEmitted,t.length),!t.errored&&!t.closeEmitted&&!t.endEmitted&&t.length===0){if(t.endEmitted=!0,e.emit("end"),e.writable&&e.allowHalfOpen===!1)Fe.nextTick(eb,e);else if(t.autoDestroy){let i=e._writableState;(!i||i.autoDestroy&&(i.finished||i.writable===!1))&&e.destroy()}}}s(Zm,"endReadableNT");function eb(t){t.writable&&!t.writableEnded&&!t.destroyed&&t.end()}s(eb,"endWritableNT");F.from=function(t,e){return Nm(F,t,e)};var Wo;function zl(){return Wo===void 0&&(Wo={}),Wo}s(zl,"lazyWebStreams");F.fromWeb=function(t,e){return zl().newStreamReadableFromReadableStream(t,e)};F.toWeb=function(t,e){return zl().newReadableStreamFromStreamReadable(t,e)};F.wrap=function(t,e){var i,r;return new F({objectMode:(i=(r=t.readableObjectMode)!==null&&r!==void 0?r:t.objectMode)!==null&&i!==void 0?i:!0,...e,destroy:s(function(n,o){mi.destroyer(t,n),o(n)},"destroy")}).wrap(t)}});var fn=T((BE,nf)=>{var $t=St(),{ArrayPrototypeSlice:Yl,Error:tb,FunctionPrototypeSymbolHasInstance:Kl,ObjectDefineProperty:Xl,ObjectDefineProperties:ib,ObjectSetPrototypeOf:Jl,StringPrototypeToLowerCase:rb,Symbol:nb,SymbolHasInstance:ob}=U();nf.exports=W;W.WritableState=or;var{EventEmitter:sb}=Ji(),rr=Xr().Stream,{Buffer:sn}=_e(),ln=Wt(),{addAbortSignal:ab}=Qi(),{getHighWaterMark:cb,getDefaultHighWaterMark:lb}=Zi(),{ERR_INVALID_ARG_TYPE:fb,ERR_METHOD_NOT_IMPLEMENTED:ub,ERR_MULTIPLE_CALLBACK:Ql,ERR_STREAM_CANNOT_PIPE:db,ERR_STREAM_DESTROYED:nr,ERR_STREAM_ALREADY_FINISHED:hb,ERR_STREAM_NULL_VALUES:pb,ERR_STREAM_WRITE_AFTER_END:yb,ERR_UNKNOWN_ENCODING:Zl}=se().codes,{errorOrDestroy:bi}=ln;Jl(W.prototype,rr.prototype);Jl(W,rr);function Ho(){}s(Ho,"nop");var gi=nb("kOnFinished");function or(t,e,i){typeof i!="boolean"&&(i=e instanceof Je()),this.objectMode=!!(t&&t.objectMode),i&&(this.objectMode=this.objectMode||!!(t&&t.writableObjectMode)),this.highWaterMark=t?cb(this,t,"writableHighWaterMark",i):lb(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let r=!!(t&&t.decodeStrings===!1);this.decodeStrings=!r,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=bb.bind(void 0,e),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,cn(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!t||t.emitClose!==!1,this.autoDestroy=!t||t.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[gi]=[]}s(or,"WritableState");function cn(t){t.buffered=[],t.bufferedIndex=0,t.allBuffers=!0,t.allNoop=!0}s(cn,"resetBuffer");or.prototype.getBuffer=s(function(){return Yl(this.buffered,this.bufferedIndex)},"getBuffer");Xl(or.prototype,"bufferedRequestCount",{__proto__:null,get:s(function(){return this.buffered.length-this.bufferedIndex},"get")});function W(t){let e=this instanceof Je();if(!e&&!Kl(W,this))return new W(t);this._writableState=new or(t,this,e),t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final),typeof t.construct=="function"&&(this._construct=t.construct),t.signal&&ab(t.signal,this)),rr.call(this,t),ln.construct(this,()=>{let i=this._writableState;i.writing||Yo(this,i),Ko(this,i)})}s(W,"Writable");Xl(W,ob,{__proto__:null,value:s(function(t){return Kl(this,t)?!0:this!==W?!1:t&&t._writableState instanceof or},"value")});W.prototype.pipe=function(){bi(this,new db)};function ef(t,e,i,r){let n=t._writableState;if(typeof i=="function")r=i,i=n.defaultEncoding;else{if(!i)i=n.defaultEncoding;else if(i!=="buffer"&&!sn.isEncoding(i))throw new Zl(i);typeof r!="function"&&(r=Ho)}if(e===null)throw new pb;if(!n.objectMode)if(typeof e=="string")n.decodeStrings!==!1&&(e=sn.from(e,i),i="buffer");else if(e instanceof sn)i="buffer";else if(rr._isUint8Array(e))e=rr._uint8ArrayToBuffer(e),i="buffer";else throw new fb("chunk",["string","Buffer","Uint8Array"],e);let o;return n.ending?o=new yb:n.destroyed&&(o=new nr("write")),o?($t.nextTick(r,o),bi(t,o,!0),o):(n.pendingcb++,mb(t,n,e,i,r))}s(ef,"_write");W.prototype.write=function(t,e,i){return ef(this,t,e,i)===!0};W.prototype.cork=function(){this._writableState.corked++};W.prototype.uncork=function(){let t=this._writableState;t.corked&&(t.corked--,t.writing||Yo(this,t))};W.prototype.setDefaultEncoding=s(function(e){if(typeof e=="string"&&(e=rb(e)),!sn.isEncoding(e))throw new Zl(e);return this._writableState.defaultEncoding=e,this},"setDefaultEncoding");function mb(t,e,i,r,n){let o=e.objectMode?1:i.length;e.length+=o;let a=e.length<e.highWaterMark;return a||(e.needDrain=!0),e.writing||e.corked||e.errored||!e.constructed?(e.buffered.push({chunk:i,encoding:r,callback:n}),e.allBuffers&&r!=="buffer"&&(e.allBuffers=!1),e.allNoop&&n!==Ho&&(e.allNoop=!1)):(e.writelen=o,e.writecb=n,e.writing=!0,e.sync=!0,t._write(i,r,e.onwrite),e.sync=!1),a&&!e.errored&&!e.destroyed}s(mb,"writeOrBuffer");function Hl(t,e,i,r,n,o,a){e.writelen=r,e.writecb=a,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new nr("write")):i?t._writev(n,e.onwrite):t._write(n,o,e.onwrite),e.sync=!1}s(Hl,"doWrite");function Gl(t,e,i,r){--e.pendingcb,r(i),Go(e),bi(t,i)}s(Gl,"onwriteError");function bb(t,e){let i=t._writableState,r=i.sync,n=i.writecb;if(typeof n!="function"){bi(t,new Ql);return}i.writing=!1,i.writecb=null,i.length-=i.writelen,i.writelen=0,e?(e.stack,i.errored||(i.errored=e),t._readableState&&!t._readableState.errored&&(t._readableState.errored=e),r?$t.nextTick(Gl,t,i,e,n):Gl(t,i,e,n)):(i.buffered.length>i.bufferedIndex&&Yo(t,i),r?i.afterWriteTickInfo!==null&&i.afterWriteTickInfo.cb===n?i.afterWriteTickInfo.count++:(i.afterWriteTickInfo={count:1,cb:n,stream:t,state:i},$t.nextTick(gb,i.afterWriteTickInfo)):tf(t,i,1,n))}s(bb,"onwrite");function gb({stream:t,state:e,count:i,cb:r}){return e.afterWriteTickInfo=null,tf(t,e,i,r)}s(gb,"afterWriteTick");function tf(t,e,i,r){for(!e.ending&&!t.destroyed&&e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"));i-- >0;)e.pendingcb--,r();e.destroyed&&Go(e),Ko(t,e)}s(tf,"afterWrite");function Go(t){if(t.writing)return;for(let n=t.bufferedIndex;n<t.buffered.length;++n){var e;let{chunk:o,callback:a}=t.buffered[n],c=t.objectMode?1:o.length;t.length-=c,a((e=t.errored)!==null&&e!==void 0?e:new nr("write"))}let i=t[gi].splice(0);for(let n=0;n<i.length;n++){var r;i[n]((r=t.errored)!==null&&r!==void 0?r:new nr("end"))}cn(t)}s(Go,"errorBuffer");function Yo(t,e){if(e.corked||e.bufferProcessing||e.destroyed||!e.constructed)return;let{buffered:i,bufferedIndex:r,objectMode:n}=e,o=i.length-r;if(!o)return;let a=r;if(e.bufferProcessing=!0,o>1&&t._writev){e.pendingcb-=o-1;let c=e.allNoop?Ho:f=>{for(let d=a;d<i.length;++d)i[d].callback(f)},l=e.allNoop&&a===0?i:Yl(i,a);l.allBuffers=e.allBuffers,Hl(t,e,!0,e.length,l,"",c),cn(e)}else{do{let{chunk:c,encoding:l,callback:f}=i[a];i[a++]=null;let d=n?1:c.length;Hl(t,e,!1,d,c,l,f)}while(a<i.length&&!e.writing);a===i.length?cn(e):a>256?(i.splice(0,a),e.bufferedIndex=0):e.bufferedIndex=a}e.bufferProcessing=!1}s(Yo,"clearBuffer");W.prototype._write=function(t,e,i){if(this._writev)this._writev([{chunk:t,encoding:e}],i);else throw new ub("_write()")};W.prototype._writev=null;W.prototype.end=function(t,e,i){let r=this._writableState;typeof t=="function"?(i=t,t=null,e=null):typeof e=="function"&&(i=e,e=null);let n;if(t!=null){let o=ef(this,t,e);o instanceof tb&&(n=o)}return r.corked&&(r.corked=1,this.uncork()),n||(!r.errored&&!r.ending?(r.ending=!0,Ko(this,r,!0),r.ended=!0):r.finished?n=new hb("end"):r.destroyed&&(n=new nr("end"))),typeof i=="function"&&(n||r.finished?$t.nextTick(i,n):r[gi].push(i)),this};function an(t){return t.ending&&!t.destroyed&&t.constructed&&t.length===0&&!t.errored&&t.buffered.length===0&&!t.finished&&!t.writing&&!t.errorEmitted&&!t.closeEmitted}s(an,"needFinish");function wb(t,e){let i=!1;function r(n){if(i){bi(t,n??Ql());return}if(i=!0,e.pendingcb--,n){let o=e[gi].splice(0);for(let a=0;a<o.length;a++)o[a](n);bi(t,n,e.sync)}else an(e)&&(e.prefinished=!0,t.emit("prefinish"),e.pendingcb++,$t.nextTick(Vo,t,e))}s(r,"onFinish"),e.sync=!0,e.pendingcb++;try{t._final(r)}catch(n){r(n)}e.sync=!1}s(wb,"callFinal");function Sb(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.finalCalled=!0,wb(t,e)):(e.prefinished=!0,t.emit("prefinish")))}s(Sb,"prefinish");function Ko(t,e,i){an(e)&&(Sb(t,e),e.pendingcb===0&&(i?(e.pendingcb++,$t.nextTick((r,n)=>{an(n)?Vo(r,n):n.pendingcb--},t,e)):an(e)&&(e.pendingcb++,Vo(t,e))))}s(Ko,"finishMaybe");function Vo(t,e){e.pendingcb--,e.finished=!0;let i=e[gi].splice(0);for(let r=0;r<i.length;r++)i[r]();if(t.emit("finish"),e.autoDestroy){let r=t._readableState;(!r||r.autoDestroy&&(r.endEmitted||r.readable===!1))&&t.destroy()}}s(Vo,"finish");ib(W.prototype,{closed:{__proto__:null,get:s(function(){return this._writableState?this._writableState.closed:!1},"get")},destroyed:{__proto__:null,get:s(function(){return this._writableState?this._writableState.destroyed:!1},"get"),set:s(function(t){this._writableState&&(this._writableState.destroyed=t)},"set")},writable:{__proto__:null,get:s(function(){let t=this._writableState;return!!t&&t.writable!==!1&&!t.destroyed&&!t.errored&&!t.ending&&!t.ended},"get"),set:s(function(t){this._writableState&&(this._writableState.writable=!!t)},"set")},writableFinished:{__proto__:null,get:s(function(){return this._writableState?this._writableState.finished:!1},"get")},writableObjectMode:{__proto__:null,get:s(function(){return this._writableState?this._writableState.objectMode:!1},"get")},writableBuffer:{__proto__:null,get:s(function(){return this._writableState&&this._writableState.getBuffer()},"get")},writableEnded:{__proto__:null,get:s(function(){return this._writableState?this._writableState.ending:!1},"get")},writableNeedDrain:{__proto__:null,get:s(function(){let t=this._writableState;return t?!t.destroyed&&!t.ending&&t.needDrain:!1},"get")},writableHighWaterMark:{__proto__:null,get:s(function(){return this._writableState&&this._writableState.highWaterMark},"get")},writableCorked:{__proto__:null,get:s(function(){return this._writableState?this._writableState.corked:0},"get")},writableLength:{__proto__:null,get:s(function(){return this._writableState&&this._writableState.length},"get")},errored:{__proto__:null,enumerable:!1,get:s(function(){return this._writableState?this._writableState.errored:null},"get")},writableAborted:{__proto__:null,enumerable:!1,get:s(function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)},"get")}});var _b=ln.destroy;W.prototype.destroy=function(t,e){let i=this._writableState;return!i.destroyed&&(i.bufferedIndex<i.buffered.length||i[gi].length)&&$t.nextTick(Go,i),_b.call(this,t,e),this};W.prototype._undestroy=ln.undestroy;W.prototype._destroy=function(t,e){e(t)};W.prototype[sb.captureRejectionSymbol]=function(t){this.destroy(t)};var zo;function rf(){return zo===void 0&&(zo={}),zo}s(rf,"lazyWebStreams");W.fromWeb=function(t,e){return rf().newStreamWritableFromWritableStream(t,e)};W.toWeb=function(t){return rf().newWritableStreamFromStreamWritable(t)}});var wf=T((ME,gf)=>{var Xo=St(),Eb=_e(),{isReadable:xb,isWritable:kb,isIterable:of,isNodeStream:vb,isReadableNodeStream:sf,isWritableNodeStream:af,isDuplexNodeStream:Fb,isReadableStream:cf,isWritableStream:lf}=Ye(),ff=ct(),{AbortError:mf,codes:{ERR_INVALID_ARG_TYPE:Ib,ERR_INVALID_RETURN_VALUE:uf}}=se(),{destroyer:Si}=Wt(),Pb=Je(),bf=ir(),Ab=fn(),{createDeferredPromise:df}=re(),hf=Lo(),pf=globalThis.Blob||Eb.Blob,Ob=s(typeof pf<"u"?function(e){return e instanceof pf}:function(e){return!1},"isBlob"),Tb=globalThis.AbortController||ci().AbortController,{FunctionPrototypeCall:yf}=U(),xt=class extends Pb{static{s(this,"Duplexify")}constructor(e){super(e),e?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),e?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};gf.exports=s(function t(e,i){if(Fb(e))return e;if(sf(e))return wi({readable:e});if(af(e))return wi({writable:e});if(vb(e))return wi({writable:!1,readable:!1});if(cf(e))return wi({readable:bf.fromWeb(e)});if(lf(e))return wi({writable:Ab.fromWeb(e)});if(typeof e=="function"){let{value:n,write:o,final:a,destroy:c}=Cb(e);if(of(n))return hf(xt,n,{objectMode:!0,write:o,final:a,destroy:c});let l=n?.then;if(typeof l=="function"){let f,d=yf(l,n,h=>{if(h!=null)throw new uf("nully","body",h)},h=>{Si(f,h)});return f=new xt({objectMode:!0,readable:!1,write:o,final:s(function(h){a(async()=>{try{await d,Xo.nextTick(h,null)}catch(m){Xo.nextTick(h,m)}})},"final"),destroy:c})}throw new uf("Iterable, AsyncIterable or AsyncFunction",i,n)}if(Ob(e))return t(e.arrayBuffer());if(of(e))return hf(xt,e,{objectMode:!0,writable:!1});if(cf(e?.readable)&&lf(e?.writable))return xt.fromWeb(e);if(typeof e?.writable=="object"||typeof e?.readable=="object"){let n=e!=null&&e.readable?sf(e?.readable)?e?.readable:t(e.readable):void 0,o=e!=null&&e.writable?af(e?.writable)?e?.writable:t(e.writable):void 0;return wi({readable:n,writable:o})}let r=e?.then;if(typeof r=="function"){let n;return yf(r,e,o=>{o!=null&&n.push(o),n.push(null)},o=>{Si(n,o)}),n=new xt({objectMode:!0,writable:!1,read:s(function(){},"read")})}throw new Ib(i,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],e)},"duplexify");function Cb(t){let{promise:e,resolve:i}=df(),r=new Tb,n=r.signal;return{value:t(async function*(){for(;;){let a=e;e=null;let{chunk:c,done:l,cb:f}=await a;if(Xo.nextTick(f),l)return;if(n.aborted)throw new mf(void 0,{cause:n.reason});({promise:e,resolve:i}=df()),yield c}}(),{signal:n}),write:s(function(a,c,l){let f=i;i=null,f({chunk:a,done:!1,cb:l})},"write"),final:s(function(a){let c=i;i=null,c({done:!0,cb:a})},"final"),destroy:s(function(a,c){r.abort(),c(a)},"destroy")}}s(Cb,"fromAsyncGen");function wi(t){let e=t.readable&&typeof t.readable.read!="function"?bf.wrap(t.readable):t.readable,i=t.writable,r=!!xb(e),n=!!kb(i),o,a,c,l,f;function d(h){let m=l;l=null,m?m(h):h&&f.destroy(h)}return s(d,"onfinished"),f=new xt({readableObjectMode:!!(e!=null&&e.readableObjectMode),writableObjectMode:!!(i!=null&&i.writableObjectMode),readable:r,writable:n}),n&&(ff(i,h=>{n=!1,h&&Si(e,h),d(h)}),f._write=function(h,m,b){i.write(h,m)?b():o=b},f._final=function(h){i.end(),a=h},i.on("drain",function(){if(o){let h=o;o=null,h()}}),i.on("finish",function(){if(a){let h=a;a=null,h()}})),r&&(ff(e,h=>{r=!1,h&&Si(e,h),d(h)}),e.on("readable",function(){if(c){let h=c;c=null,h()}}),e.on("end",function(){f.push(null)}),f._read=function(){for(;;){let h=e.read();if(h===null){c=f._read;return}if(!f.push(h))return}}),f._destroy=function(h,m){!h&&l!==null&&(h=new mf),c=null,o=null,a=null,l===null?m(h):(l=m,Si(i,h),Si(e,h))},f}s(wi,"_duplexify")});var Je=T((WE,Ef)=>{"use strict";var{ObjectDefineProperties:Rb,ObjectGetOwnPropertyDescriptor:lt,ObjectKeys:Nb,ObjectSetPrototypeOf:Sf}=U();Ef.exports=Ie;var Zo=ir(),ke=fn();Sf(Ie.prototype,Zo.prototype);Sf(Ie,Zo);{let t=Nb(ke.prototype);for(let e=0;e<t.length;e++){let i=t[e];Ie.prototype[i]||(Ie.prototype[i]=ke.prototype[i])}}function Ie(t){if(!(this instanceof Ie))return new Ie(t);Zo.call(this,t),ke.call(this,t),t?(this.allowHalfOpen=t.allowHalfOpen!==!1,t.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),t.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}s(Ie,"Duplex");Rb(Ie.prototype,{writable:{__proto__:null,...lt(ke.prototype,"writable")},writableHighWaterMark:{__proto__:null,...lt(ke.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...lt(ke.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...lt(ke.prototype,"writableBuffer")},writableLength:{__proto__:null,...lt(ke.prototype,"writableLength")},writableFinished:{__proto__:null,...lt(ke.prototype,"writableFinished")},writableCorked:{__proto__:null,...lt(ke.prototype,"writableCorked")},writableEnded:{__proto__:null,...lt(ke.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...lt(ke.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get:s(function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},"get"),set:s(function(t){this._readableState&&this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)},"set")}});var Jo;function _f(){return Jo===void 0&&(Jo={}),Jo}s(_f,"lazyWebStreams");Ie.fromWeb=function(t,e){return _f().newStreamDuplexFromReadableWritablePair(t,e)};Ie.toWeb=function(t){return _f().newReadableWritablePairFromDuplex(t)};var Qo;Ie.from=function(t){return Qo||(Qo=wf()),Qo(t,"body")}});var is=T((qE,kf)=>{"use strict";var{ObjectSetPrototypeOf:xf,Symbol:Lb}=U();kf.exports=ft;var{ERR_METHOD_NOT_IMPLEMENTED:Bb}=se().codes,ts=Je(),{getHighWaterMark:Db}=Zi();xf(ft.prototype,ts.prototype);xf(ft,ts);var sr=Lb("kCallback");function ft(t){if(!(this instanceof ft))return new ft(t);let e=t?Db(this,t,"readableHighWaterMark",!0):null;e===0&&(t={...t,highWaterMark:null,readableHighWaterMark:e,writableHighWaterMark:t.writableHighWaterMark||0}),ts.call(this,t),this._readableState.sync=!1,this[sr]=null,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",Mb)}s(ft,"Transform");function es(t){typeof this._flush=="function"&&!this.destroyed?this._flush((e,i)=>{if(e){t?t(e):this.destroy(e);return}i!=null&&this.push(i),this.push(null),t&&t()}):(this.push(null),t&&t())}s(es,"final");function Mb(){this._final!==es&&es.call(this)}s(Mb,"prefinish");ft.prototype._final=es;ft.prototype._transform=function(t,e,i){throw new Bb("_transform()")};ft.prototype._write=function(t,e,i){let r=this._readableState,n=this._writableState,o=r.length;this._transform(t,e,(a,c)=>{if(a){i(a);return}c!=null&&this.push(c),n.ended||o===r.length||r.length<r.highWaterMark?i():this[sr]=i})};ft.prototype._read=function(){if(this[sr]){let t=this[sr];this[sr]=null,t()}}});var ns=T((zE,Ff)=>{"use strict";var{ObjectSetPrototypeOf:vf}=U();Ff.exports=_i;var rs=is();vf(_i.prototype,rs.prototype);vf(_i,rs);function _i(t){if(!(this instanceof _i))return new _i(t);rs.call(this,t)}s(_i,"PassThrough");_i.prototype._transform=function(t,e,i){i(null,t)}});var pn=T((HE,Tf)=>{var ar=St(),{ArrayIsArray:Ub,Promise:Wb,SymbolAsyncIterator:jb,SymbolDispose:qb}=U(),hn=ct(),{once:$b}=re(),zb=Wt(),If=Je(),{aggregateTwoErrors:Vb,codes:{ERR_INVALID_ARG_TYPE:hs,ERR_INVALID_RETURN_VALUE:os,ERR_MISSING_ARGS:Hb,ERR_STREAM_DESTROYED:Gb,ERR_STREAM_PREMATURE_CLOSE:Yb},AbortError:Kb}=se(),{validateFunction:Xb,validateAbortSignal:Jb}=ui(),{isIterable:zt,isReadable:ss,isReadableNodeStream:dn,isNodeStream:Pf,isTransformStream:Ei,isWebStream:Qb,isReadableStream:as,isReadableFinished:Zb}=Ye(),eg=globalThis.AbortController||ci().AbortController,cs,ls,fs;function Af(t,e,i){let r=!1;t.on("close",()=>{r=!0});let n=hn(t,{readable:e,writable:i},o=>{r=!o});return{destroy:s(o=>{r||(r=!0,zb.destroyer(t,o||new Gb("pipe")))},"destroy"),cleanup:n}}s(Af,"destroyer");function tg(t){return Xb(t[t.length-1],"streams[stream.length - 1]"),t.pop()}s(tg,"popCallback");function us(t){if(zt(t))return t;if(dn(t))return ig(t);throw new hs("val",["Readable","Iterable","AsyncIterable"],t)}s(us,"makeAsyncIterable");async function*ig(t){ls||(ls=ir()),yield*ls.prototype[jb].call(t)}s(ig,"fromReadable");async function un(t,e,i,{end:r}){let n,o=null,a=s(f=>{if(f&&(n=f),o){let d=o;o=null,d()}},"resume"),c=s(()=>new Wb((f,d)=>{n?d(n):o=s(()=>{n?d(n):f()},"onresolve")}),"wait");e.on("drain",a);let l=hn(e,{readable:!1},a);try{e.writableNeedDrain&&await c();for await(let f of t)e.write(f)||await c();r&&(e.end(),await c()),i()}catch(f){i(n!==f?Vb(n,f):f)}finally{l(),e.off("drain",a)}}s(un,"pumpToNode");async function ds(t,e,i,{end:r}){Ei(e)&&(e=e.writable);let n=e.getWriter();try{for await(let o of t)await n.ready,n.write(o).catch(()=>{});await n.ready,r&&await n.close(),i()}catch(o){try{await n.abort(o),i(o)}catch(a){i(a)}}}s(ds,"pumpToWeb");function rg(...t){return Of(t,$b(tg(t)))}s(rg,"pipeline");function Of(t,e,i){if(t.length===1&&Ub(t[0])&&(t=t[0]),t.length<2)throw new Hb("streams");let r=new eg,n=r.signal,o=i?.signal,a=[];Jb(o,"options.signal");function c(){w(new Kb)}s(c,"abort"),fs=fs||re().addAbortListener;let l;o&&(l=fs(o,c));let f,d,h=[],m=0;function b(j){w(j,--m===0)}s(b,"finish");function w(j,O){var G;if(j&&(!f||f.code==="ERR_STREAM_PREMATURE_CLOSE")&&(f=j),!(!f&&!O)){for(;h.length;)h.shift()(f);(G=l)===null||G===void 0||G[qb](),r.abort(),O&&(f||a.forEach(Ft=>Ft()),ar.nextTick(e,f,d))}}s(w,"finishImpl");let g;for(let j=0;j<t.length;j++){let O=t[j],G=j<t.length-1,Ft=j>0,pe=G||i?.end!==!1,Kt=j===t.length-1;if(Pf(O)){let ae=function(Ze){Ze&&Ze.name!=="AbortError"&&Ze.code!=="ERR_STREAM_PREMATURE_CLOSE"&&b(Ze)};var C=ae;if(s(ae,"onError"),pe){let{destroy:Ze,cleanup:In}=Af(O,G,Ft);h.push(Ze),ss(O)&&Kt&&a.push(In)}O.on("error",ae),ss(O)&&Kt&&a.push(()=>{O.removeListener("error",ae)})}if(j===0)if(typeof O=="function"){if(g=O({signal:n}),!zt(g))throw new os("Iterable, AsyncIterable or Stream","source",g)}else zt(O)||dn(O)||Ei(O)?g=O:g=If.from(O);else if(typeof O=="function"){if(Ei(g)){var A;g=us((A=g)===null||A===void 0?void 0:A.readable)}else g=us(g);if(g=O(g,{signal:n}),G){if(!zt(g,!0))throw new os("AsyncIterable",`transform[${j-1}]`,g)}else{var E;cs||(cs=ns());let ae=new cs({objectMode:!0}),Ze=(E=g)===null||E===void 0?void 0:E.then;if(typeof Ze=="function")m++,Ze.call(g,dt=>{d=dt,dt!=null&&ae.write(dt),pe&&ae.end(),ar.nextTick(b)},dt=>{ae.destroy(dt),ar.nextTick(b,dt)});else if(zt(g,!0))m++,un(g,ae,b,{end:pe});else if(as(g)||Ei(g)){let dt=g.readable||g;m++,un(dt,ae,b,{end:pe})}else throw new os("AsyncIterable or Promise","destination",g);g=ae;let{destroy:In,cleanup:Zu}=Af(g,!1,!0);h.push(In),Kt&&a.push(Zu)}}else if(Pf(O)){if(dn(g)){m+=2;let ae=ng(g,O,b,{end:pe});ss(O)&&Kt&&a.push(ae)}else if(Ei(g)||as(g)){let ae=g.readable||g;m++,un(ae,O,b,{end:pe})}else if(zt(g))m++,un(g,O,b,{end:pe});else throw new hs("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],g);g=O}else if(Qb(O)){if(dn(g))m++,ds(us(g),O,b,{end:pe});else if(as(g)||zt(g))m++,ds(g,O,b,{end:pe});else if(Ei(g))m++,ds(g.readable,O,b,{end:pe});else throw new hs("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],g);g=O}else g=If.from(O)}return(n!=null&&n.aborted||o!=null&&o.aborted)&&ar.nextTick(c),g}s(Of,"pipelineImpl");function ng(t,e,i,{end:r}){let n=!1;if(e.on("close",()=>{n||i(new Yb)}),t.pipe(e,{end:!1}),r){let a=function(){n=!0,e.end()};var o=a;s(a,"endFn"),Zb(t)?ar.nextTick(a):t.once("end",a)}else i();return hn(t,{readable:!0,writable:!1},a=>{let c=t._readableState;a&&a.code==="ERR_STREAM_PREMATURE_CLOSE"&&c&&c.ended&&!c.errored&&!c.errorEmitted?t.once("end",i).once("error",i):i(a)}),hn(e,{readable:!1,writable:!0},i)}s(ng,"pipe");Tf.exports={pipelineImpl:Of,pipeline:rg}});var ys=T((YE,Df)=>{"use strict";var{pipeline:og}=pn(),yn=Je(),{destroyer:sg}=Wt(),{isNodeStream:mn,isReadable:Cf,isWritable:Rf,isWebStream:ps,isTransformStream:Vt,isWritableStream:Nf,isReadableStream:Lf}=Ye(),{AbortError:ag,codes:{ERR_INVALID_ARG_VALUE:Bf,ERR_MISSING_ARGS:cg}}=se(),lg=ct();Df.exports=s(function(...e){if(e.length===0)throw new cg("streams");if(e.length===1)return yn.from(e[0]);let i=[...e];if(typeof e[0]=="function"&&(e[0]=yn.from(e[0])),typeof e[e.length-1]=="function"){let b=e.length-1;e[b]=yn.from(e[b])}for(let b=0;b<e.length;++b)if(!(!mn(e[b])&&!ps(e[b]))){if(b<e.length-1&&!(Cf(e[b])||Lf(e[b])||Vt(e[b])))throw new Bf(`streams[${b}]`,i[b],"must be readable");if(b>0&&!(Rf(e[b])||Nf(e[b])||Vt(e[b])))throw new Bf(`streams[${b}]`,i[b],"must be writable")}let r,n,o,a,c;function l(b){let w=a;a=null,w?w(b):b?c.destroy(b):!m&&!h&&c.destroy()}s(l,"onfinished");let f=e[0],d=og(e,l),h=!!(Rf(f)||Nf(f)||Vt(f)),m=!!(Cf(d)||Lf(d)||Vt(d));if(c=new yn({writableObjectMode:!!(f!=null&&f.writableObjectMode),readableObjectMode:!!(d!=null&&d.readableObjectMode),writable:h,readable:m}),h){if(mn(f))c._write=function(w,g,A){f.write(w,g)?A():r=A},c._final=function(w){f.end(),n=w},f.on("drain",function(){if(r){let w=r;r=null,w()}});else if(ps(f)){let g=(Vt(f)?f.writable:f).getWriter();c._write=async function(A,E,C){try{await g.ready,g.write(A).catch(()=>{}),C()}catch(j){C(j)}},c._final=async function(A){try{await g.ready,g.close().catch(()=>{}),n=A}catch(E){A(E)}}}let b=Vt(d)?d.readable:d;lg(b,()=>{if(n){let w=n;n=null,w()}})}if(m){if(mn(d))d.on("readable",function(){if(o){let b=o;o=null,b()}}),d.on("end",function(){c.push(null)}),c._read=function(){for(;;){let b=d.read();if(b===null){o=c._read;return}if(!c.push(b))return}};else if(ps(d)){let w=(Vt(d)?d.readable:d).getReader();c._read=async function(){for(;;)try{let{value:g,done:A}=await w.read();if(!c.push(g))return;if(A){c.push(null);return}}catch{return}}}}return c._destroy=function(b,w){!b&&a!==null&&(b=new ag),o=null,r=null,n=null,a===null?w(b):(a=w,mn(d)&&sg(d,b))},c},"compose")});var Gf=T((XE,gs)=>{"use strict";var fg=globalThis.AbortController||ci().AbortController,{codes:{ERR_INVALID_ARG_VALUE:ug,ERR_INVALID_ARG_TYPE:cr,ERR_MISSING_ARGS:dg,ERR_OUT_OF_RANGE:hg},AbortError:Qe}=se(),{validateAbortSignal:Ht,validateInteger:Mf,validateObject:Gt}=ui(),pg=U().Symbol("kWeak"),yg=U().Symbol("kResistStopPropagation"),{finished:mg}=ct(),bg=ys(),{addAbortSignalNoValidate:gg}=Qi(),{isWritable:wg,isNodeStream:Sg}=Ye(),{deprecate:_g}=re(),{ArrayPrototypePush:Eg,Boolean:xg,MathFloor:Uf,Number:kg,NumberIsNaN:vg,Promise:Wf,PromiseReject:jf,PromiseResolve:Fg,PromisePrototypeThen:qf,Symbol:zf}=U(),bn=zf("kEmpty"),$f=zf("kEof");function Ig(t,e){if(e!=null&&Gt(e,"options"),e?.signal!=null&&Ht(e.signal,"options.signal"),Sg(t)&&!wg(t))throw new ug("stream",t,"must be writable");let i=bg(this,t);return e!=null&&e.signal&&gg(e.signal,i),i}s(Ig,"compose");function gn(t,e){if(typeof t!="function")throw new cr("fn",["Function","AsyncFunction"],t);e!=null&&Gt(e,"options"),e?.signal!=null&&Ht(e.signal,"options.signal");let i=1;e?.concurrency!=null&&(i=Uf(e.concurrency));let r=i-1;return e?.highWaterMark!=null&&(r=Uf(e.highWaterMark)),Mf(i,"options.concurrency",1),Mf(r,"options.highWaterMark",0),r+=i,s(async function*(){let o=re().AbortSignalAny([e?.signal].filter(xg)),a=this,c=[],l={signal:o},f,d,h=!1,m=0;function b(){h=!0,w()}s(b,"onCatch");function w(){m-=1,g()}s(w,"afterItemProcessed");function g(){d&&!h&&m<i&&c.length<r&&(d(),d=null)}s(g,"maybeResume");async function A(){try{for await(let E of a){if(h)return;if(o.aborted)throw new Qe;try{if(E=t(E,l),E===bn)continue;E=Fg(E)}catch(C){E=jf(C)}m+=1,qf(E,w,b),c.push(E),f&&(f(),f=null),!h&&(c.length>=r||m>=i)&&await new Wf(C=>{d=C})}c.push($f)}catch(E){let C=jf(E);qf(C,w,b),c.push(C)}finally{h=!0,f&&(f(),f=null)}}s(A,"pump"),A();try{for(;;){for(;c.length>0;){let E=await c[0];if(E===$f)return;if(o.aborted)throw new Qe;E!==bn&&(yield E),c.shift(),g()}await new Wf(E=>{f=E})}}finally{h=!0,d&&(d(),d=null)}},"map").call(this)}s(gn,"map");function Pg(t=void 0){return t!=null&&Gt(t,"options"),t?.signal!=null&&Ht(t.signal,"options.signal"),s(async function*(){let i=0;for await(let n of this){var r;if(t!=null&&(r=t.signal)!==null&&r!==void 0&&r.aborted)throw new Qe({cause:t.signal.reason});yield[i++,n]}},"asIndexedPairs").call(this)}s(Pg,"asIndexedPairs");async function Vf(t,e=void 0){for await(let i of bs.call(this,t,e))return!0;return!1}s(Vf,"some");async function Ag(t,e=void 0){if(typeof t!="function")throw new cr("fn",["Function","AsyncFunction"],t);return!await Vf.call(this,async(...i)=>!await t(...i),e)}s(Ag,"every");async function Og(t,e){for await(let i of bs.call(this,t,e))return i}s(Og,"find");async function Tg(t,e){if(typeof t!="function")throw new cr("fn",["Function","AsyncFunction"],t);async function i(r,n){return await t(r,n),bn}s(i,"forEachFn");for await(let r of gn.call(this,i,e));}s(Tg,"forEach");function bs(t,e){if(typeof t!="function")throw new cr("fn",["Function","AsyncFunction"],t);async function i(r,n){return await t(r,n)?r:bn}return s(i,"filterFn"),gn.call(this,i,e)}s(bs,"filter");var ms=class extends dg{static{s(this,"ReduceAwareErrMissingArgs")}constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function Cg(t,e,i){var r;if(typeof t!="function")throw new cr("reducer",["Function","AsyncFunction"],t);i!=null&&Gt(i,"options"),i?.signal!=null&&Ht(i.signal,"options.signal");let n=arguments.length>1;if(i!=null&&(r=i.signal)!==null&&r!==void 0&&r.aborted){let f=new Qe(void 0,{cause:i.signal.reason});throw this.once("error",()=>{}),await mg(this.destroy(f)),f}let o=new fg,a=o.signal;if(i!=null&&i.signal){let f={once:!0,[pg]:this,[yg]:!0};i.signal.addEventListener("abort",()=>o.abort(),f)}let c=!1;try{for await(let f of this){var l;if(c=!0,i!=null&&(l=i.signal)!==null&&l!==void 0&&l.aborted)throw new Qe;n?e=await t(e,f,{signal:a}):(e=f,n=!0)}if(!c&&!n)throw new ms}finally{o.abort()}return e}s(Cg,"reduce");async function Rg(t){t!=null&&Gt(t,"options"),t?.signal!=null&&Ht(t.signal,"options.signal");let e=[];for await(let r of this){var i;if(t!=null&&(i=t.signal)!==null&&i!==void 0&&i.aborted)throw new Qe(void 0,{cause:t.signal.reason});Eg(e,r)}return e}s(Rg,"toArray");function Ng(t,e){let i=gn.call(this,t,e);return s(async function*(){for await(let n of i)yield*n},"flatMap").call(this)}s(Ng,"flatMap");function Hf(t){if(t=kg(t),vg(t))return 0;if(t<0)throw new hg("number",">= 0",t);return t}s(Hf,"toIntegerOrInfinity");function Lg(t,e=void 0){return e!=null&&Gt(e,"options"),e?.signal!=null&&Ht(e.signal,"options.signal"),t=Hf(t),s(async function*(){var r;if(e!=null&&(r=e.signal)!==null&&r!==void 0&&r.aborted)throw new Qe;for await(let o of this){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new Qe;t--<=0&&(yield o)}},"drop").call(this)}s(Lg,"drop");function Bg(t,e=void 0){return e!=null&&Gt(e,"options"),e?.signal!=null&&Ht(e.signal,"options.signal"),t=Hf(t),s(async function*(){var r;if(e!=null&&(r=e.signal)!==null&&r!==void 0&&r.aborted)throw new Qe;for await(let o of this){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new Qe;if(t-- >0&&(yield o),t<=0)return}},"take").call(this)}s(Bg,"take");gs.exports.streamReturningOperators={asIndexedPairs:_g(Pg,"readable.asIndexedPairs will be removed in a future version."),drop:Lg,filter:bs,flatMap:Ng,map:gn,take:Bg,compose:Ig};gs.exports.promiseReturningOperators={every:Ag,forEach:Tg,reduce:Cg,toArray:Rg,some:Vf,find:Og}});var ws=T((QE,Yf)=>{"use strict";var{ArrayPrototypePop:Dg,Promise:Mg}=U(),{isIterable:Ug,isNodeStream:Wg,isWebStream:jg}=Ye(),{pipelineImpl:qg}=pn(),{finished:$g}=ct();Ss();function zg(...t){return new Mg((e,i)=>{let r,n,o=t[t.length-1];if(o&&typeof o=="object"&&!Wg(o)&&!Ug(o)&&!jg(o)){let a=Dg(t);r=a.signal,n=a.end}qg(t,(a,c)=>{a?i(a):e(c)},{signal:r,end:n})})}s(zg,"pipeline");Yf.exports={finished:$g,pipeline:zg}});var Ss=T((e0,ru)=>{var{Buffer:Vg}=_e(),{ObjectDefineProperty:ut,ObjectKeys:Jf,ReflectApply:Qf}=U(),{promisify:{custom:Zf}}=re(),{streamReturningOperators:Kf,promiseReturningOperators:Xf}=Gf(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:eu}}=se(),Hg=ys(),{setDefaultHighWaterMark:Gg,getDefaultHighWaterMark:Yg}=Zi(),{pipeline:tu}=pn(),{destroyer:Kg}=Wt(),iu=ct(),_s=ws(),lr=Ye(),L=ru.exports=Xr().Stream;L.isDestroyed=lr.isDestroyed;L.isDisturbed=lr.isDisturbed;L.isErrored=lr.isErrored;L.isReadable=lr.isReadable;L.isWritable=lr.isWritable;L.Readable=ir();for(let t of Jf(Kf)){let i=function(...r){if(new.target)throw eu();return L.Readable.from(Qf(e,this,r))};Es=i,s(i,"fn");let e=Kf[t];ut(i,"name",{__proto__:null,value:e.name}),ut(i,"length",{__proto__:null,value:e.length}),ut(L.Readable.prototype,t,{__proto__:null,value:i,enumerable:!1,configurable:!0,writable:!0})}var Es;for(let t of Jf(Xf)){let i=function(...n){if(new.target)throw eu();return Qf(e,this,n)};Es=i,s(i,"fn");let e=Xf[t];ut(i,"name",{__proto__:null,value:e.name}),ut(i,"length",{__proto__:null,value:e.length}),ut(L.Readable.prototype,t,{__proto__:null,value:i,enumerable:!1,configurable:!0,writable:!0})}var Es;L.Writable=fn();L.Duplex=Je();L.Transform=is();L.PassThrough=ns();L.pipeline=tu;var{addAbortSignal:Xg}=Qi();L.addAbortSignal=Xg;L.finished=iu;L.destroy=Kg;L.compose=Hg;L.setDefaultHighWaterMark=Gg;L.getDefaultHighWaterMark=Yg;ut(L,"promises",{__proto__:null,configurable:!0,enumerable:!0,get:s(function(){return _s},"get")});ut(tu,Zf,{__proto__:null,enumerable:!0,get:s(function(){return _s.pipeline},"get")});ut(iu,Zf,{__proto__:null,enumerable:!0,get:s(function(){return _s.finished},"get")});L.Stream=L;L._isUint8Array=s(function(e){return e instanceof Uint8Array},"isUint8Array");L._uint8ArrayToBuffer=s(function(e){return Vg.from(e.buffer,e.byteOffset,e.byteLength)},"_uint8ArrayToBuffer")});var nu=T((i0,H)=>{"use strict";var J=Ss(),Jg=ws(),Qg=J.Readable.destroy;H.exports=J.Readable;H.exports._uint8ArrayToBuffer=J._uint8ArrayToBuffer;H.exports._isUint8Array=J._isUint8Array;H.exports.isDisturbed=J.isDisturbed;H.exports.isErrored=J.isErrored;H.exports.isReadable=J.isReadable;H.exports.Readable=J.Readable;H.exports.Writable=J.Writable;H.exports.Duplex=J.Duplex;H.exports.Transform=J.Transform;H.exports.PassThrough=J.PassThrough;H.exports.addAbortSignal=J.addAbortSignal;H.exports.finished=J.finished;H.exports.destroy=J.destroy;H.exports.destroy=Qg;H.exports.pipeline=J.pipeline;H.exports.compose=J.compose;Object.defineProperty(J,"promises",{configurable:!0,enumerable:!0,get:s(function(){return Jg},"get")});H.exports.Stream=J.Stream;H.exports.default=H.exports});var iw={};yr(iw,{Async:()=>Rn,AsyncTransaction:()=>Bn,BigIntStats:()=>fe,BigIntStatsFs:()=>Ti,Dir:()=>wt,Dirent:()=>gt,Errno:()=>B,ErrnoError:()=>u,Fetch:()=>Gd,FetchFS:()=>kr,File:()=>Pt,FileSystem:()=>ie,FileType:()=>te,InMemory:()=>Mi,InMemoryStore:()=>Sr,IndexFS:()=>Wi,Inode:()=>Me,Locked:()=>Yd,LockedFS:()=>ii,NoSyncFile:()=>Qt,Overlay:()=>Kd,OverlayFS:()=>ji,Port:()=>qd,PortFS:()=>Er,PortFile:()=>Ui,PreloadFile:()=>de,ReadStream:()=>kt,Readonly:()=>Nn,SimpleAsyncStore:()=>Dn,SimpleTransaction:()=>ei,Stats:()=>K,StatsCommon:()=>Ai,StatsFs:()=>Oi,StoreFS:()=>Li,Sync:()=>Ld,SyncTransaction:()=>Di,Transaction:()=>Bi,UnlockedOverlayFS:()=>vr,WriteStream:()=>vt,ZenFsType:()=>Cn,_toUnixTimestamp:()=>Dd,access:()=>Mu,accessSync:()=>$a,appendFile:()=>pu,appendFileSync:()=>Aa,attachFS:()=>Wd,checkOptions:()=>zn,chmod:()=>Ru,chmodSync:()=>Wa,chown:()=>Tu,chownSync:()=>Ma,close:()=>mu,closeSync:()=>bt,configure:()=>ew,constants:()=>It,copyFile:()=>Hu,copyFileSync:()=>so,cp:()=>Xu,cpSync:()=>ao,createReadStream:()=>qu,createWriteStream:()=>$u,decode:()=>Zt,decodeDirListing:()=>wr,default:()=>tw,detachFS:()=>jd,encode:()=>ve,encodeDirListing:()=>be,errorMessages:()=>Pn,exists:()=>su,existsSync:()=>ze,fchmod:()=>xu,fchmodSync:()=>Lr,fchown:()=>Eu,fchownSync:()=>Nr,fdatasync:()=>wu,fdatasyncSync:()=>Ra,flagToMode:()=>At,flagToNumber:()=>Td,flagToString:()=>zs,fs:()=>pr,fstat:()=>yu,fstatSync:()=>Oa,fsync:()=>gu,fsyncSync:()=>Ca,ftruncate:()=>bu,ftruncateSync:()=>Ta,futimes:()=>ku,futimesSync:()=>Br,isAppendable:()=>nt,isBackend:()=>qi,isBackendConfig:()=>Fr,isExclusive:()=>Ni,isReadable:()=>ht,isSynchronous:()=>Cd,isTruncating:()=>Ri,isWriteable:()=>ue,lchmod:()=>Nu,lchmodSync:()=>ja,lchown:()=>Cu,lchownSync:()=>Ua,levenshtein:()=>Ln,link:()=>Pu,linkSync:()=>Ba,lopenSync:()=>Ki,lstat:()=>cu,lstatSync:()=>to,lutimes:()=>Bu,lutimesSync:()=>qa,mkdir:()=>Fu,mkdirSync:()=>Dr,mkdirpSync:()=>Hs,mkdtemp:()=>Vu,mkdtempSync:()=>za,mount:()=>Vi,mountObject:()=>Hi,mounts:()=>Ee,nop:()=>S,normalizeMode:()=>ge,normalizeOptions:()=>we,normalizePath:()=>_,normalizeTime:()=>Ot,open:()=>uu,openAsBlob:()=>Qu,openSync:()=>Yi,opendir:()=>Ku,opendirSync:()=>Ga,parseFlag:()=>D,promises:()=>hr,randomIno:()=>Ci,read:()=>_u,readFile:()=>du,readFileSync:()=>Rr,readSync:()=>La,readdir:()=>Iu,readdirSync:()=>ai,readlink:()=>Ou,readlinkSync:()=>ro,readv:()=>Gu,readvSync:()=>Va,realpath:()=>Du,realpathSync:()=>$e,rename:()=>ou,renameSync:()=>Fa,resolveMountConfig:()=>Us,rm:()=>zu,rmSync:()=>oo,rmdir:()=>vu,rmdirSync:()=>io,rootCred:()=>We,rootIno:()=>Ue,setImmediate:()=>Bd,size_max:()=>me,stat:()=>au,statSync:()=>Gi,statfs:()=>Ju,statfsSync:()=>Ya,symlink:()=>Au,symlinkSync:()=>Da,truncate:()=>lu,truncateSync:()=>Ia,umount:()=>Or,unlink:()=>fu,unlinkSync:()=>Cr,unwatchFile:()=>Wu,utimes:()=>Lu,utimesSync:()=>no,watch:()=>ju,watchFile:()=>Uu,write:()=>Su,writeFile:()=>hu,writeFileSync:()=>Xi,writeSync:()=>Na,writev:()=>Yu,writevSync:()=>Ha});var B=(p=>(p[p.EPERM=1]="EPERM",p[p.ENOENT=2]="ENOENT",p[p.EINTR=4]="EINTR",p[p.EIO=5]="EIO",p[p.ENXIO=6]="ENXIO",p[p.EBADF=9]="EBADF",p[p.EAGAIN=11]="EAGAIN",p[p.ENOMEM=12]="ENOMEM",p[p.EACCES=13]="EACCES",p[p.EFAULT=14]="EFAULT",p[p.ENOTBLK=15]="ENOTBLK",p[p.EBUSY=16]="EBUSY",p[p.EEXIST=17]="EEXIST",p[p.EXDEV=18]="EXDEV",p[p.ENODEV=19]="ENODEV",p[p.ENOTDIR=20]="ENOTDIR",p[p.EISDIR=21]="EISDIR",p[p.EINVAL=22]="EINVAL",p[p.ENFILE=23]="ENFILE",p[p.EMFILE=24]="EMFILE",p[p.ETXTBSY=26]="ETXTBSY",p[p.EFBIG=27]="EFBIG",p[p.ENOSPC=28]="ENOSPC",p[p.ESPIPE=29]="ESPIPE",p[p.EROFS=30]="EROFS",p[p.EMLINK=31]="EMLINK",p[p.EPIPE=32]="EPIPE",p[p.EDOM=33]="EDOM",p[p.ERANGE=34]="ERANGE",p[p.EDEADLK=35]="EDEADLK",p[p.ENAMETOOLONG=36]="ENAMETOOLONG",p[p.ENOLCK=37]="ENOLCK",p[p.ENOSYS=38]="ENOSYS",p[p.ENOTEMPTY=39]="ENOTEMPTY",p[p.ELOOP=40]="ELOOP",p[p.ENOMSG=42]="ENOMSG",p[p.EBADE=52]="EBADE",p[p.EBADR=53]="EBADR",p[p.EXFULL=54]="EXFULL",p[p.ENOANO=55]="ENOANO",p[p.EBADRQC=56]="EBADRQC",p[p.ENOSTR=60]="ENOSTR",p[p.ENODATA=61]="ENODATA",p[p.ETIME=62]="ETIME",p[p.ENOSR=63]="ENOSR",p[p.ENONET=64]="ENONET",p[p.EREMOTE=66]="EREMOTE",p[p.ENOLINK=67]="ENOLINK",p[p.ECOMM=70]="ECOMM",p[p.EPROTO=71]="EPROTO",p[p.EBADMSG=74]="EBADMSG",p[p.EOVERFLOW=75]="EOVERFLOW",p[p.EBADFD=77]="EBADFD",p[p.ESTRPIPE=86]="ESTRPIPE",p[p.ENOTSOCK=88]="ENOTSOCK",p[p.EDESTADDRREQ=89]="EDESTADDRREQ",p[p.EMSGSIZE=90]="EMSGSIZE",p[p.EPROTOTYPE=91]="EPROTOTYPE",p[p.ENOPROTOOPT=92]="ENOPROTOOPT",p[p.EPROTONOSUPPORT=93]="EPROTONOSUPPORT",p[p.ESOCKTNOSUPPORT=94]="ESOCKTNOSUPPORT",p[p.ENOTSUP=95]="ENOTSUP",p[p.ENETDOWN=100]="ENETDOWN",p[p.ENETUNREACH=101]="ENETUNREACH",p[p.ENETRESET=102]="ENETRESET",p[p.ETIMEDOUT=110]="ETIMEDOUT",p[p.ECONNREFUSED=111]="ECONNREFUSED",p[p.EHOSTDOWN=112]="EHOSTDOWN",p[p.EHOSTUNREACH=113]="EHOSTUNREACH",p[p.EALREADY=114]="EALREADY",p[p.EINPROGRESS=115]="EINPROGRESS",p[p.ESTALE=116]="ESTALE",p[p.EREMOTEIO=121]="EREMOTEIO",p[p.EDQUOT=122]="EDQUOT",p))(B||{}),Pn={1:"Operation not permitted",2:"No such file or directory",4:"Interrupted system call",5:"Input/output error",6:"No such device or address",9:"Bad file descriptor",11:"Resource temporarily unavailable",12:"Cannot allocate memory",13:"Permission denied",14:"Bad address",15:"Block device required",16:"Resource busy or locked",17:"File exists",18:"Invalid cross-device link",19:"No such device",20:"File is not a directory",21:"File is a directory",22:"Invalid argument",23:"Too many open files in system",24:"Too many open files",26:"Text file busy",27:"File is too big",28:"No space left on disk",29:"Illegal seek",30:"Cannot modify a read-only file system",31:"Too many links",32:"Broken pipe",33:"Numerical argument out of domain",34:"Numerical result out of range",35:"Resource deadlock would occur",36:"File name too long",37:"No locks available",38:"Function not implemented",39:"Directory is not empty",40:"Too many levels of symbolic links",42:"No message of desired type",52:"Invalid exchange",53:"Invalid request descriptor",54:"Exchange full",55:"No anode",56:"Invalid request code",60:"Device not a stream",61:"No data available",62:"Timer expired",63:"Out of streams resources",64:"Machine is not on the network",66:"Object is remote",67:"Link has been severed",70:"Communication error on send",71:"Protocol error",74:"Bad message",75:"Value too large for defined data type",77:"File descriptor in bad state",86:"Streams pipe error",88:"Socket operation on non-socket",89:"Destination address required",90:"Message too long",91:"Protocol wrong type for socket",92:"Protocol not available",93:"Protocol not supported",94:"Socket type not supported",95:"Operation is not supported",100:"Network is down",101:"Network is unreachable",102:"Network dropped connection on reset",110:"Connection timed out",111:"Connection refused",112:"Host is down",113:"No route to host",114:"Operation already in progress",115:"Operation now in progress",116:"Stale file handle",121:"Remote I/O error",122:"Disk quota exceeded"},u=class t extends Error{constructor(i,r=Pn[i],n,o=""){super(r);this.errno=i;this.path=n;this.syscall=o;this.code=B[i],this.message=`${this.code}: ${r}${this.path?`, '${this.path}'`:""}`}static{s(this,"ErrnoError")}static fromJSON(i){let r=new t(i.errno,i.message,i.path,i.syscall);return r.code=i.code,r.stack=i.stack,r}static With(i,r,n){return new t(B[i],Pn[B[i]],r,n)}toString(){return this.message}toJSON(){return{errno:this.errno,code:this.code,path:this.path,stack:this.stack,message:this.message,syscall:this.syscall}}bufferSize(){return 4+JSON.stringify(this.toJSON()).length}};var It={};yr(It,{COPYFILE_EXCL:()=>Pi,COPYFILE_FICLONE:()=>ad,COPYFILE_FICLONE_FORCE:()=>cd,F_OK:()=>Ii,O_APPEND:()=>Ne,O_CREAT:()=>Q,O_DIRECT:()=>yd,O_DIRECTORY:()=>fd,O_DSYNC:()=>hd,O_EXCL:()=>Ce,O_NOATIME:()=>ud,O_NOCTTY:()=>ld,O_NOFOLLOW:()=>dd,O_NONBLOCK:()=>md,O_RDONLY:()=>Xt,O_RDWR:()=>ce,O_SYMLINK:()=>pd,O_SYNC:()=>Jt,O_TRUNC:()=>Re,O_WRONLY:()=>Te,R_OK:()=>Oe,S_IFBLK:()=>tt,S_IFCHR:()=>it,S_IFDIR:()=>De,S_IFIFO:()=>rt,S_IFLNK:()=>Le,S_IFMT:()=>q,S_IFREG:()=>Be,S_IFSOCK:()=>et,S_IRGRP:()=>xd,S_IROTH:()=>Fd,S_IRUSR:()=>Sd,S_IRWXG:()=>On,S_IRWXO:()=>Tn,S_IRWXU:()=>An,S_ISGID:()=>gd,S_ISUID:()=>bd,S_ISVTX:()=>wd,S_IWGRP:()=>kd,S_IWOTH:()=>Id,S_IWUSR:()=>_d,S_IXGRP:()=>vd,S_IXOTH:()=>Pd,S_IXUSR:()=>Ed,UV_FS_O_FILEMAP:()=>Ad,W_OK:()=>ye,X_OK:()=>sd});var Ii=0,Oe=4,ye=2,sd=1,Pi=1,ad=2,cd=4,Xt=0,Te=1,ce=2,Q=64,Ce=128,ld=256,Re=512,Ne=1024,fd=65536,ud=262144,dd=131072,Jt=1052672,hd=4096,pd=32768,yd=16384,md=2048,q=61440,et=49152,Le=40960,Be=32768,tt=24576,De=16384,it=8192,rt=4096,bd=2048,gd=1024,wd=512,An=448,Sd=256,_d=128,Ed=64,On=56,xd=32,kd=16,vd=8,Tn=7,Fd=4,Id=2,Pd=1,Ad=0;var te=(r=>(r[r.FILE=32768]="FILE",r[r.DIRECTORY=16384]="DIRECTORY",r[r.SYMLINK=40960]="SYMLINK",r))(te||{}),Ai=class{constructor({atimeMs:e,mtimeMs:i,ctimeMs:r,birthtimeMs:n,uid:o,gid:a,size:c,mode:l,ino:f}={}){this.dev=this._convert(0);this.ino=this._convert(0);this.rdev=this._convert(0);this.nlink=this._convert(1);this.blksize=this._convert(4096);this.uid=this._convert(0);this.gid=this._convert(0);let d=Date.now();this.atimeMs=this._convert(e??d),this.mtimeMs=this._convert(i??d),this.ctimeMs=this._convert(r??d),this.birthtimeMs=this._convert(n??d),this.uid=this._convert(o??0),this.gid=this._convert(a??0),this.size=this._convert(c??0),this.ino=this._convert(f??0);let h=Number(l)&61440||te.FILE;if(l)this.mode=this._convert(l);else switch(h){case te.FILE:this.mode=this._convert(420);break;case te.DIRECTORY:default:this.mode=this._convert(511)}this.mode&61440||(this.mode=this.mode|this._convert(h))}static{s(this,"StatsCommon")}_convert(e){return this._isBigint?BigInt(e):Number(e)}get blocks(){return this._convert(Math.ceil(Number(this.size)/512))}get atime(){return new Date(Number(this.atimeMs))}set atime(e){this.atimeMs=this._convert(e.getTime())}get mtime(){return new Date(Number(this.mtimeMs))}set mtime(e){this.mtimeMs=this._convert(e.getTime())}get ctime(){return new Date(Number(this.ctimeMs))}set ctime(e){this.ctimeMs=this._convert(e.getTime())}get birthtime(){return new Date(Number(this.birthtimeMs))}set birthtime(e){this.birthtimeMs=this._convert(e.getTime())}isFile(){return(this.mode&61440)===32768}isDirectory(){return(this.mode&61440)===16384}isSymbolicLink(){return(this.mode&61440)===40960}isSocket(){return(this.mode&61440)===49152}isBlockDevice(){return(this.mode&61440)===24576}isCharacterDevice(){return(this.mode&61440)===8192}isFIFO(){return(this.mode&61440)===4096}hasAccess(e,i){if(i.euid===0||i.egid===0)return!0;let r=(i.uid==this.uid?448:0)|(i.gid==this.gid?56:0)|7;return(e&this.mode&r)==e}cred(e=Number(this.uid),i=Number(this.gid)){return{uid:e,gid:i,suid:Number(this.uid),sgid:Number(this.gid),euid:e,egid:i}}chmod(e){this.mode=this._convert(this.mode&61440|e)}chown(e,i){e=Number(e),i=Number(i),!isNaN(e)&&0<=e&&e<2**32&&(this.uid=this._convert(e)),!isNaN(i)&&0<=i&&i<2**32&&(this.gid=this._convert(i))}get atimeNs(){return BigInt(this.atimeMs)*1000n}get mtimeNs(){return BigInt(this.mtimeMs)*1000n}get ctimeNs(){return BigInt(this.ctimeMs)*1000n}get birthtimeNs(){return BigInt(this.birthtimeMs)*1000n}},K=class extends Ai{constructor(){super(...arguments);this._isBigint=!1}static{s(this,"Stats")}},fe=class extends Ai{constructor(){super(...arguments);this._isBigint=!0}static{s(this,"BigIntStats")}},Cn=525687744115,Oi=class{constructor(){this.type=525687744115;this.bsize=4096;this.blocks=0;this.bfree=0;this.bavail=0;this.files=me;this.ffree=me}static{s(this,"StatsFs")}},Ti=class{constructor(){this.type=0x7a656e6673n;this.bsize=4096n;this.blocks=0n;this.bfree=0n;this.bavail=0n;this.files=BigInt(me);this.ffree=BigInt(me)}static{s(this,"BigIntStatsFs")}};var me=2**32-1,Ue=0n;function $s(){return Math.round(Math.random()*2**32).toString(16)}s($s,"_random");function Ci(){return BigInt("0x"+$s()+$s())}s(Ci,"randomIno");var Me=class{static{s(this,"Inode")}get data(){return new Uint8Array(this.buffer)}constructor(e){let i=!e;if(e??=new ArrayBuffer(58),e?.byteLength<58)throw new RangeError("Can not create an inode from a buffer less than 58 bytes");if(this.view=new DataView(e),this.buffer=e,!i)return;this.ino=Ci(),this.nlink=1,this.size=4096;let r=Date.now();this.atimeMs=r,this.mtimeMs=r,this.ctimeMs=r,this.birthtimeMs=r}get ino(){return this.view.getBigUint64(0,!0)}set ino(e){this.view.setBigUint64(0,e,!0)}get size(){return this.view.getUint32(8,!0)}set size(e){this.view.setUint32(8,e,!0)}get mode(){return this.view.getUint16(12,!0)}set mode(e){this.view.setUint16(12,e,!0)}get nlink(){return this.view.getUint32(14,!0)}set nlink(e){this.view.setUint32(14,e,!0)}get uid(){return this.view.getUint32(18,!0)}set uid(e){this.view.setUint32(18,e,!0)}get gid(){return this.view.getUint32(22,!0)}set gid(e){this.view.setUint32(22,e,!0)}get atimeMs(){return this.view.getFloat64(26,!0)}set atimeMs(e){this.view.setFloat64(26,e,!0)}get birthtimeMs(){return this.view.getFloat64(34,!0)}set birthtimeMs(e){this.view.setFloat64(34,e,!0)}get mtimeMs(){return this.view.getFloat64(42,!0)}set mtimeMs(e){this.view.setFloat64(42,e,!0)}get ctimeMs(){return this.view.getFloat64(50,!0)}set ctimeMs(e){this.view.setFloat64(50,e,!0)}toStats(){return new K(this)}update(e){let i=!1;return this.size!==e.size&&(this.size=e.size,i=!0),this.mode!==e.mode&&(this.mode=e.mode,i=!0),this.nlink!==e.nlink&&(this.nlink=e.nlink,i=!0),this.uid!==e.uid&&(this.uid=e.uid,i=!0),this.uid!==e.uid&&(this.uid=e.uid,i=!0),this.atimeMs!==e.atimeMs&&(this.atimeMs=e.atimeMs,i=!0),this.mtimeMs!==e.mtimeMs&&(this.mtimeMs=e.mtimeMs,i=!0),this.ctimeMs!==e.ctimeMs&&(this.ctimeMs=e.ctimeMs,i=!0),i}};Symbol.dispose??=Symbol("Symbol.dispose");Symbol.asyncDispose??=Symbol("Symbol.asyncDispose");var Od=["r","r+","rs","rs+","w","wx","w+","wx+","a","ax","a+","ax+"];function D(t){if(typeof t=="number")return zs(t);if(!Od.includes(t))throw new Error("Invalid flag string: "+t);return t}s(D,"parseFlag");function zs(t){switch(t){case 0:return"r";case 1052672:return"rs";case 2:return"r+";case 1052674:return"rs+";case 577:return"w";case 705:return"wx";case 578:return"w+";case 706:return"wx+";case 1089:return"a";case 1217:return"ax";case 1090:return"a+";case 1218:return"ax+";default:throw new Error("Invalid flag number: "+t)}}s(zs,"flagToString");function Td(t){switch(t){case"r":return 0;case"rs":return 1052672;case"r+":return 2;case"rs+":return 1052674;case"w":return 577;case"wx":return 705;case"w+":return 578;case"wx+":return 706;case"a":return 1089;case"ax":return 1217;case"a+":return 1090;case"ax+":return 1218;default:throw new Error("Invalid flag string: "+t)}}s(Td,"flagToNumber");function At(t){let e=0;return e<<=1,e+=+ht(t),e<<=1,e+=+ue(t),e<<=1,e}s(At,"flagToMode");function ht(t){return t.indexOf("r")!==-1||t.indexOf("+")!==-1}s(ht,"isReadable");function ue(t){return t.indexOf("w")!==-1||t.indexOf("a")!==-1||t.indexOf("+")!==-1}s(ue,"isWriteable");function Ri(t){return t.indexOf("w")!==-1}s(Ri,"isTruncating");function nt(t){return t.indexOf("a")!==-1}s(nt,"isAppendable");function Cd(t){return t.indexOf("s")!==-1}s(Cd,"isSynchronous");function Ni(t){return t.indexOf("x")!==-1}s(Ni,"isExclusive");var Pt=class{static{s(this,"File")}[Symbol.asyncDispose](){return this.close()}[Symbol.dispose](){return this.closeSync()}datasync(){return this.sync()}datasyncSync(){return this.syncSync()}},de=class extends Pt{constructor(i,r,n,o,a=new Uint8Array(new ArrayBuffer(0,i.metadata().noResizableBuffers?{}:{maxByteLength:me}))){super();this.fs=i;this.path=r;this.flag=n;this.stats=o;this._buffer=a;this._position=0;this.dirty=!1;if(this.stats.size!=a.byteLength){if(ht(this.flag))throw new Error(`Size mismatch: buffer length ${a.byteLength}, stats size ${this.stats.size}`);this.dirty=!0}}static{s(this,"PreloadFile")}get buffer(){return this._buffer}get position(){return nt(this.flag)?this.stats.size:this._position}set position(i){this._position=i}async sync(){this.dirty&&(await this.fs.sync(this.path,this._buffer,this.stats),this.dirty=!1)}syncSync(){this.dirty&&(this.fs.syncSync(this.path,this._buffer,this.stats),this.dirty=!1)}async close(){await this.sync()}closeSync(){this.syncSync()}async stat(){return new K(this.stats)}statSync(){return new K(this.stats)}_truncate(i){if(this.dirty=!0,!ue(this.flag))throw new u(1,"File not opened with a writeable mode.");if(this.stats.mtimeMs=Date.now(),i>this._buffer.length){let r=new Uint8Array(i-this._buffer.length);this.writeSync(r,0,r.length,this._buffer.length);return}this.stats.size=i,this._buffer=this._buffer.slice(0,i)}async truncate(i){this._truncate(i),await this.sync()}truncateSync(i){this._truncate(i),this.syncSync()}_write(i,r=0,n=this.stats.size,o=this.position){if(this.dirty=!0,!ue(this.flag))throw new u(1,"File not opened with a writeable mode.");let a=o+n;if(a>this.stats.size&&(this.stats.size=a,a>this._buffer.byteLength))if(this._buffer.buffer.resizable&&this._buffer.buffer.maxByteLength<=a)this._buffer.buffer.resize(a);else{let l=new Uint8Array(new ArrayBuffer(a,this.fs.metadata().noResizableBuffers?{}:{maxByteLength:me}));l.set(this._buffer),this._buffer=l}let c=i.slice(r,r+n);return this._buffer.set(c,o),this.stats.mtimeMs=Date.now(),this.position=o+c.byteLength,c.byteLength}async write(i,r,n,o){let a=this._write(i,r,n,o);return await this.sync(),a}writeSync(i,r=0,n=this.stats.size,o=this.position){let a=this._write(i,r,n,o);return this.syncSync(),a}_read(i,r=0,n=this.stats.size,o){if(!ht(this.flag))throw new u(1,"File not opened with a readable mode.");this.dirty=!0,o??=this.position;let a=o+n;a>this.stats.size&&(a=o+Math.max(this.stats.size-o,0)),this.stats.atimeMs=Date.now(),this._position=a;let c=a-o;return c==0||new Uint8Array(i.buffer,r,n).set(this._buffer.slice(o,a)),c}async read(i,r,n,o){let a=this._read(i,r,n,o);return await this.sync(),{bytesRead:a,buffer:i}}readSync(i,r,n,o){let a=this._read(i,r,n,o);return this.statSync(),a}async chmod(i){this.dirty=!0,this.stats.chmod(i),await this.sync()}chmodSync(i){this.dirty=!0,this.stats.chmod(i),this.syncSync()}async chown(i,r){this.dirty=!0,this.stats.chown(i,r),await this.sync()}chownSync(i,r){this.dirty=!0,this.stats.chown(i,r),this.syncSync()}async utimes(i,r){this.dirty=!0,this.stats.atime=i,this.stats.mtime=r,await this.sync()}utimesSync(i,r){this.dirty=!0,this.stats.atime=i,this.stats.mtime=r,this.syncSync()}async _setType(i){this.dirty=!0,this.stats.mode=this.stats.mode&-61441|i,await this.sync()}_setTypeSync(i){this.dirty=!0,this.stats.mode=this.stats.mode&-61441|i,this.syncSync()}},Qt=class extends de{static{s(this,"NoSyncFile")}constructor(e,i,r,n,o){super(e,i,r,n,o)}async sync(){}syncSync(){}async close(){}closeSync(){}};var We={uid:0,gid:0,suid:0,sgid:0,euid:0,egid:0};var Rd="/";function Vs(t,e){let i="",r=0,n=-1,o=0,a="\0";for(let c=0;c<=t.length;++c){if(c<t.length)a=t[c];else{if(a=="/")break;a="/"}if(a=="/"){if(!(n===c-1||o===1))if(o===2){if(i.length<2||r!==2||i.at(-1)!=="."||i.at(-2)!=="."){if(i.length>2){let l=i.lastIndexOf("/");l===-1?(i="",r=0):(i=i.slice(0,l),r=i.length-1-i.lastIndexOf("/")),n=c,o=0;continue}else if(i.length!==0){i="",r=0,n=c,o=0;continue}}e&&(i+=i.length>0?"/..":"..",r=2)}else i.length>0?i+="/"+t.slice(n+1,c):i=t.slice(n+1,c),r=c-n-1;n=c,o=0}else a==="."&&o!==-1?++o:o=-1}return i}s(Vs,"normalizeString");function pt(...t){let e="";for(let r of[...t.reverse(),Rd])if(r.length&&(e=`${r}/${e}`,r.startsWith("/")))break;let i=e.startsWith("/");return e=Vs(e,!i),i?`/${e}`:e.length?e:"/"}s(pt,"resolve");function Nd(t){if(!t.length)return".";let e=t.startsWith("/"),i=t.endsWith("/");return t=Vs(t,!e),t.length?(i&&(t+="/"),e?`/${t}`:t):e?"/":i?"./":"."}s(Nd,"normalize");function $(...t){if(!t.length)return".";let e=t.join("/");return e?.length?Nd(e):"."}s($,"join");function I(t){if(t.length===0)return".";let e=t[0]==="/",i=-1,r=!0;for(let n=t.length-1;n>=1;--n)if(t[n]==="/"){if(!r){i=n;break}}else r=!1;return i===-1?e?"/":".":e&&i===1?"//":t.slice(0,i)}s(I,"dirname");function z(t,e){let i=0,r=-1,n=!0;if(e!==void 0&&e.length>0&&e.length<=t.length){if(e===t)return"";let o=e.length-1,a=-1;for(let c=t.length-1;c>=0;--c)if(t[c]==="/"){if(!n){i=c+1;break}}else a===-1&&(n=!1,a=c+1),o>=0&&(t[c]===e[o]?--o===-1&&(r=c):(o=-1,r=a));return i===r?r=a:r===-1&&(r=t.length),t.slice(i,r)}for(let o=t.length-1;o>=0;--o)if(t[o]==="/"){if(!n){i=o+1;break}}else r===-1&&(n=!1,r=o+1);return r===-1?"":t.slice(i,r)}s(z,"basename");function br(t){let e=t.startsWith("/"),i={root:e?"/":"",dir:"",base:"",ext:"",name:""};if(t.length===0)return i;let r=e?1:0,n=-1,o=0,a=-1,c=!0,l=t.length-1,f=0;for(;l>=r;--l){if(t[l]==="/"){if(!c){o=l+1;break}continue}a===-1&&(c=!1,a=l+1),t[l]==="."?n===-1?n=l:f!==1&&(f=1):n!==-1&&(f=-1)}if(a!==-1){let d=o===0&&e?1:o;n===-1||f===0||f===1&&n===a-1&&n===o+1?i.base=i.name=t.slice(d,a):(i.name=t.slice(d,n),i.base=t.slice(d,a),i.ext=t.slice(n,a))}return o>0?i.dir=t.slice(0,o-1):e&&(i.dir="/"),i}s(br,"parse");var ie=class{static{s(this,"FileSystem")}metadata(){return{name:this.constructor.name.toLowerCase(),readonly:!1,totalSpace:0,freeSpace:0,noResizableBuffers:!1,noAsyncCache:this._disableSync??!1,type:Cn}}constructor(...e){}async ready(){}async exists(e,i){try{return await this.stat(e,i),!0}catch(r){return r.code!="ENOENT"}}existsSync(e,i){try{return this.statSync(e,i),!0}catch(r){return r.code!="ENOENT"}}};function Ld(t){class e extends t{static{s(this,"SyncFS")}async exists(r,n){return this.existsSync(r,n)}async rename(r,n,o){return this.renameSync(r,n,o)}async stat(r,n){return this.statSync(r,n)}async createFile(r,n,o,a){return this.createFileSync(r,n,o,a)}async openFile(r,n,o){return this.openFileSync(r,n,o)}async unlink(r,n){return this.unlinkSync(r,n)}async rmdir(r,n){return this.rmdirSync(r,n)}async mkdir(r,n,o){return this.mkdirSync(r,n,o)}async readdir(r,n){return this.readdirSync(r,n)}async link(r,n,o){return this.linkSync(r,n,o)}async sync(r,n,o){return this.syncSync(r,n,o)}}return e}s(Ld,"Sync");function Rn(t){class e extends t{constructor(){super(...arguments);this._queue=[];this._isInitialized=!1}static{s(this,"AsyncFS")}get _queueRunning(){return!!this._queue.length}queueDone(){return new Promise(n=>{let o=s(()=>this._queueRunning?setTimeout(o):n(),"check");o()})}async ready(){if(await super.ready(),!(this._isInitialized||this._disableSync)){this.checkSync(),await this._sync.ready();try{await this.crossCopy("/"),this._isInitialized=!0}catch(n){throw this._isInitialized=!1,n}}}checkSync(n,o){if(this._disableSync)throw new u(95,"Sync caching has been disabled for this async file system",n,o);if(!this._sync)throw new u(95,"No sync cache is attached to this async file system",n,o)}renameSync(n,o,a){this.checkSync(n,"rename"),this._sync.renameSync(n,o,a),this.queue("rename",n,o,a)}statSync(n,o){return this.checkSync(n,"stat"),this._sync.statSync(n,o)}createFileSync(n,o,a,c){return this.checkSync(n,"createFile"),this._sync.createFileSync(n,o,a,c),this.queue("createFile",n,o,a,c),this.openFileSync(n,o,c)}openFileSync(n,o,a){this.checkSync(n,"openFile");let c=this._sync.openFileSync(n,o,a),l=c.statSync(),f=new Uint8Array(l.size);return c.readSync(f),new de(this,n,o,l,f)}unlinkSync(n,o){this.checkSync(n,"unlinkSync"),this._sync.unlinkSync(n,o),this.queue("unlink",n,o)}rmdirSync(n,o){this.checkSync(n,"rmdir"),this._sync.rmdirSync(n,o),this.queue("rmdir",n,o)}mkdirSync(n,o,a){this.checkSync(n,"mkdir"),this._sync.mkdirSync(n,o,a),this.queue("mkdir",n,o,a)}readdirSync(n,o){return this.checkSync(n,"readdir"),this._sync.readdirSync(n,o)}linkSync(n,o,a){this.checkSync(n,"link"),this._sync.linkSync(n,o,a),this.queue("link",n,o,a)}syncSync(n,o,a){this.checkSync(n,"sync"),this._sync.syncSync(n,o,a),this.queue("sync",n,o,a)}existsSync(n,o){return this.checkSync(n,"exists"),this._sync.existsSync(n,o)}async crossCopy(n){this.checkSync(n,"crossCopy");let o=await this.stat(n,We);if(o.isDirectory()){if(n!=="/"){let m=await this.stat(n,We);this._sync.mkdirSync(n,m.mode,m.cred())}let h=await this.readdir(n,We);for(let m of h)await this.crossCopy($(n,m))}else{var a=[];try{let h=x(a,await this.openFile(n,D("r"),We),!0);let m=x(a,this._sync.createFileSync(n,D("w"),o.mode,o.cred()));let b=new Uint8Array(o.size);await h.read(b);m.writeSync(b,0,o.size)}catch(c){var l=c,f=!0}finally{var d=k(a,l,f);d&&await d}}}async _next(){if(!this._queueRunning)return;let[n,...o]=this._queue.shift();await this[n](...o),await this._next()}queue(...n){this._queue.push(n),this._next()}}return e}s(Rn,"Async");function Nn(t){class e extends t{static{s(this,"ReadonlyFS")}metadata(){return{...super.metadata(),readonly:!0}}async rename(r,n,o){throw new u(30)}renameSync(r,n,o){throw new u(30)}async createFile(r,n,o,a){throw new u(30)}createFileSync(r,n,o,a){throw new u(30)}async unlink(r,n){throw new u(30)}unlinkSync(r,n){throw new u(30)}async rmdir(r,n){throw new u(30)}rmdirSync(r,n){throw new u(30)}async mkdir(r,n,o){throw new u(30)}mkdirSync(r,n,o){throw new u(30)}async link(r,n,o){throw new u(30)}linkSync(r,n,o){throw new u(30)}async sync(r,n,o){throw new u(30)}syncSync(r,n,o){throw new u(30)}}return e}s(Nn,"Readonly");function Hs(t,e,i,r){r.existsSync(t,i)||(Hs(I(t),e,i,r),r.mkdirSync(t,e,i))}s(Hs,"mkdirpSync");function gr(t,e,i,r,n){return Math.min(t+1,e+1,i+1,r===n?e:e+1)}s(gr,"_min");function Ln(t,e){if(t===e)return 0;t.length>e.length&&([t,e]=[e,t]);let i=t.length,r=e.length;for(;i>0&&t.charCodeAt(i-1)===e.charCodeAt(r-1);)i--,r--;let n=0;for(;n<i&&t.charCodeAt(n)===e.charCodeAt(n);)n++;if(i-=n,r-=n,i===0||r===1)return r;let o=new Array(i<<1);for(let m=0;m<i;)o[i+m]=t.charCodeAt(n+m),o[m]=++m;let a,c,l,f,d;for(a=0;a+3<r;){let m=e.charCodeAt(n+(c=a)),b=e.charCodeAt(n+(l=a+1)),w=e.charCodeAt(n+(f=a+2)),g=e.charCodeAt(n+(d=a+3)),A=a+=4;for(let E=0;E<i;){let C=o[i+E],j=o[E];c=gr(j,c,l,m,C),l=gr(c,l,f,b,C),f=gr(l,f,d,w,C),A=gr(f,d,A,g,C),o[E++]=A,d=f,f=l,l=c,c=j}}let h=0;for(;a<r;){let m=e.charCodeAt(n+(c=a));h=++a;for(let b=0;b<i;b++){let w=o[b];o[b]=h=w<c||h<c?w>h?h+1:w+1:m===o[i+b]?c:c+1,c=w}}return h}s(Ln,"levenshtein");var Bd=typeof globalThis.setImmediate=="function"?globalThis.setImmediate:t=>setTimeout(t,0);function ve(t){if(typeof t!="string")throw new u(22,"Can not encode a non-string");return new Uint8Array(Array.from(t).map(e=>e.charCodeAt(0)))}s(ve,"encode");function Zt(t){if(!(t instanceof Uint8Array))throw new u(22,"Can not decode a non-Uint8Array");return Array.from(t).map(e=>String.fromCharCode(e)).join("")}s(Zt,"decode");function wr(t){return JSON.parse(Zt(t),(e,i)=>e==""?i:BigInt(i))}s(wr,"decodeDirListing");function be(t){return ve(JSON.stringify(t,(e,i)=>e==""?i:i.toString()))}s(be,"encodeDirListing");function Dd(t){if(typeof t=="number")return Math.floor(t);if(t instanceof Date)return Math.floor(t.getTime()/1e3);throw new Error("Cannot parse time: "+t)}s(Dd,"_toUnixTimestamp");function ge(t,e){if(typeof t=="number")return t;if(typeof t=="string"){let i=parseInt(t,8);if(!isNaN(i))return i}if(typeof e=="number")return e;throw new u(22,"Invalid mode: "+t?.toString())}s(ge,"normalizeMode");function Ot(t){if(t instanceof Date)return t;if(typeof t=="number")return new Date(t*1e3);if(typeof t=="string")return new Date(t);throw new u(22,"Invalid time.")}s(Ot,"normalizeTime");function _(t){if(t=t.toString(),t.includes("\0"))throw new u(22,"Path can not contain null character");if(t.length==0)throw new u(22,"Path can not be empty");return pt(t.replaceAll(/[/\\]+/g,"/"))}s(_,"normalizePath");function we(t,e="utf8",i,r=0){return typeof t!="object"||t===null?{encoding:typeof t=="string"?t:e??null,flag:i,mode:r}:{encoding:typeof t?.encoding=="string"?t.encoding:e??null,flag:typeof t?.flag=="string"?t.flag:i,mode:ge("mode"in t?t?.mode:null,r)}}s(we,"normalizeOptions");function S(){}s(S,"nop");var Gs=5,Li=class extends ie{constructor(i){super();this.store=i;this._initialized=!1}static{s(this,"StoreFS")}async ready(){this._initialized||(await this.checkRoot(),this._initialized=!0)}metadata(){return{...super.metadata(),name:this.store.name}}async empty(){await this.store.clear(),await this.checkRoot()}emptySync(){this.store.clearSync(),this.checkRootSync()}async rename(i,r,n){let o=this.store.transaction(),a=I(i),c=z(i),l=I(r),f=z(r),d=await this.findINode(o,a),h=await this.getDirListing(o,d,a);if(!d.toStats().hasAccess(2,n))throw u.With("EACCES",i,"rename");if(!h[c])throw u.With("ENOENT",i,"rename");let m=h[c];if(delete h[c],(l+"/").indexOf(i+"/")===0)throw new u(16,a);let b,w;if(l===a?(b=d,w=h):(b=await this.findINode(o,l),w=await this.getDirListing(o,b,l)),w[f]){let g=await this.getINode(o,w[f],r);if(g.toStats().isFile())try{await o.remove(g.ino),await o.remove(w[f])}catch(A){throw await o.abort(),A}else throw u.With("EPERM",r,"rename")}w[f]=m;try{await o.set(d.ino,be(h)),await o.set(b.ino,be(w))}catch(g){throw await o.abort(),g}await o.commit()}renameSync(i,r,n){let o=this.store.transaction(),a=I(i),c=z(i),l=I(r),f=z(r),d=this.findINodeSync(o,a),h=this.getDirListingSync(o,d,a);if(!d.toStats().hasAccess(2,n))throw u.With("EACCES",i,"rename");if(!h[c])throw u.With("ENOENT",i,"rename");let m=h[c];if(delete h[c],(l+"/").indexOf(i+"/")==0)throw new u(16,a);let b,w;if(l===a?(b=d,w=h):(b=this.findINodeSync(o,l),w=this.getDirListingSync(o,b,l)),w[f]){let g=this.getINodeSync(o,w[f],r);if(g.toStats().isFile())try{o.removeSync(g.ino),o.removeSync(w[f])}catch(A){throw o.abortSync(),A}else throw u.With("EPERM",r,"rename")}w[f]=m;try{o.setSync(d.ino,be(h)),o.setSync(b.ino,be(w))}catch(g){throw o.abortSync(),g}o.commitSync()}async stat(i,r){let n=this.store.transaction(),o=await this.findINode(n,i);if(!o)throw u.With("ENOENT",i,"stat");let a=o.toStats();if(!a.hasAccess(4,r))throw u.With("EACCES",i,"stat");return a}statSync(i,r){let n=this.findINodeSync(this.store.transaction(),i).toStats();if(!n.hasAccess(4,r))throw u.With("EACCES",i,"stat");return n}async createFile(i,r,n,o){let a=new Uint8Array(0),c=await this.commitNew(this.store.transaction(),i,te.FILE,n,o,a);return new de(this,i,r,c.toStats(),a)}createFileSync(i,r,n,o){return this.commitNewSync(i,te.FILE,n,o),this.openFileSync(i,r,o)}async openFile(i,r,n){let o=this.store.transaction(),a=await this.findINode(o,i),c=await o.get(a.ino);if(!a.toStats().hasAccess(At(r),n))throw u.With("EACCES",i,"openFile");if(!c)throw u.With("ENOENT",i,"openFile");return new de(this,i,r,a.toStats(),c)}openFileSync(i,r,n){let o=this.store.transaction(),a=this.findINodeSync(o,i),c=o.getSync(a.ino);if(!a.toStats().hasAccess(At(r),n))throw u.With("EACCES",i,"openFile");if(!c)throw u.With("ENOENT",i,"openFile");return new de(this,i,r,a.toStats(),c)}async unlink(i,r){return this.remove(i,!1,r)}unlinkSync(i,r){this.removeSync(i,!1,r)}async rmdir(i,r){if((await this.readdir(i,r)).length>0)throw u.With("ENOTEMPTY",i,"rmdir");await this.remove(i,!0,r)}rmdirSync(i,r){if(this.readdirSync(i,r).length>0)throw u.With("ENOTEMPTY",i,"rmdir");this.removeSync(i,!0,r)}async mkdir(i,r,n){let o=this.store.transaction(),a=ve("{}");await this.commitNew(o,i,te.DIRECTORY,r,n,a)}mkdirSync(i,r,n){this.commitNewSync(i,te.DIRECTORY,r,n,ve("{}"))}async readdir(i,r){let n=this.store.transaction(),o=await this.findINode(n,i);if(!o.toStats().hasAccess(4,r))throw u.With("EACCES",i,"readdur");return Object.keys(await this.getDirListing(n,o,i))}readdirSync(i,r){let n=this.store.transaction(),o=this.findINodeSync(n,i);if(!o.toStats().hasAccess(4,r))throw u.With("EACCES",i,"readdir");return Object.keys(this.getDirListingSync(n,o,i))}async sync(i,r,n){let o=this.store.transaction(),a=await this._findINode(o,I(i),z(i)),c=await this.getINode(o,a,i),l=c.update(n);try{await o.set(c.ino,r),l&&await o.set(a,c.data)}catch(f){throw await o.abort(),f}await o.commit()}syncSync(i,r,n){let o=this.store.transaction(),a=this._findINodeSync(o,I(i),z(i)),c=this.getINodeSync(o,a,i),l=c.update(n);try{o.setSync(c.ino,r),l&&o.setSync(a,c.data)}catch(f){throw o.abortSync(),f}o.commitSync()}async link(i,r,n){let o=this.store.transaction(),a=I(i);if(!(await this.findINode(o,a)).toStats().hasAccess(4,n))throw u.With("EACCES",a,"link");let l=I(r),f=await this.findINode(o,l),d=await this.getDirListing(o,f,l);if(!f.toStats().hasAccess(2,n))throw u.With("EACCES",l,"link");let h=await this._findINode(o,a,z(i)),m=await this.getINode(o,h,i);if(!m.toStats().hasAccess(2,n))throw u.With("EACCES",r,"link");m.nlink++,d[z(r)]=h;try{o.setSync(h,m.data),o.setSync(f.ino,be(d))}catch(b){throw o.abortSync(),b}o.commitSync()}linkSync(i,r,n){let o=this.store.transaction(),a=I(i);if(!this.findINodeSync(o,a).toStats().hasAccess(4,n))throw u.With("EACCES",a,"link");let l=I(r),f=this.findINodeSync(o,l),d=this.getDirListingSync(o,f,l);if(!f.toStats().hasAccess(2,n))throw u.With("EACCES",l,"link");let h=this._findINodeSync(o,a,z(i)),m=this.getINodeSync(o,h,i);if(!m.toStats().hasAccess(2,n))throw u.With("EACCES",r,"link");m.nlink++,d[z(r)]=h;try{o.setSync(h,m.data),o.setSync(f.ino,be(d))}catch(b){throw o.abortSync(),b}o.commitSync()}async checkRoot(){let i=this.store.transaction();if(await i.get(Ue))return;let r=new Me;r.mode=511|te.DIRECTORY,await i.set(r.ino,ve("{}")),await i.set(Ue,r.data),await i.commit()}checkRootSync(){let i=this.store.transaction();if(i.getSync(Ue))return;let r=new Me;r.mode=511|te.DIRECTORY,i.setSync(r.ino,ve("{}")),i.setSync(Ue,r.data),i.commitSync()}async _findINode(i,r,n,o=new Set){let a=$(r,n);if(o.has(a))throw new u(5,"Infinite loop detected while finding inode",a);if(o.add(a),r=="/"&&n==="")return Ue;let c=r=="/"?await this.getINode(i,Ue,r):await this.findINode(i,r,o),l=await this.getDirListing(i,c,r);if(!(n in l))throw u.With("ENOENT",pt(r,n),"_findINode");return l[n]}_findINodeSync(i,r,n,o=new Set){let a=$(r,n);if(o.has(a))throw new u(5,"Infinite loop detected while finding inode",a);if(o.add(a),r=="/"&&n==="")return Ue;let c=r=="/"?this.getINodeSync(i,Ue,r):this.findINodeSync(i,r,o),l=this.getDirListingSync(i,c,r);if(!(n in l))throw u.With("ENOENT",pt(r,n),"_findINode");return l[n]}async findINode(i,r,n=new Set){let o=await this._findINode(i,I(r),z(r),n);return this.getINode(i,o,r)}findINodeSync(i,r,n=new Set){let o=this._findINodeSync(i,I(r),z(r),n);return this.getINodeSync(i,o,r)}async getINode(i,r,n){let o=await i.get(r);if(!o)throw u.With("ENOENT",n,"getINode");return new Me(o.buffer)}getINodeSync(i,r,n){let o=i.getSync(r);if(!o)throw u.With("ENOENT",n,"getINode");return new Me(o.buffer)}async getDirListing(i,r,n){if(!r.toStats().isDirectory())throw u.With("ENOTDIR",n,"getDirListing");let o=await i.get(r.ino);if(!o)throw u.With("ENOENT",n,"getDirListing");return wr(o)}getDirListingSync(i,r,n){if(!r.toStats().isDirectory())throw u.With("ENOTDIR",n,"getDirListing");let o=i.getSync(r.ino);if(!o)throw u.With("ENOENT",n,"getDirListing");return wr(o)}async addNew(i,r,n){for(let o=0;o<Gs;o++){let a=Ci();if(!await i.get(a))return await i.set(a,r),a}throw new u(28,"No inode IDs available",n,"addNewNode")}addNewSync(i,r,n){for(let o=0;o<Gs;o++){let a=Ci();if(!i.getSync(a))return i.setSync(a,r),a}throw new u(28,"No inode IDs available",n,"addNewNode")}async commitNew(i,r,n,o,a,c){let l=I(r),f=await this.findINode(i,l);if(!f.toStats().hasAccess(2,a))throw u.With("EACCES",r,"commitNewFile");let d=z(r),h=await this.getDirListing(i,f,l);if(r==="/")throw u.With("EEXIST",r,"commitNewFile");if(h[d])throw await i.abort(),u.With("EEXIST",r,"commitNewFile");try{let m=new Me;return m.ino=await this.addNew(i,c,r),m.mode=o|n,m.uid=a.uid,m.gid=a.gid,m.size=c.length,h[d]=await this.addNew(i,m.data,r),await i.set(f.ino,be(h)),await i.commit(),m}catch(m){throw i.abort(),m}}commitNewSync(i,r,n,o,a=new Uint8Array){let c=this.store.transaction(),l=I(i),f=this.findINodeSync(c,l);if(!f.toStats().hasAccess(2,o))throw u.With("EACCES",i,"commitNewFile");let d=z(i),h=this.getDirListingSync(c,f,l);if(i==="/")throw u.With("EEXIST",i,"commitNewFile");if(h[d])throw u.With("EEXIST",i,"commitNewFile");let m=new Me;try{m.ino=this.addNewSync(c,a,i),m.size=a.length,m.mode=n|r,m.uid=o.uid,m.gid=o.gid,h[d]=this.addNewSync(c,m.data,i),c.setSync(f.ino,be(h))}catch(b){throw c.abortSync(),b}return c.commitSync(),m}async remove(i,r,n){let o=this.store.transaction(),a=I(i),c=await this.findINode(o,a),l=await this.getDirListing(o,c,a),f=z(i);if(!l[f])throw u.With("ENOENT",i,"removeEntry");let d=l[f],h=await this.getINode(o,d,i);if(!h.toStats().hasAccess(2,n))throw u.With("EACCES",i,"removeEntry");if(delete l[f],!r&&h.toStats().isDirectory())throw u.With("EISDIR",i,"removeEntry");if(r&&!h.toStats().isDirectory())throw u.With("ENOTDIR",i,"removeEntry");try{await o.set(c.ino,be(l)),--h.nlink<1&&(await o.remove(h.ino),await o.remove(d))}catch(m){throw await o.abort(),m}await o.commit()}removeSync(i,r,n){let o=this.store.transaction(),a=I(i),c=this.findINodeSync(o,a),l=this.getDirListingSync(o,c,a),f=z(i),d=l[f];if(!d)throw u.With("ENOENT",i,"removeEntry");let h=this.getINodeSync(o,d,i);if(!h.toStats().hasAccess(2,n))throw u.With("EACCES",i,"removeEntry");if(delete l[f],!r&&h.toStats().isDirectory())throw u.With("EISDIR",i,"removeEntry");if(r&&!h.toStats().isDirectory())throw u.With("ENOTDIR",i,"removeEntry");try{o.setSync(c.ino,be(l)),--h.nlink<1&&(o.removeSync(h.ino),o.removeSync(d))}catch(m){throw o.abortSync(),m}o.commitSync()}};var Bi=class{constructor(e){this.store=e;this.aborted=!1}static{s(this,"Transaction")}async[Symbol.asyncDispose](){this.aborted||await this.commit()}[Symbol.dispose](){this.aborted||this.commitSync()}},Di=class extends Bi{static{s(this,"SyncTransaction")}async get(e){return this.getSync(e)}async set(e,i){return this.setSync(e,i)}async remove(e){return this.removeSync(e)}async commit(){return this.commitSync()}async abort(){return this.abortSync()}},Bn=class extends Bi{static{s(this,"AsyncTransaction")}getSync(){throw u.With("ENOSYS",void 0,"AsyncTransaction.getSync")}setSync(){throw u.With("ENOSYS",void 0,"AsyncTransaction.setSync")}removeSync(){throw u.With("ENOSYS",void 0,"AsyncTransaction.removeSync")}commitSync(){throw u.With("ENOSYS",void 0,"AsyncTransaction.commitSync")}abortSync(){throw u.With("ENOSYS",void 0,"AsyncTransaction.abortSync")}};var Dn=class{constructor(){this.cache=new Map;this.queue=new Set}static{s(this,"SimpleAsyncStore")}get(e){return this.cache.get(e)}set(e,i){this.cache.set(e,i),this.queue.add(this._set(e,i))}delete(e){this.cache.delete(e),this.queue.add(this._delete(e))}clearSync(){this.cache.clear(),this.queue.add(this.clear())}async sync(){for(let[e,i]of await this.entries())this.cache.has(e)||this.cache.set(e,i);for(let e of this.queue)await e}transaction(){return new ei(this)}},ei=class extends Di{constructor(i){super(i);this.originalData=new Map;this.modifiedKeys=new Set}static{s(this,"SimpleTransaction")}getSync(i){let r=this.store.get(i);return this.stashOldValue(i,r),r}setSync(i,r){return this.markModified(i),this.store.set(i,r)}removeSync(i){this.markModified(i),this.store.delete(i)}commitSync(){}abortSync(){for(let i of this.modifiedKeys){let r=this.originalData.get(i);r?this.store.set(i,r):this.store.delete(i)}}stashOldValue(i,r){this.originalData.has(i)||this.originalData.set(i,r)}markModified(i){this.modifiedKeys.add(i),this.originalData.has(i)||this.originalData.set(i,this.store.get(i))}};var Sr=class extends Map{constructor(i="tmp"){super();this.name=i}static{s(this,"InMemoryStore")}async sync(){}clearSync(){this.clear()}transaction(){return new ei(this)}},Mi={name:"InMemory",isAvailable:s(function(){return!0},"isAvailable"),options:{name:{type:"string",required:!1,description:"The name of the store"}},create:s(function({name:t}){let e=new Li(new Sr(t));return e.checkRootSync(),e},"create")};function Md(t){return typeof t=="object"&&t!=null&&"fd"in t&&"path"in t&&"position"in t}s(Md,"isFileData");function Mn(t){return typeof t=="object"&&t!=null&&"_zenfs"in t&&!!t._zenfs}s(Mn,"isMessage");var ti=new Map;function Un(t,{port:e,timeout:i=1e3,fs:r}={}){let n=new Error().stack.slice(6);if(!e)throw u.With("EINVAL");return new Promise((o,a)=>{let c=Math.random().toString(16).slice(10);ti.set(c,{resolve:o,reject:a,fs:r}),e.postMessage({...t,_zenfs:!0,id:c,stack:n});let l=setTimeout(()=>{let f=new u(5,"RPC Failed");f.stack+=n,a(f),typeof l=="object"&&l.unref()},i)})}s(Un,"request");function Ys(t){if(!Mn(t))return;let{id:e,value:i,error:r,stack:n}=t;if(!ti.has(e)){let l=new u(5,"Invalid RPC id:"+e);throw l.stack+=n,l}let{resolve:o,reject:a,fs:c}=ti.get(e);if(r){let l=u.fromJSON(i);l.stack+=n,a(l),ti.delete(e);return}if(Md(i)){let{fd:l,path:f,position:d}=i,h=new Ui(c,l,f,d);o(h),ti.delete(e);return}o(i),ti.delete(e)}s(Ys,"handleResponse");function Wn(t,e){if(!t)throw u.With("EINVAL");t["on"in t?"on":"addEventListener"]("message",i=>{e("data"in i?i.data:i)})}s(Wn,"attach");function Ks(t,e){if(!t)throw u.With("EINVAL");t["off"in t?"off":"removeEventListener"]("message",i=>{e("data"in i?i.data:i)})}s(Ks,"detach");var Ui=class extends Pt{constructor(i,r,n,o){super();this.fs=i;this.fd=r;this.path=n;this.position=o}static{s(this,"PortFile")}rpc(i,...r){return Un({scope:"file",fd:this.fd,method:i,args:r},this.fs.options)}_throwNoSync(i){throw new u(95,"Syncrohnous operations not support on PortFile",this.path,i)}stat(){return this.rpc("stat")}statSync(){this._throwNoSync("stat")}truncate(i){return this.rpc("truncate",i)}truncateSync(){this._throwNoSync("truncate")}write(i,r,n,o){return this.rpc("write",i,r,n,o)}writeSync(){this._throwNoSync("write")}async read(i,r,n,o){return await this.rpc("read",i,r,n,o)}readSync(){this._throwNoSync("read")}chown(i,r){return this.rpc("chown",i,r)}chownSync(){this._throwNoSync("chown")}chmod(i){return this.rpc("chmod",i)}chmodSync(){this._throwNoSync("chmod")}utimes(i,r){return this.rpc("utimes",i,r)}utimesSync(){this._throwNoSync("utimes")}_setType(i){return this.rpc("_setType",i)}_setTypeSync(){this._throwNoSync("_setType")}close(){return this.rpc("close")}closeSync(){this._throwNoSync("close")}sync(){return this.rpc("sync")}syncSync(){this._throwNoSync("sync")}},Er=class extends Rn(ie){constructor(i){super();this.options=i;this._sync=Mi.create({name:"port-tmpfs"});this.port=i.port,Wn(this.port,Ys)}static{s(this,"PortFS")}metadata(){return{...super.metadata(),name:"PortFS"}}rpc(i,...r){return Un({scope:"fs",method:i,args:r},{...this.options,fs:this})}async ready(){await this.rpc("ready"),await super.ready()}rename(i,r,n){return this.rpc("rename",i,r,n)}async stat(i,r){return new K(await this.rpc("stat",i,r))}sync(i,r,n){return this.rpc("sync",i,r,n)}openFile(i,r,n){return this.rpc("openFile",i,r,n)}createFile(i,r,n,o){return this.rpc("createFile",i,r,n,o)}unlink(i,r){return this.rpc("unlink",i,r)}rmdir(i,r){return this.rpc("rmdir",i,r)}mkdir(i,r,n){return this.rpc("mkdir",i,r,n)}readdir(i,r){return this.rpc("readdir",i,r)}exists(i,r){return this.rpc("exists",i,r)}link(i,r,n){return this.rpc("link",i,r,n)}},Xs=0,_r=new Map;async function Js(t,e,i){if(!Mn(i))return;let{method:r,args:n,id:o,scope:a,stack:c}=i,l,f=!1;try{switch(a){case"fs":l=await e[r](...n),l instanceof Pt&&(_r.set(++Xs,l),l={fd:Xs,path:l.path,position:l.position});break;case"file":let{fd:d}=i;if(!_r.has(d))throw new u(9);l=await _r.get(d)[r](...n),r=="close"&&_r.delete(d);break;default:return}}catch(d){l=d,f=!0}t.postMessage({_zenfs:!0,scope:a,id:o,error:f,method:r,stack:c,value:l instanceof u?l.toJSON():l})}s(Js,"handleRequest");function Wd(t,e){Wn(t,i=>Js(t,e,i))}s(Wd,"attachFS");function jd(t,e){Ks(t,i=>Js(t,e,i))}s(jd,"detachFS");var qd={name:"Port",options:{port:{type:"object",required:!0,description:"The target port that you want to connect to",validator:s(function(t){if(typeof t?.postMessage!="function")throw new u(22,"option must be a port.")},"validator")},timeout:{type:"number",required:!1,description:"How long to wait before the request times out"}},isAvailable:s(async function(){return!0},"isAvailable"),create:s(function(t){return new Er(t)},"create")};function Qs(t){try{return JSON.parse(t),!0}catch{return!1}}s(Qs,"isJSON");function jn(t){return t.at(0).toUpperCase()+t.slice(1)}s(jn,"capitalize");var qn=Symbol("struct_init"),$d=Symbol("struct");var Zs=["int8","uint8","int16","uint16","int32","uint32","int64","uint64","float32","float64"],ea=[...Zs,...Zs.map(t=>jn(t)),"char"];function ta(t,e){return function(i,r){let n=typeof r=="object"?r.name:r;if(typeof n=="symbol"&&(console.warn("Symbol used for struct member name will be coerced to string: "+n.toString()),n=n.toString()),!n)throw new ReferenceError("Invalid name for struct member");if(typeof i!="object")throw new TypeError("Invalid member for struct field");if(!("constructor"in i))throw new TypeError("Invalid member for struct field");let o=i.constructor;o[qn]||=[],o[qn].push({name:n,type:t,length:e})}}s(ta,"member");function Hd(t){function e(i,r){return typeof i=="number"?ta(t,i):ta(t)(i,r)}return s(e,"_"),e}s(Hd,"_member");var CS=Object.fromEntries(ea.map(t=>[t,Hd(t)]));var ia=1,xr=class t extends Map{static{s(this,"Index")}constructor(){super()}files(){let e=new Map;for(let[i,r]of this)r.isFile()&&e.set(i,r);return e}toJSON(){return{version:ia,entries:Object.fromEntries(this)}}toString(){return JSON.stringify(this.toJSON())}dirEntries(e){let i=[];for(let r of this.keys())I(r)==e&&i.push(z(r));return i}fromJSON(e){if(e.version!=ia)throw new u(22,"Index version mismatch");this.clear();for(let[i,r]of Object.entries(e.entries)){let n=new K(r);n.isDirectory()&&(n.fileData=ve(JSON.stringify(this.dirEntries(i)))),this.set(i,n)}}static parse(e){if(!Qs(e))throw new u(22,"Invalid JSON");let i=JSON.parse(e),r=new t;return r.fromJSON(i),r}};var Wi=class extends Nn(ie){constructor(i){super();this.indexData=i;this.index=new xr;this._isInitialized=!1}static{s(this,"IndexFS")}async ready(){await super.ready(),!this._isInitialized&&(this.index.fromJSON(await this.indexData),this._isInitialized=!0)}async reloadFiles(){for(let[i,r]of this.index.files())delete r.fileData,r.fileData=await this.getData(i,r)}reloadFilesSync(){for(let[i,r]of this.index.files())delete r.fileData,r.fileData=this.getDataSync(i,r)}async stat(i){return this.statSync(i)}statSync(i){if(!this.index.has(i))throw u.With("ENOENT",i,"stat");return this.index.get(i)}async openFile(i,r,n){if(ue(r))throw new u(1,i);let o=this.index.get(i);if(!o)throw u.With("ENOENT",i,"openFile");if(!o.hasAccess(At(r),n))throw u.With("EACCES",i,"openFile");return new Qt(this,i,r,o,o.isDirectory()?o.fileData:await this.getData(i,o))}openFileSync(i,r,n){if(ue(r))throw new u(1,i);let o=this.index.get(i);if(!o)throw u.With("ENOENT",i,"openFile");if(!o.hasAccess(At(r),n))throw u.With("EACCES",i,"openFile");return new Qt(this,i,r,o,o.isDirectory()?o.fileData:this.getDataSync(i,o))}async readdir(i){return this.readdirSync(i)}readdirSync(i){let r=this.index.get(i);if(!r)throw u.With("ENOENT",i,"readdir");if(!r.isDirectory())throw u.With("ENOTDIR",i,"readdir");return JSON.parse(Zt(r.fileData))}};async function ra(t,e){let i=await fetch(t).catch(r=>{throw new u(5,r.message)});if(!i.ok)throw new u(5,"fetch failed: response returned code "+i.status);switch(e){case"buffer":let r=await i.arrayBuffer().catch(n=>{throw new u(5,n.message)});return new Uint8Array(r);case"json":return i.json().catch(n=>{throw new u(5,n.message)});default:throw new u(22,"Invalid download type: "+e)}}s(ra,"fetchFile");var kr=class t extends Wi{static{s(this,"FetchFS")}async ready(){if(!this._isInitialized){await super.ready();for(let[e,i]of this.index.files())await this.getData(e,i)}}constructor({index:e="index.json",baseUrl:i=""}){super(typeof e!="string"?e:ra(e,"json")),i.at(-1)!="/"&&(i+="/"),this.baseUrl=i}metadata(){return{...super.metadata(),name:t.name,readonly:!0}}preload(e,i){let r=this.index.get(e);if(!r)throw u.With("ENOENT",e,"preloadFile");if(!r.isFile())throw u.With("EISDIR",e,"preloadFile");r.size=i.length,r.fileData=i}async getData(e,i){if(i.fileData)return i.fileData;let r=await ra(this.baseUrl+(e.startsWith("/")?e.slice(1):e),"buffer");return i.fileData=r,r}getDataSync(e,i){if(i.fileData)return i.fileData;throw new u(61,"",e,"getData")}},Gd={name:"Fetch",options:{index:{type:["string","object"],required:!1,description:"URL to a file index as a JSON file or the file index object itself, generated with the make-index script. Defaults to `index.json`."},baseUrl:{type:"string",required:!1,description:"Used as the URL prefix for fetched files. Default: Fetch files relative to the index."}},isAvailable:s(function(){return typeof globalThis.fetch=="function"},"isAvailable"),create:s(function(t){return new kr(t)},"create")};var ii=class{constructor(e){this.fs=e;this.locks=new Map}static{s(this,"LockedFS")}addLock(e){let i={...Promise.withResolvers(),[Symbol.dispose]:()=>{this.unlock(e)}};return this.locks.set(e,i),i}async lock(e){return this.locks.has(e)&&await this.locks.get(e).promise,this.addLock(e)}lockSync(e){if(this.locks.has(e))throw u.With("EBUSY",e,"lockSync");return this.addLock(e)}unlock(e,i=!1){if(!this.locks.has(e)){if(i)return!1;throw new u(1,"Can not unlock an already unlocked path",e)}return this.locks.get(e).resolve(),this.locks.delete(e),!0}isLocked(e){return this.locks.has(e)}async ready(){await this.fs.ready()}metadata(){return{...this.fs.metadata(),name:"Locked<"+this.fs.metadata().name+">"}}async rename(e,i,r){var o=[];try{let n=x(o,await this.lock(e));await this.fs.rename(e,i,r)}catch(a){var c=a,l=!0}finally{k(o,c,l)}}renameSync(e,i,r){var o=[];try{let n=x(o,this.lockSync(e));return this.fs.renameSync(e,i,r)}catch(a){var c=a,l=!0}finally{k(o,c,l)}}async stat(e,i){var n=[];try{let r=x(n,await this.lock(e));return await this.fs.stat(e,i)}catch(o){var a=o,c=!0}finally{k(n,a,c)}}statSync(e,i){var n=[];try{let r=x(n,this.lockSync(e));return this.fs.statSync(e,i)}catch(o){var a=o,c=!0}finally{k(n,a,c)}}async openFile(e,i,r){var o=[];try{let n=x(o,await this.lock(e));return await this.fs.openFile(e,i,r)}catch(a){var c=a,l=!0}finally{k(o,c,l)}}openFileSync(e,i,r){var o=[];try{let n=x(o,this.lockSync(e));return this.fs.openFileSync(e,i,r)}catch(a){var c=a,l=!0}finally{k(o,c,l)}}async createFile(e,i,r,n){var a=[];try{let o=x(a,await this.lock(e));return await this.fs.createFile(e,i,r,n)}catch(c){var l=c,f=!0}finally{k(a,l,f)}}createFileSync(e,i,r,n){var a=[];try{let o=x(a,this.lockSync(e));return this.fs.createFileSync(e,i,r,n)}catch(c){var l=c,f=!0}finally{k(a,l,f)}}async unlink(e,i){var n=[];try{let r=x(n,await this.lock(e));await this.fs.unlink(e,i)}catch(o){var a=o,c=!0}finally{k(n,a,c)}}unlinkSync(e,i){var n=[];try{let r=x(n,this.lockSync(e));return this.fs.unlinkSync(e,i)}catch(o){var a=o,c=!0}finally{k(n,a,c)}}async rmdir(e,i){var n=[];try{let r=x(n,await this.lock(e));await this.fs.rmdir(e,i)}catch(o){var a=o,c=!0}finally{k(n,a,c)}}rmdirSync(e,i){var n=[];try{let r=x(n,this.lockSync(e));return this.fs.rmdirSync(e,i)}catch(o){var a=o,c=!0}finally{k(n,a,c)}}async mkdir(e,i,r){var o=[];try{let n=x(o,await this.lock(e));await this.fs.mkdir(e,i,r)}catch(a){var c=a,l=!0}finally{k(o,c,l)}}mkdirSync(e,i,r){var o=[];try{let n=x(o,this.lockSync(e));return this.fs.mkdirSync(e,i,r)}catch(a){var c=a,l=!0}finally{k(o,c,l)}}async readdir(e,i){var n=[];try{let r=x(n,await this.lock(e));return await this.fs.readdir(e,i)}catch(o){var a=o,c=!0}finally{k(n,a,c)}}readdirSync(e,i){var n=[];try{let r=x(n,this.lockSync(e));return this.fs.readdirSync(e,i)}catch(o){var a=o,c=!0}finally{k(n,a,c)}}async exists(e,i){var n=[];try{let r=x(n,await this.lock(e));return await this.fs.exists(e,i)}catch(o){var a=o,c=!0}finally{k(n,a,c)}}existsSync(e,i){var n=[];try{let r=x(n,this.lockSync(e));return this.fs.existsSync(e,i)}catch(o){var a=o,c=!0}finally{k(n,a,c)}}async link(e,i,r){var o=[];try{let n=x(o,await this.lock(e));await this.fs.link(e,i,r)}catch(a){var c=a,l=!0}finally{k(o,c,l)}}linkSync(e,i,r){var o=[];try{let n=x(o,this.lockSync(e));return this.fs.linkSync(e,i,r)}catch(a){var c=a,l=!0}finally{k(o,c,l)}}async sync(e,i,r){var o=[];try{let n=x(o,await this.lock(e));await this.fs.sync(e,i,r)}catch(a){var c=a,l=!0}finally{k(o,c,l)}}syncSync(e,i,r){var o=[];try{let n=x(o,this.lockSync(e));return this.fs.syncSync(e,i,r)}catch(a){var c=a,l=!0}finally{k(o,c,l)}}},Yd={name:"Locked",options:{fs:{type:"object",required:!0,description:"",validator:s(function(t){if(!(t instanceof ie))throw new u(22,"fs passed to LockedFS must be a FileSystem")},"validator")}},isAvailable:s(function(){return!0},"isAvailable"),create:s(function({fs:t}){return new ii(t)},"create")};var $n="/.deleted",vr=class extends ie{constructor({writable:i,readable:r}){super();this._isInitialized=!1;this._deletedFiles=new Set;this._deleteLog="";this._deleteLogUpdatePending=!1;this._deleteLogUpdateNeeded=!1;if(this._writable=i,this._readable=r,this._writable.metadata().readonly)throw new u(22,"Writable file system must be writable.");this._ready=this._initialize()}static{s(this,"UnlockedOverlayFS")}async ready(){await this._readable.ready(),await this._writable.ready(),await this._ready}metadata(){return{...super.metadata(),name:ji.name}}getOverlayedFileSystems(){return{readable:this._readable,writable:this._writable}}async sync(i,r,n){let o=n.cred(0,0);await this.createParentDirectories(i,o),await this._writable.exists(i,o)||await this._writable.createFile(i,"w",420,o),await this._writable.sync(i,r,n)}syncSync(i,r,n){let o=n.cred(0,0);this.createParentDirectoriesSync(i,o),this._writable.syncSync(i,r,n)}async _initialize(){if(!this._isInitialized){try{let i=await this._writable.openFile($n,D("r"),We),{size:r}=await i.stat(),{buffer:n}=await i.read(new Uint8Array(r));this._deleteLog=Zt(n)}catch(i){if(i.errno!==2)throw i}this._isInitialized=!0,this._reparseDeletionLog()}}getDeletionLog(){return this._deleteLog}restoreDeletionLog(i,r){this._deleteLog=i,this._reparseDeletionLog(),this.updateLog("",r)}async rename(i,r,n){this.checkInitialized(),this.checkPath(i),this.checkPath(r);try{await this._writable.rename(i,r,n)}catch{if(this._deletedFiles.has(i))throw u.With("ENOENT",i,"rename")}}renameSync(i,r,n){this.checkInitialized(),this.checkPath(i),this.checkPath(r);try{this._writable.renameSync(i,r,n)}catch{if(this._deletedFiles.has(i))throw u.With("ENOENT",i,"rename")}}async stat(i,r){this.checkInitialized();try{return await this._writable.stat(i,r)}catch{if(this._deletedFiles.has(i))throw u.With("ENOENT",i,"stat");let o=new K(await this._readable.stat(i,r));return o.mode|=146,o}}statSync(i,r){this.checkInitialized();try{return this._writable.statSync(i,r)}catch{if(this._deletedFiles.has(i))throw u.With("ENOENT",i,"stat");let o=new K(this._readable.statSync(i,r));return o.mode|=146,o}}async openFile(i,r,n){if(await this._writable.exists(i,n))return this._writable.openFile(i,r,n);let o=await this._readable.openFile(i,D("r"),n),a=new K(await o.stat()),{buffer:c}=await o.read(new Uint8Array(a.size));return new de(this,i,r,a,c)}openFileSync(i,r,n){if(this._writable.existsSync(i,n))return this._writable.openFileSync(i,r,n);let o=this._readable.openFileSync(i,D("r"),n),a=new K(o.statSync()),c=new Uint8Array(a.size);return o.readSync(c),new de(this,i,r,a,c)}async createFile(i,r,n,o){return this.checkInitialized(),await this._writable.createFile(i,r,n,o),this.openFile(i,r,o)}createFileSync(i,r,n,o){return this.checkInitialized(),this._writable.createFileSync(i,r,n,o),this.openFileSync(i,r,o)}async link(i,r,n){this.checkInitialized(),await this._writable.link(i,r,n)}linkSync(i,r,n){this.checkInitialized(),this._writable.linkSync(i,r,n)}async unlink(i,r){if(this.checkInitialized(),this.checkPath(i),!await this.exists(i,r))throw u.With("ENOENT",i,"unlink");await this._writable.exists(i,r)&&await this._writable.unlink(i,r),await this.exists(i,r)&&this.deletePath(i,r)}unlinkSync(i,r){if(this.checkInitialized(),this.checkPath(i),!this.existsSync(i,r))throw u.With("ENOENT",i,"unlink");this._writable.existsSync(i,r)&&this._writable.unlinkSync(i,r),this.existsSync(i,r)&&this.deletePath(i,r)}async rmdir(i,r){if(this.checkInitialized(),!await this.exists(i,r))throw u.With("ENOENT",i,"rmdir");if(await this._writable.exists(i,r)&&await this._writable.rmdir(i,r),await this.exists(i,r)){if((await this.readdir(i,r)).length>0)throw u.With("ENOTEMPTY",i,"rmdir");this.deletePath(i,r)}}rmdirSync(i,r){if(this.checkInitialized(),!this.existsSync(i,r))throw u.With("ENOENT",i,"rmdir");if(this._writable.existsSync(i,r)&&this._writable.rmdirSync(i,r),this.existsSync(i,r)){if(this.readdirSync(i,r).length>0)throw u.With("ENOTEMPTY",i,"rmdir");this.deletePath(i,r)}}async mkdir(i,r,n){if(this.checkInitialized(),await this.exists(i,n))throw u.With("EEXIST",i,"mkdir");await this.createParentDirectories(i,n),await this._writable.mkdir(i,r,n)}mkdirSync(i,r,n){if(this.checkInitialized(),this.existsSync(i,n))throw u.With("EEXIST",i,"mkdir");this.createParentDirectoriesSync(i,n),this._writable.mkdirSync(i,r,n)}async readdir(i,r){if(this.checkInitialized(),!(await this.stat(i,r)).isDirectory())throw u.With("ENOTDIR",i,"readdir");let o=[];try{o.push(...await this._writable.readdir(i,r))}catch{}try{o.push(...(await this._readable.readdir(i,r)).filter(c=>!this._deletedFiles.has(`${i}/${c}`)))}catch{}let a={};return o.filter(c=>{let l=!a[c];return a[c]=!0,l})}readdirSync(i,r){if(this.checkInitialized(),!this.statSync(i,r).isDirectory())throw u.With("ENOTDIR",i,"readdir");let o=[];try{o=o.concat(this._writable.readdirSync(i,r))}catch{}try{o=o.concat(this._readable.readdirSync(i,r).filter(c=>!this._deletedFiles.has(`${i}/${c}`)))}catch{}let a={};return o.filter(c=>{let l=!a[c];return a[c]=!0,l})}deletePath(i,r){this._deletedFiles.add(i),this.updateLog(`d${i}
`,r)}async updateLog(i,r){if(this._deleteLog+=i,this._deleteLogUpdatePending){this._deleteLogUpdateNeeded=!0;return}this._deleteLogUpdatePending=!0;let n=await this._writable.openFile($n,D("w"),r);try{await n.write(ve(this._deleteLog)),this._deleteLogUpdateNeeded&&(this._deleteLogUpdateNeeded=!1,this.updateLog("",r))}catch(o){this._deleteLogError=o}finally{this._deleteLogUpdatePending=!1}}_reparseDeletionLog(){this._deletedFiles.clear();for(let i of this._deleteLog.split(`
`))i.startsWith("d")&&this._deletedFiles.add(i.slice(1))}checkInitialized(){if(!this._isInitialized)throw new u(1,"OverlayFS is not initialized. Please initialize OverlayFS using its initialize() method before using it.");if(!this._deleteLogError)return;let i=this._deleteLogError;throw delete this._deleteLogError,i}checkPath(i){if(i==$n)throw u.With("EPERM",i,"checkPath")}createParentDirectoriesSync(i,r){let n=I(i),o=[];for(;!this._writable.existsSync(n,r);)o.push(n),n=I(n);o=o.reverse();for(let a of o)this._writable.mkdirSync(a,this.statSync(a,r).mode,r)}async createParentDirectories(i,r){let n=I(i),o=[];for(;!await this._writable.exists(n,r);)o.push(n),n=I(n);o=o.reverse();for(let a of o){let c=await this.stat(a,r);await this._writable.mkdir(a,c.mode,r)}}operateOnWritable(i,r){if(!this.existsSync(i,r))throw u.With("ENOENT",i,"operateOnWriteable");this._writable.existsSync(i,r)||this.copyToWritableSync(i,r)}async operateOnWritableAsync(i,r){if(!await this.exists(i,r))throw u.With("ENOENT",i,"operateOnWritable");if(!await this._writable.exists(i,r))return this.copyToWritable(i,r)}copyToWritableSync(i,r){let n=this.statSync(i,r);if(n.isDirectory()){this._writable.mkdirSync(i,n.mode,r);return}let o=new Uint8Array(n.size),a=this._readable.openFileSync(i,D("r"),r);a.readSync(o),a.closeSync();let c=this._writable.openFileSync(i,D("w"),r);c.writeSync(o),c.closeSync()}async copyToWritable(i,r){let n=await this.stat(i,r);if(n.isDirectory()){await this._writable.mkdir(i,n.mode,r);return}let o=new Uint8Array(n.size),a=await this._readable.openFile(i,D("r"),r);await a.read(o),await a.close();let c=await this._writable.openFile(i,D("w"),r);await c.write(o),await c.close()}},ji=class extends ii{static{s(this,"OverlayFS")}constructor(e){super(new vr(e))}getOverlayedFileSystems(){return super.fs.getOverlayedFileSystems()}getDeletionLog(){return super.fs.getDeletionLog()}resDeletionLog(){return super.fs.getDeletionLog()}unwrap(){return super.fs}},Kd={name:"Overlay",options:{writable:{type:"object",required:!0,description:"The file system to write modified files to."},readable:{type:"object",required:!0,description:"The file system that initially populates this file system."}},isAvailable:s(function(){return!0},"isAvailable"),create:s(function(t){return new ji(t)},"create")};function qi(t){return t!=null&&typeof t=="object"&&"isAvailable"in t&&typeof t.isAvailable=="function"&&"create"in t&&typeof t.create=="function"}s(qi,"isBackend");async function zn(t,e){if(typeof e!="object"||e===null)throw new u(22,"Invalid options");for(let[i,r]of Object.entries(t.options)){let n=e?.[i];if(n==null){if(!r.required)continue;let a=Object.keys(e).filter(c=>!(c in t.options)).map(c=>({str:c,distance:Ln(i,c)})).filter(c=>c.distance<5).sort((c,l)=>c.distance-l.distance);throw new u(22,`${t.name}: Required option '${i}' not provided.${a.length>0?` You provided '${a[0].str}', did you mean '${i}'.`:""}`)}if(!(Array.isArray(r.type)?r.type.indexOf(typeof n)!=-1:typeof n==r.type))throw new u(22,`${t.name}: Value provided for option ${i} is not the proper type. Expected ${Array.isArray(r.type)?`one of {${r.type.join(", ")}}`:r.type}, but received ${typeof n}`);r.validator&&await r.validator(n)}}s(zn,"checkOptions");function Fr(t){return t!=null&&typeof t=="object"&&"backend"in t&&qi(t.backend)}s(Fr,"isBackendConfig");var pr={};yr(pr,{BigIntStatsFs:()=>Ti,Dir:()=>wt,Dirent:()=>gt,ReadStream:()=>kt,Stats:()=>K,StatsFs:()=>Oi,WriteStream:()=>vt,access:()=>Mu,accessSync:()=>$a,appendFile:()=>pu,appendFileSync:()=>Aa,chmod:()=>Ru,chmodSync:()=>Wa,chown:()=>Tu,chownSync:()=>Ma,close:()=>mu,closeSync:()=>bt,constants:()=>It,copyFile:()=>Hu,copyFileSync:()=>so,cp:()=>Xu,cpSync:()=>ao,createReadStream:()=>qu,createWriteStream:()=>$u,exists:()=>su,existsSync:()=>ze,fchmod:()=>xu,fchmodSync:()=>Lr,fchown:()=>Eu,fchownSync:()=>Nr,fdatasync:()=>wu,fdatasyncSync:()=>Ra,fstat:()=>yu,fstatSync:()=>Oa,fsync:()=>gu,fsyncSync:()=>Ca,ftruncate:()=>bu,ftruncateSync:()=>Ta,futimes:()=>ku,futimesSync:()=>Br,lchmod:()=>Nu,lchmodSync:()=>ja,lchown:()=>Cu,lchownSync:()=>Ua,link:()=>Pu,linkSync:()=>Ba,lopenSync:()=>Ki,lstat:()=>cu,lstatSync:()=>to,lutimes:()=>Bu,lutimesSync:()=>qa,mkdir:()=>Fu,mkdirSync:()=>Dr,mkdtemp:()=>Vu,mkdtempSync:()=>za,mount:()=>Vi,mountObject:()=>Hi,mounts:()=>Ee,open:()=>uu,openAsBlob:()=>Qu,openSync:()=>Yi,opendir:()=>Ku,opendirSync:()=>Ga,promises:()=>hr,read:()=>_u,readFile:()=>du,readFileSync:()=>Rr,readSync:()=>La,readdir:()=>Iu,readdirSync:()=>ai,readlink:()=>Ou,readlinkSync:()=>ro,readv:()=>Gu,readvSync:()=>Va,realpath:()=>Du,realpathSync:()=>$e,rename:()=>ou,renameSync:()=>Fa,rm:()=>zu,rmSync:()=>oo,rmdir:()=>vu,rmdirSync:()=>io,stat:()=>au,statSync:()=>Gi,statfs:()=>Ju,statfsSync:()=>Ya,symlink:()=>Au,symlinkSync:()=>Da,truncate:()=>lu,truncateSync:()=>Ia,umount:()=>Or,unlink:()=>fu,unlinkSync:()=>Cr,unwatchFile:()=>Wu,utimes:()=>Lu,utimesSync:()=>no,watch:()=>ju,watchFile:()=>Uu,write:()=>Su,writeFile:()=>hu,writeFileSync:()=>Xi,writeSync:()=>Na,writev:()=>Yu,writevSync:()=>Ha});var Ds=mr(_e(),1);var hr={};yr(hr,{FileHandle:()=>oe,access:()=>Rs,appendFile:()=>vs,chmod:()=>Os,chown:()=>Ps,constants:()=>It,copyFile:()=>vn,cp:()=>Fn,exists:()=>Ae,lchmod:()=>Ts,lchown:()=>As,link:()=>Fs,lstat:()=>Sn,lutimes:()=>Cs,mkdir:()=>dr,mkdtemp:()=>Ns,open:()=>he,opendir:()=>Ls,readFile:()=>ur,readdir:()=>Lt,readlink:()=>En,realpath:()=>Pe,rename:()=>xs,rm:()=>kn,rmdir:()=>_n,stat:()=>xi,statfs:()=>Bs,symlink:()=>Is,truncate:()=>ks,unlink:()=>fr,utimes:()=>xn,watch:()=>Zg,writeFile:()=>vi});var Yt=mr(_e(),1);var mt=mr(_e(),1);var v=We;function va(t){v=t}s(va,"setCred");var Rt=new Map,Ph=100;function zi(t){let e=Ph++;return Rt.set(e,t),e}s(zi,"file2fd");function M(t){if(!Rt.has(t))throw new u(9);return Rt.get(t)}s(M,"fd2file");var Ee=new Map;Vi("/",Mi.create({name:"root"}));function Vi(t,e){if(t[0]!=="/"&&(t="/"+t),t=pt(t),Ee.has(t))throw new u(22,"Mount point "+t+" is already in use.");Ee.set(t,e)}s(Vi,"mount");function Or(t){if(t[0]!=="/"&&(t=`/${t}`),t=pt(t),!Ee.has(t))throw new u(22,"Mount point "+t+" is already unmounted.");Ee.delete(t)}s(Or,"umount");function R(t){t=_(t);let e=[...Ee].sort((i,r)=>i[0].length>r[0].length?-1:1);for(let[i,r]of e)if(i.length<=t.length&&t.startsWith(i))return t=t.slice(i.length>1?i.length:0),t===""&&(t="/"),{fs:r,path:t,mountPoint:i};throw new u(5,"ZenFS not initialized with a file system")}s(R,"resolveMount");function ka(t,e){for(let[i,r]of Object.entries(e))t=t?.replaceAll(i,r);return t}s(ka,"fixPaths");function Y(t,e){return typeof t.stack=="string"&&(t.stack=ka(t.stack,e)),t.message=ka(t.message,e),t}s(Y,"fixError");function Hi(t){"/"in t&&Or("/");for(let[e,i]of Object.entries(t))Vi(e,i)}s(Hi,"mountObject");function Tr(t,e){let i=t.metadata(),r=i.blockSize||4096;return{type:(e?BigInt:Number)(i.type),bsize:(e?BigInt:Number)(r),ffree:(e?BigInt:Number)(i.freeNodes||me),files:(e?BigInt:Number)(i.totalNodes||me),bavail:(e?BigInt:Number)(i.freeSpace/r),bfree:(e?BigInt:Number)(i.freeSpace/r),blocks:(e?BigInt:Number)(i.totalSpace/r)}}s(Tr,"_statfs");function Fa(t,e){t=_(t),e=_(e);let i=R(t),r=R(e),n={[i.path]:t,[r.path]:e};try{if(i===r)return i.fs.renameSync(i.path,r.path,v);Xi(e,Rr(t)),Cr(t)}catch(o){throw Y(o,n)}}s(Fa,"renameSync");function ze(t){t=_(t);try{let{fs:e,path:i}=R($e(t));return e.existsSync(i,v)}catch(e){if(e.errno==2)return!1;throw e}}s(ze,"existsSync");function Gi(t,e){t=_(t);let{fs:i,path:r}=R(ze(t)?$e(t):t);try{let n=i.statSync(r,v);return e?.bigint?new fe(n):n}catch(n){throw Y(n,{[r]:t})}}s(Gi,"statSync");function to(t,e){t=_(t);let{fs:i,path:r}=R(t);try{let n=i.statSync(r,v);return e?.bigint?new fe(n):n}catch(n){throw Y(n,{[r]:t})}}s(to,"lstatSync");function Ia(t,e=0){var r=[];try{let i=x(r,Nt(t,"r+"));e||=0;if(e<0)throw new u(22);i.truncateSync(e)}catch(n){var o=n,a=!0}finally{k(r,o,a)}}s(Ia,"truncateSync");function Cr(t){t=_(t);let{fs:e,path:i}=R(t);try{return e.unlinkSync(i,v)}catch(r){throw Y(r,{[i]:t})}}s(Cr,"unlinkSync");function Nt(t,e,i,r=!0){t=_(t);let n=ge(i,420),o=D(e);t=r&&ze(t)?$e(t):t;let{fs:a,path:c}=R(t);if(!a.existsSync(c,v)){if(!ue(o)&&!nt(o)||o=="r+")throw u.With("ENOENT",t,"_open");if(!a.statSync(I(c),v).isDirectory())throw u.With("ENOTDIR",I(t),"_open");return a.createFileSync(c,o,n,v)}let l=a.statSync(c,v);if(!l.hasAccess(n,v))throw u.With("EACCES",t,"_open");if(Ni(o))throw u.With("EEXIST",t,"_open");return Ri(o)?(a.unlinkSync(c,v),a.createFileSync(c,o,l.mode,v)):a.openFileSync(c,o,v)}s(Nt,"_openSync");function Yi(t,e,i=0){return zi(Nt(t,e,i,!0))}s(Yi,"openSync");function Ki(t,e,i){return zi(Nt(t,e,i,!1))}s(Ki,"lopenSync");function Pa(t,e,i){var a=[];try{let r=x(a,Nt(t,e,420,i));let n=r.statSync();let o=new Uint8Array(n.size);r.readSync(o,0,n.size,0);r.closeSync();return o}catch(c){var l=c,f=!0}finally{k(a,l,f)}}s(Pa,"_readFileSync");function Rr(t,e={}){let i=we(e,null,"r",420),r=D(i.flag);if(!ht(r))throw new u(22,"Flag passed to readFile must allow for reading.");let n=mt.Buffer.from(Pa(typeof t=="number"?M(t).path:t.toString(),i.flag,!0));return i.encoding?n.toString(i.encoding):n}s(Rr,"readFileSync");function Xi(t,e,i={}){var c=[];try{let r=we(i,"utf8","w+",420);let n=D(r.flag);if(!ue(n))throw new u(22,"Flag passed to writeFile must allow for writing.");if(typeof e!="string"&&!r.encoding)throw new u(22,"Encoding not specified");let o=typeof e=="string"?mt.Buffer.from(e,r.encoding):new Uint8Array(e.buffer,e.byteOffset,e.byteLength);if(!o)throw new u(22,"Data not specified");let a=x(c,Nt(typeof t=="number"?M(t).path:t.toString(),n,r.mode,!0));a.writeSync(o,0,o.byteLength,0)}catch(l){var f=l,d=!0}finally{k(c,f,d)}}s(Xi,"writeFileSync");function Aa(t,e,i={}){var c=[];try{let r=we(i,"utf8","a",420);let n=D(r.flag);if(!nt(n))throw new u(22,"Flag passed to appendFile must allow for appending.");if(typeof e!="string"&&!r.encoding)throw new u(22,"Encoding not specified");let o=typeof e=="string"?mt.Buffer.from(e,r.encoding):new Uint8Array(e.buffer,e.byteOffset,e.byteLength);let a=x(c,Nt(typeof t=="number"?M(t).path:t.toString(),n,r.mode,!0));a.writeSync(o,0,o.byteLength)}catch(l){var f=l,d=!0}finally{k(c,f,d)}}s(Aa,"appendFileSync");function Oa(t,e){let i=M(t).statSync();return e?.bigint?new fe(i):i}s(Oa,"fstatSync");function bt(t){M(t).closeSync(),Rt.delete(t)}s(bt,"closeSync");function Ta(t,e=0){if(e||=0,e<0)throw new u(22);M(t).truncateSync(e)}s(Ta,"ftruncateSync");function Ca(t){M(t).syncSync()}s(Ca,"fsyncSync");function Ra(t){M(t).datasyncSync()}s(Ra,"fdatasyncSync");function Na(t,e,i,r,n){let o,a,c,l;if(typeof e=="string"){l=typeof i=="number"?i:null;let d=typeof r=="string"?r:"utf8";a=0,o=mt.Buffer.from(e,d),c=o.byteLength}else o=new Uint8Array(e.buffer,e.byteOffset,e.byteLength),a=i,c=r,l=typeof n=="number"?n:null;let f=M(t);return l??=f.position,f.writeSync(o,a,c,l)}s(Na,"writeSync");function La(t,e,i,r,n){let o=M(t),a=typeof i=="object"?i.offset:i;return typeof i=="object"&&(r=i.length,n=i.position),n=Number(n),isNaN(n)&&(n=o.position),o.readSync(e,a,r,n)}s(La,"readSync");function Nr(t,e,i){M(t).chownSync(e,i)}s(Nr,"fchownSync");function Lr(t,e){let i=ge(e,-1);if(i<0)throw new u(22,"Invalid mode.");M(t).chmodSync(i)}s(Lr,"fchmodSync");function Br(t,e,i){M(t).utimesSync(Ot(e),Ot(i))}s(Br,"futimesSync");function io(t){t=_(t);let{fs:e,path:i}=R(ze(t)?$e(t):t);try{e.rmdirSync(i,v)}catch(r){throw Y(r,{[i]:t})}}s(io,"rmdirSync");function Dr(t,e){e=typeof e=="object"?e:{mode:e};let i=ge(e?.mode,511);t=_(t),t=ze(t)?$e(t):t;let{fs:r,path:n}=R(t),o={[n]:t};try{if(!e?.recursive)return r.mkdirSync(n,i,v);let a=[];for(let c=n,l=t;!r.existsSync(c,v);c=I(c),l=I(l))a.unshift(c),o[c]=l;for(let c of a)r.mkdirSync(c,i,v);return a[0]}catch(a){throw Y(a,o)}}s(Dr,"mkdirSync");function ai(t,e){t=_(t);let{fs:i,path:r}=R(ze(t)?$e(t):t),n;try{n=i.readdirSync(r,v)}catch(o){throw Y(o,{[r]:t})}for(let o of Ee.keys()){if(!o.startsWith(t))continue;let a=o.slice(t.length);a.includes("/")||a.length==0||n.push(a)}return n.map(o=>typeof e=="object"&&e?.withFileTypes?new gt(o,Gi($(t.toString(),o))):e=="buffer"||typeof e=="object"&&e?.encoding=="buffer"?mt.Buffer.from(o):o)}s(ai,"readdirSync");function Ba(t,e){t=_(t),e=_(e);let{fs:i,path:r}=R(t);try{return i.linkSync(r,e,v)}catch(n){throw Y(n,{[r]:t})}}s(Ba,"linkSync");function Da(t,e,i="file"){if(!["file","dir","junction"].includes(i))throw new u(22,"Invalid type: "+i);if(ze(e))throw u.With("EEXIST",e.toString(),"symlink");Xi(e,t.toString()),Nt(e,"r+",420,!1)._setTypeSync(te.SYMLINK)}s(Da,"symlinkSync");function ro(t,e){let i=mt.Buffer.from(Pa(t.toString(),"r",!1)),r=typeof e=="object"?e?.encoding:e;return r=="buffer"?i:i.toString(r)}s(ro,"readlinkSync");function Ma(t,e,i){let r=Yi(t,"r+");Nr(r,e,i),bt(r)}s(Ma,"chownSync");function Ua(t,e,i){let r=Ki(t,"r+");Nr(r,e,i),bt(r)}s(Ua,"lchownSync");function Wa(t,e){let i=Yi(t,"r+");Lr(i,e),bt(i)}s(Wa,"chmodSync");function ja(t,e){let i=Ki(t,"r+");Lr(i,e),bt(i)}s(ja,"lchmodSync");function no(t,e,i){let r=Yi(t,"r+");Br(r,e,i),bt(r)}s(no,"utimesSync");function qa(t,e,i){let r=Ki(t,"r+");Br(r,e,i),bt(r)}s(qa,"lutimesSync");function $e(t,e){t=_(t);let{base:i,dir:r}=br(t),n=$(r=="/"?"/":$e(r),i),{fs:o,path:a,mountPoint:c}=R(n);try{return o.statSync(a,v).isSymbolicLink()?$e(c+ro(n)):n}catch(l){throw Y(l,{[a]:n})}}s($e,"realpathSync");function $a(t,e=384){if(!Gi(t).hasAccess(e,v))throw new u(13)}s($a,"accessSync");function oo(t,e){switch(t=_(t),Gi(t).mode&61440){case 16384:if(e?.recursive)for(let r of ai(t))oo($(t,r));io(t);return;case 32768:case 40960:Cr(t);return;case 24576:case 8192:case 4096:case 49152:default:throw new u(1,"File type not supported",t,"rm")}}s(oo,"rmSync");function za(t,e){let i=typeof e=="object"?e?.encoding:e||"utf8",n="/tmp/"+`${t}${Date.now()}-${Math.random().toString(36).slice(2)}`;return Dr(n),i=="buffer"?mt.Buffer.from(n):n}s(za,"mkdtempSync");function so(t,e,i){if(t=_(t),e=_(e),i&&i&1&&ze(e))throw new u(17,"Destination file already exists.",e,"copyFile");Xi(e,Rr(t))}s(so,"copyFileSync");function Va(t,e,i){let r=M(t),n=0;for(let o of e)n+=r.readSync(o,0,o.byteLength,i+n);return n}s(Va,"readvSync");function Ha(t,e,i){let r=M(t),n=0;for(let o of e)n+=r.writeSync(new Uint8Array(o.buffer),0,o.byteLength,i+n);return n}s(Ha,"writevSync");function Ga(t,e){return t=_(t),new wt(t)}s(Ga,"opendirSync");function ao(t,e,i){t=_(t),e=_(e);let r=to(t);if(i?.errorOnExist&&ze(e))throw new u(17,"Destination file or directory already exists.",e,"cp");switch(r.mode&61440){case 16384:if(!i?.recursive)throw new u(21,t+" is a directory (not copied)",t,"cp");Dr(e,{recursive:!0});for(let n of ai(t,{withFileTypes:!0}))i.filter&&!i.filter($(t,n.name),$(e,n.name))||ao($(t,n.name),$(e,n.name),i);break;case 32768:case 40960:so(t,e);break;case 24576:case 8192:case 4096:case 49152:default:throw new u(1,"File type not supported",t,"rm")}i?.preserveTimestamps&&no(e,r.atime,r.mtime)}s(ao,"cpSync");function Ya(t,e){t=_(t);let{fs:i}=R(t);return Tr(i,e?.bigint)}s(Ya,"statfsSync");var gt=class{constructor(e,i){this.path=e;this.stats=i}static{s(this,"Dirent")}get name(){return z(this.path)}get parentPath(){return this.path}isFile(){return this.stats.isFile()}isDirectory(){return this.stats.isDirectory()}isBlockDevice(){return this.stats.isBlockDevice()}isCharacterDevice(){return this.stats.isCharacterDevice()}isSymbolicLink(){return this.stats.isSymbolicLink()}isFIFO(){return this.stats.isFIFO()}isSocket(){return this.stats.isSocket()}},wt=class{constructor(e){this.path=e;this.closed=!1;this._entries=[]}static{s(this,"Dir")}checkClosed(){if(this.closed)throw new u(9,"Can not use closed Dir")}close(e){if(this.closed=!0,!e)return Promise.resolve();e()}closeSync(){this.closed=!0}async _read(){return this._entries||(this._entries=await Lt(this.path,{withFileTypes:!0})),this._entries.length&&this._entries.shift()||null}read(e){if(!e)return this._read();this._read().then(i=>e(void 0,i))}readSync(){return this._entries||(this._entries=ai(this.path,{withFileTypes:!0})),this._entries.length&&this._entries.shift()||null}[Symbol.asyncIterator](){let e=this;return{[Symbol.asyncIterator]:this[Symbol.asyncIterator],next:s(async function(){let i=await e._read();return i!=null?{done:!1,value:i}:(await e.close(),{done:!0,value:void 0})},"next")}}};var wn=mr(nu(),1);var kt=class extends wn.Readable{static{s(this,"ReadStream")}close(e=()=>null){try{super.destroy(),super.emit("close"),e()}catch(i){e(new u(5,i.toString()))}}},vt=class extends wn.Writable{static{s(this,"WriteStream")}close(e=()=>null){try{super.destroy(),super.emit("close"),e()}catch(i){e(new u(5,i.toString()))}}};var oe=class{static{s(this,"FileHandle")}constructor(e){let i=typeof e!="number";this.fd=i?zi(e):e,this.file=i?e:M(e)}chown(e,i){return this.file.chown(e,i)}chmod(e){let i=ge(e,-1);if(i<0)throw new u(22,"Invalid mode.");return this.file.chmod(i)}datasync(){return this.file.datasync()}sync(){return this.file.sync()}truncate(e){if(e||=0,e<0)throw new u(22);return this.file.truncate(e)}utimes(e,i){return this.file.utimes(Ot(e),Ot(i))}async appendFile(e,i={}){let r=we(i,"utf8","a",420),n=D(r.flag);if(!nt(n))throw new u(22,"Flag passed to appendFile must allow for appending.");if(typeof e!="string"&&!r.encoding)throw new u(22,"Encoding not specified");let o=typeof e=="string"?Yt.Buffer.from(e,r.encoding):e;await this.file.write(o,0,o.length)}read(e,i,r,n){return isNaN(+n)&&(n=this.file.position),this.file.read(e,i,r,n)}async readFile(e){let i=we(e,null,"r",292),r=D(i.flag);if(!ht(r))throw new u(22,"Flag passed must allow for reading.");let{size:n}=await this.stat(),{buffer:o}=await this.file.read(new Uint8Array(n),0,n,0),a=Yt.Buffer.from(o);return i.encoding?a.toString(i.encoding):a}readableWebStream(e={}){let i=s(async({close:r,enqueue:n,error:o})=>{try{let l=0,f=0,d=NaN;for(;d>0;){let h=await this.read(new Uint8Array(65536),0,65536,f);if(!h.bytesRead){r();return}if(n(h.buffer.slice(0,h.bytesRead)),f+=h.bytesRead,++l>=1e7)throw new u(27,"Too many iterations on readable stream",this.file.path,"FileHandle.readableWebStream");d=h.bytesRead}}catch(a){o(a)}},"start");return new globalThis.ReadableStream({start:i,type:e.type})}readLines(e){throw u.With("ENOSYS",this.file.path,"FileHandle.readLines")}[Symbol.asyncDispose](){return this.close()}async stat(e){let i=await this.file.stat();return e?.bigint?new fe(i):i}async write(e,i,r,n){let o,a,c;if(typeof e=="string"){n=typeof i=="number"?i:null;let f=typeof r=="string"?r:"utf8";a=0,o=Yt.Buffer.from(e,f),c=o.length}else o=new Uint8Array(e.buffer,e.byteOffset,e.byteLength),a=i,c=r,n=typeof n=="number"?n:null;n??=this.file.position;let l=await this.file.write(o,a,c,n);return{buffer:o,bytesWritten:l}}async writeFile(e,i={}){let r=we(i,"utf8","w",420),n=D(r.flag);if(!ue(n))throw new u(22,"Flag passed must allow for writing.");if(typeof e!="string"&&!r.encoding)throw new u(22,"Encoding not specified");let o=typeof e=="string"?Yt.Buffer.from(e,r.encoding):e;await this.file.write(o,0,o.length,0)}async close(){await this.file.close(),Rt.delete(this.fd)}async writev(e,i){let r=0;for(let n of e)r+=(await this.write(n,0,n.length,i+r)).bytesWritten;return{bytesWritten:r,buffers:e}}async readv(e,i){let r=0;for(let n of e)r+=(await this.read(n,0,n.byteLength,i+r)).bytesRead;return{bytesRead:r,buffers:e}}createReadStream(e){let i=new kt({highWaterMark:e?.highWaterMark||65536,encoding:e.encoding,read:s(async r=>{try{let n=await this.read(new Uint8Array(r),0,r,this.file.position);i.push(n.bytesRead?n.buffer.slice(0,n.bytesRead):null),this.file.position+=n.bytesRead}catch(n){i.destroy(n)}},"read")});return i.path=this.file.path,i}createWriteStream(e){let i={highWaterMark:e?.highWaterMark,encoding:e?.encoding,write:s(async(n,o,a)=>{try{let{bytesWritten:c}=await this.write(n,null,o);a(c==n.length?null:new Error("Failed to write full chunk"))}catch(c){a(c)}},"write")},r=new vt(i);return r.path=this.file.path,r}};async function xs(t,e){t=_(t),e=_(e);let i=R(t),r=R(e);try{if(i.mountPoint==r.mountPoint){await i.fs.rename(i.path,r.path,v);return}await vi(e,await ur(t)),await fr(t)}catch(n){throw Y(n,{[i.path]:t,[r.path]:e})}}s(xs,"rename");async function Ae(t){try{let{fs:e,path:i}=R(await Pe(t));return await e.exists(i,v)}catch(e){if(e instanceof u&&e.code=="ENOENT")return!1;throw e}}s(Ae,"exists");async function xi(t,e){t=_(t);let{fs:i,path:r}=R(await Ae(t)?await Pe(t):t);try{let n=await i.stat(r,v);return e?.bigint?new fe(n):n}catch(n){throw Y(n,{[r]:t})}}s(xi,"stat");async function Sn(t,e){t=_(t);let{fs:i,path:r}=R(t);try{let n=await i.stat(r,v);return e?.bigint?new fe(n):n}catch(n){throw Y(n,{[r]:t})}}s(Sn,"lstat");async function ks(t,e=0){var r=[];try{let i=x(r,await he(t,"r+"),!0);await i.truncate(e)}catch(n){var o=n,a=!0}finally{var c=k(r,o,a);c&&await c}}s(ks,"truncate");async function fr(t){t=_(t);let{fs:e,path:i}=R(t);try{await e.unlink(i,v)}catch(r){throw Y(r,{[i]:t})}}s(fr,"unlink");async function ki(t,e,i=420,r){t=_(t);let n=ge(i,420),o=D(e);t=r&&await Ae(t)?await Pe(t):t;let{fs:a,path:c}=R(t);if(!await a.exists(c,v)){if(!ue(o)&&!nt(o)||o=="r+")throw u.With("ENOENT",t,"_open");let f=await a.stat(I(c),v);if(f&&!f.isDirectory())throw u.With("ENOTDIR",I(t),"_open");return new oe(await a.createFile(c,o,n,v))}if(Ni(o))throw u.With("EEXIST",t,"_open");if(!Ri(o))return new oe(await a.openFile(c,o,v));let l=await a.openFile(c,o,v);return await l.truncate(0),await l.sync(),new oe(l)}s(ki,"_open");async function he(t,e="r",i=420){return await ki(t,e,i,!0)}s(he,"open");async function ur(t,e){var n=[];try{let i=we(e,null,"r",420);let r=x(n,typeof t=="object"&&"fd"in t?t:await he(t,i.flag,i.mode),!0);return await r.readFile(i)}catch(o){var a=o,c=!0}finally{var l=k(n,a,c);l&&await l}}s(ur,"readFile");async function vi(t,e,i){var a=[];try{let r=we(i,"utf8","w+",420);let n=x(a,t instanceof oe?t:await he(t.toString(),r.flag,r.mode),!0);let o=e;if(typeof o!="string"&&!(o instanceof Uint8Array))throw new u(22,"Iterables and streams not supported",n.file.path,"writeFile");await n.writeFile(o,r)}catch(c){var l=c,f=!0}finally{var d=k(a,l,f);d&&await d}}s(vi,"writeFile");async function vs(t,e,i){var c=[];try{let r=we(i,"utf8","a",420);let n=D(r.flag);if(!nt(n))throw new u(22,"Flag passed to appendFile must allow for appending.");if(typeof e!="string"&&!r.encoding)throw new u(22,"Encoding not specified");let o=typeof e=="string"?Yt.Buffer.from(e,r.encoding):new Uint8Array(e.buffer,e.byteOffset,e.byteLength);let a=x(c,typeof t=="object"&&"fd"in t?t:await he(t,r.flag,r.mode),!0);await a.appendFile(o,r)}catch(l){var f=l,d=!0}finally{var h=k(c,f,d);h&&await h}}s(vs,"appendFile");async function _n(t){t=_(t),t=await Ae(t)?await Pe(t):t;let{fs:e,path:i}=R(t);try{await e.rmdir(i,v)}catch(r){throw Y(r,{[i]:t})}}s(_n,"rmdir");async function dr(t,e){e=typeof e=="object"?e:{mode:e};let i=ge(e?.mode,511);t=_(t),t=await Ae(t)?await Pe(t):t;let{fs:r,path:n}=R(t),o={[n]:t};try{e?.recursive||await r.mkdir(n,i,v);let a=[];for(let c=n,l=t;!await r.exists(c,v);c=I(c),l=I(l))a.unshift(c),o[c]=l;for(let c of a)await r.mkdir(c,i,v);return a[0]}catch(a){throw Y(a,o)}}s(dr,"mkdir");async function Lt(t,e){t=_(t),t=await Ae(t)?await Pe(t):t;let{fs:i,path:r}=R(t),n;try{n=await i.readdir(r,v)}catch(a){throw Y(a,{[r]:t})}for(let a of Ee.keys())if(a.startsWith(t)){let c=a.slice(t.length);if(c.includes("/")||c.length==0)continue;n.push(c)}let o=[];for(let a of n)o.push(typeof e=="object"&&e?.withFileTypes?new gt(a,await xi($(t,a))):a);return o}s(Lt,"readdir");async function Fs(t,e){t=_(t),e=_(e);let{fs:i,path:r}=R(e);try{return await i.link(t,e,v)}catch(n){throw Y(n,{[r]:e})}}s(Fs,"link");async function Is(t,e,i="file"){if(!["file","dir","junction"].includes(i))throw new u(22,"Invalid symlink type: "+i);if(await Ae(e))throw u.With("EEXIST",e.toString(),"symlink");await vi(e,t.toString()),await(await ki(e,"r+",420,!1)).file._setType(te.SYMLINK)}s(Is,"symlink");async function En(t,e){var o=[];try{let i=x(o,await ki(_(t),"r",420,!1),!0);let r=await i.readFile();let n=typeof e=="object"?e?.encoding:e;return n=="buffer"?r:r.toString(n)}catch(a){var c=a,l=!0}finally{var f=k(o,c,l);f&&await f}}s(En,"readlink");async function Ps(t,e,i){var n=[];try{let r=x(n,await he(t,"r+"),!0);await r.chown(e,i)}catch(o){var a=o,c=!0}finally{var l=k(n,a,c);l&&await l}}s(Ps,"chown");async function As(t,e,i){var n=[];try{let r=x(n,await ki(t,"r+",420,!1),!0);await r.chown(e,i)}catch(o){var a=o,c=!0}finally{var l=k(n,a,c);l&&await l}}s(As,"lchown");async function Os(t,e){var r=[];try{let i=x(r,await he(t,"r+"),!0);await i.chmod(e)}catch(n){var o=n,a=!0}finally{var c=k(r,o,a);c&&await c}}s(Os,"chmod");async function Ts(t,e){var r=[];try{let i=x(r,await ki(t,"r+",420,!1),!0);await i.chmod(e)}catch(n){var o=n,a=!0}finally{var c=k(r,o,a);c&&await c}}s(Ts,"lchmod");async function xn(t,e,i){var n=[];try{let r=x(n,await he(t,"r+"),!0);await r.utimes(e,i)}catch(o){var a=o,c=!0}finally{var l=k(n,a,c);l&&await l}}s(xn,"utimes");async function Cs(t,e,i){var n=[];try{let r=x(n,await ki(t,"r+",420,!1),!0);await r.utimes(new Date(e),new Date(i))}catch(o){var a=o,c=!0}finally{var l=k(n,a,c);l&&await l}}s(Cs,"lutimes");async function Pe(t,e){t=_(t);let{base:i,dir:r}=br(t),n=$(r=="/"?"/":await Pe(r),i),{fs:o,path:a,mountPoint:c}=R(n);try{return(await o.stat(a,v)).isSymbolicLink()?Pe(c+await En(n)):n}catch(l){throw Y(l,{[a]:n})}}s(Pe,"realpath");function Zg(t,e={}){throw u.With("ENOSYS",t.toString(),"watch")}s(Zg,"watch");async function Rs(t,e=0){if(!(await xi(t)).hasAccess(e,v))throw new u(13)}s(Rs,"access");async function kn(t,e){switch(t=_(t),(await xi(t)).mode&61440){case 16384:if(e?.recursive)for(let r of await Lt(t))await kn($(t,r));await _n(t);return;case 32768:case 40960:await fr(t);return;case 24576:case 8192:case 4096:case 49152:default:throw new u(1,"File type not supported",t,"rm")}}s(kn,"rm");async function Ns(t,e){let i=typeof e=="object"?e?.encoding:e||"utf8",n="/tmp/"+`${t}${Date.now()}-${Math.random().toString(36).slice(2)}`;return await dr(n),i=="buffer"?Yt.Buffer.from(n):n}s(Ns,"mkdtemp");async function vn(t,e,i){if(t=_(t),e=_(e),i&&i&1&&await Ae(e))throw new u(17,"Destination file already exists.",e,"copyFile");await vi(e,await ur(t))}s(vn,"copyFile");async function Ls(t,e){return t=_(t),new wt(t)}s(Ls,"opendir");async function Fn(t,e,i){t=_(t),e=_(e);let r=await Sn(t);if(i?.errorOnExist&&await Ae(e))throw new u(17,"Destination file or directory already exists.",e,"cp");switch(r.mode&61440){case 16384:if(!i?.recursive)throw new u(21,t+" is a directory (not copied)",t,"cp");await dr(e,{recursive:!0});for(let n of await Lt(t,{withFileTypes:!0}))i.filter&&!i.filter($(t,n.name),$(e,n.name))||await Fn($(t,n.name),$(e,n.name),i);break;case 32768:case 40960:await vn(t,e);break;case 24576:case 8192:case 4096:case 49152:default:throw new u(1,"File type not supported",t,"rm")}i?.preserveTimestamps&&await xn(e,r.atime,r.mtime)}s(Fn,"cp");async function Bs(t,e){t=_(t);let{fs:i}=R(t);return Tr(i,e?.bigint)}s(Bs,"statfs");function ou(t,e,i=S){xs(t,e).then(()=>i()).catch(i)}s(ou,"rename");function su(t,e=S){Ae(t).then(e).catch(()=>e(!1))}s(su,"exists");function au(t,e,i=S){i=typeof e=="function"?e:i,xi(t,typeof e!="function"?e:{}).then(r=>i(void 0,r)).catch(i)}s(au,"stat");function cu(t,e,i=S){i=typeof e=="function"?e:i,Sn(t,typeof e!="function"?e:{}).then(r=>i(void 0,r)).catch(i)}s(cu,"lstat");function lu(t,e=0,i=S){i=typeof e=="function"?e:i,ks(t,typeof e=="number"?e:0).then(()=>i()).catch(i)}s(lu,"truncate");function fu(t,e=S){fr(t).then(()=>e()).catch(e)}s(fu,"unlink");function uu(t,e,i,r=S){let n=ge(i,420);r=typeof i=="function"?i:r,he(t,e,n).then(o=>r(void 0,o.fd)).catch(r)}s(uu,"open");function du(t,e,i=S){i=typeof e=="function"?e:i,ur(t,typeof e=="function"?null:e).then(r=>i(void 0,r)).catch(i)}s(du,"readFile");function hu(t,e,i,r=S){r=typeof i=="function"?i:r,vi(t,e,typeof i!="function"?i:null).then(()=>r(void 0)).catch(r)}s(hu,"writeFile");function pu(t,e,i,r=S){r=typeof i=="function"?i:r,vs(t,e,typeof i=="function"?null:i).then(()=>r()).catch(r)}s(pu,"appendFile");function yu(t,e,i=S){i=typeof e=="function"?e:i,M(t).stat().then(r=>i(void 0,typeof e=="object"&&e?.bigint?new fe(r):r)).catch(i)}s(yu,"fstat");function mu(t,e=S){new oe(t).close().then(()=>e()).catch(e)}s(mu,"close");function bu(t,e,i=S){let r=typeof e=="number"?e:0;i=typeof e=="function"?e:i;let n=M(t);if(r<0)throw new u(22);n.truncate(r).then(()=>i()).catch(i)}s(bu,"ftruncate");function gu(t,e=S){M(t).sync().then(()=>e()).catch(e)}s(gu,"fsync");function wu(t,e=S){M(t).datasync().then(()=>e()).catch(e)}s(wu,"fdatasync");function Su(t,e,i,r,n,o=S){let a,c,l,f,d,h=new oe(t);if(typeof e=="string"){switch(d="utf8",typeof i){case"function":o=i;break;case"number":f=i,d=typeof r=="string"?r:"utf8",o=typeof n=="function"?n:o;break;default:o=typeof r=="function"?r:typeof n=="function"?n:o,o(new u(22,"Invalid arguments."));return}a=Ds.Buffer.from(e),c=0,l=a.length;let m=o;h.write(a,c,l,f).then(({bytesWritten:b})=>m(void 0,b,a.toString(d))).catch(m)}else{a=Ds.Buffer.from(e.buffer),c=i,l=r,f=typeof n=="number"?n:null;let m=typeof n=="function"?n:o;h.write(a,c,l,f).then(({bytesWritten:b})=>m(void 0,b,a)).catch(m)}}s(Su,"write");function _u(t,e,i,r,n,o=S){new oe(t).read(e,i,r,n).then(({bytesRead:a,buffer:c})=>o(void 0,a,c)).catch(o)}s(_u,"read");function Eu(t,e,i,r=S){new oe(t).chown(e,i).then(()=>r()).catch(r)}s(Eu,"fchown");function xu(t,e,i){new oe(t).chmod(e).then(()=>i()).catch(i)}s(xu,"fchmod");function ku(t,e,i,r=S){new oe(t).utimes(e,i).then(()=>r()).catch(r)}s(ku,"futimes");function vu(t,e=S){_n(t).then(()=>e()).catch(e)}s(vu,"rmdir");function Fu(t,e,i=S){dr(t,e).then(()=>i()).catch(i)}s(Fu,"mkdir");function Iu(t,e,i=S){i=typeof e=="function"?e:i,Lt(t,typeof e!="function"?e:{}).then(n=>i(void 0,n)).catch(i)}s(Iu,"readdir");function Pu(t,e,i=S){Fs(t,e).then(()=>i()).catch(i)}s(Pu,"link");function Au(t,e,i,r=S){let n=typeof i=="string"?i:"file";r=typeof i=="function"?i:r,Is(t,e,n).then(()=>r()).catch(r)}s(Au,"symlink");function Ou(t,e,i=S){i=typeof e=="function"?e:i,En(t).then(r=>i(void 0,r)).catch(i)}s(Ou,"readlink");function Tu(t,e,i,r=S){Ps(t,e,i).then(()=>r()).catch(r)}s(Tu,"chown");function Cu(t,e,i,r=S){As(t,e,i).then(()=>r()).catch(r)}s(Cu,"lchown");function Ru(t,e,i=S){Os(t,e).then(()=>i()).catch(i)}s(Ru,"chmod");function Nu(t,e,i=S){Ts(t,e).then(()=>i()).catch(i)}s(Nu,"lchmod");function Lu(t,e,i,r=S){xn(t,e,i).then(()=>r()).catch(r)}s(Lu,"utimes");function Bu(t,e,i,r=S){Cs(t,e,i).then(()=>r()).catch(r)}s(Bu,"lutimes");function Du(t,e,i=S){i=typeof e=="function"?e:i,Pe(t,typeof e=="function"?null:e).then(r=>i(void 0,r)).catch(i)}s(Du,"realpath");function Mu(t,e,i=S){let r=typeof e=="number"?e:4;i=typeof e=="function"?e:i,Rs(t,typeof e=="function"?null:e).then(()=>i()).catch(i)}s(Mu,"access");function Uu(t,e,i=S){throw u.With("ENOSYS",t.toString(),"watchFile")}s(Uu,"watchFile");function Wu(t,e=S){throw u.With("ENOSYS",t.toString(),"unwatchFile")}s(Wu,"unwatchFile");function ju(t,e,i=S){throw u.With("ENOSYS",t.toString(),"watch")}s(ju,"watch");function qu(t,e){let i=typeof e=="object"?e:{encoding:e},r,n=new kt({highWaterMark:i.highWaterMark||64*1024,encoding:i.encoding||"utf8",read:s(async function(o){try{r||=await he(t,"r",i?.mode);let a=await r.read(new Uint8Array(o),0,o,r.file.position);n.push(a.bytesRead?a.buffer.slice(0,a.bytesRead):null),r.file.position+=a.bytesRead,a.bytesRead||await r.close()}catch(a){await r?.close(),n.destroy(a)}},"read"),destroy:s(function(o,a){r?.close().then(()=>a(o)).catch(a)},"destroy")});return n.path=t.toString(),n}s(qu,"createReadStream");function $u(t,e){let i=typeof e=="object"?e:{encoding:e},r,n=new vt({highWaterMark:i?.highWaterMark,write:s(async function(o,a,c){try{r||=await he(t,"w",i?.mode||438),await r.write(o,0,a),c(void 0)}catch(l){await r?.close(),c(l)}},"write"),destroy:s(function(o,a){a(o),r?.close().then(()=>a(o)).catch(a)},"destroy"),final:s(function(o){r?.close().then(()=>o()).catch(o)},"final")});return n.path=t.toString(),n}s($u,"createWriteStream");function zu(t,e,i=S){i=typeof e=="function"?e:i,kn(t,typeof e=="function"?void 0:e).then(()=>i(void 0)).catch(i)}s(zu,"rm");function Vu(t,e,i=S){i=typeof e=="function"?e:i,Ns(t,typeof e!="function"?e:null).then(r=>i(void 0,r)).catch(i)}s(Vu,"mkdtemp");function Hu(t,e,i,r=S){r=typeof i=="function"?i:r,vn(t,e,typeof i=="function"?void 0:i).then(()=>r(void 0)).catch(r)}s(Hu,"copyFile");function Gu(t,e,i,r=S){r=typeof i=="function"?i:r,new oe(t).readv(e,typeof i=="function"?void 0:i).then(({buffers:n,bytesRead:o})=>r(void 0,o,n)).catch(r)}s(Gu,"readv");function Yu(t,e,i,r=S){r=typeof i=="function"?i:r,new oe(t).writev(e,typeof i=="function"?void 0:i).then(({buffers:n,bytesWritten:o})=>r(void 0,o,n)).catch(r)}s(Yu,"writev");function Ku(t,e,i=S){i=typeof e=="function"?e:i,Ls(t,typeof e=="function"?void 0:e).then(r=>i(void 0,r)).catch(i)}s(Ku,"opendir");function Xu(t,e,i,r=S){r=typeof i=="function"?i:r,Fn(t,e,typeof i=="function"?void 0:i).then(()=>r(void 0)).catch(r)}s(Xu,"cp");function Ju(t,e,i=S){i=typeof e=="function"?e:i,Bs(t,typeof e=="function"?void 0:e).then(r=>i(void 0,r)).catch(i)}s(Ju,"statfs");async function Qu(t,e){let i=await he(t.toString(),"r"),r=await i.readFile();return await i.close(),new Blob([r],e)}s(Qu,"openAsBlob");function Ms(t){return Fr(t)||qi(t)||t instanceof ie}s(Ms,"isMountConfig");async function Us(t,e=0){if(typeof t!="object"||t==null)throw new u(22,"Invalid options on mount configuration");if(!Ms(t))throw new u(22,"Invalid mount configuration");if(t instanceof ie)return t;qi(t)&&(t={backend:t});for(let[n,o]of Object.entries(t))if(n!="backend"&&Ms(o)){if(e>10)throw new u(22,"Invalid configuration, too deep and possibly infinite");t[n]=await Us(o,++e)}let{backend:i}=t;if(!await i.isAvailable())throw new u(1,"Backend not available: "+i);zn(i,t);let r=await i.create(t);return"_disableSync"in r&&(r._disableSync=t.disableAsyncCache||!1),await r.ready(),r}s(Us,"resolveMountConfig");async function ew(t){let e="uid"in t&&t.uid||0,i="gid"in t&&t.gid||0;if(Ms(t)&&(t={mounts:{"/":t}}),va({uid:e,gid:i,suid:e,sgid:i,euid:e,egid:i}),!!t.mounts){for(let[r,n]of Object.entries(t.mounts)){if(!r.startsWith("/"))throw new u(22,"Mount points must have absolute paths");Fr(n)&&(n.disableAsyncCache??=t.disableAsyncCache||!1),t.mounts[r]=await Us(n)}Hi(t.mounts)}}s(ew,"configure");var tw=pr;return od(iw);})();
/*! Bundled license information:

ieee754/index.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

buffer/index.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)
*/
//# sourceMappingURL=zenfs-core-browser.min.js.map
