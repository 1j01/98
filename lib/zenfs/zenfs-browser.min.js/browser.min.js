"use strict";var ZenFS=(()=>{var Xu=Object.create;var ki=Object.defineProperty;var Ju=Object.getOwnPropertyDescriptor;var Qu=Object.getOwnPropertyNames;var Zu=Object.getPrototypeOf,ed=Object.prototype.hasOwnProperty;var s=(t,e)=>ki(t,"name",{value:e,configurable:!0});var A=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),hr=(t,e)=>{for(var i in e)ki(t,i,{get:e[i],enumerable:!0})},Ms=(t,e,i,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of Qu(e))!ed.call(t,n)&&n!==i&&ki(t,n,{get:()=>e[n],enumerable:!(r=Ju(e,n))||r.enumerable});return t};var pr=(t,e,i)=>(i=t!=null?Xu(Zu(t)):{},Ms(e||!t||!t.__esModule?ki(i,"default",{value:t,enumerable:!0}):i,t)),td=t=>Ms(ki({},"__esModule",{value:!0}),t);var ia=A(vr=>{"use strict";vr.byteLength=Gd;vr.toByteArray=Kd;vr.fromByteArray=Qd;var Ue=[],ge=[],Hd=typeof Uint8Array<"u"?Uint8Array:Array,$n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(At=0,ea=$n.length;At<ea;++At)Ue[At]=$n[At],ge[$n.charCodeAt(At)]=At;var At,ea;ge[45]=62;ge[95]=63;function ta(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=t.indexOf("=");i===-1&&(i=e);var r=i===e?0:4-i%4;return[i,r]}s(ta,"getLens");function Gd(t){var e=ta(t),i=e[0],r=e[1];return(i+r)*3/4-r}s(Gd,"byteLength");function Yd(t,e,i){return(e+i)*3/4-i}s(Yd,"_byteLength");function Kd(t){var e,i=ta(t),r=i[0],n=i[1],o=new Hd(Yd(t,r,n)),a=0,c=n>0?r-4:r,l;for(l=0;l<c;l+=4)e=ge[t.charCodeAt(l)]<<18|ge[t.charCodeAt(l+1)]<<12|ge[t.charCodeAt(l+2)]<<6|ge[t.charCodeAt(l+3)],o[a++]=e>>16&255,o[a++]=e>>8&255,o[a++]=e&255;return n===2&&(e=ge[t.charCodeAt(l)]<<2|ge[t.charCodeAt(l+1)]>>4,o[a++]=e&255),n===1&&(e=ge[t.charCodeAt(l)]<<10|ge[t.charCodeAt(l+1)]<<4|ge[t.charCodeAt(l+2)]>>2,o[a++]=e>>8&255,o[a++]=e&255),o}s(Kd,"toByteArray");function Xd(t){return Ue[t>>18&63]+Ue[t>>12&63]+Ue[t>>6&63]+Ue[t&63]}s(Xd,"tripletToBase64");function Jd(t,e,i){for(var r,n=[],o=e;o<i;o+=3)r=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(t[o+2]&255),n.push(Xd(r));return n.join("")}s(Jd,"encodeChunk");function Qd(t){for(var e,i=t.length,r=i%3,n=[],o=16383,a=0,c=i-r;a<c;a+=o)n.push(Jd(t,a,a+o>c?c:a+o));return r===1?(e=t[i-1],n.push(Ue[e>>2]+Ue[e<<4&63]+"==")):r===2&&(e=(t[i-2]<<8)+t[i-1],n.push(Ue[e>>10]+Ue[e>>4&63]+Ue[e<<2&63]+"=")),n.join("")}s(Qd,"fromByteArray")});var ra=A(zn=>{zn.read=function(t,e,i,r,n){var o,a,c=n*8-r-1,l=(1<<c)-1,f=l>>1,d=-7,h=i?n-1:0,b=i?-1:1,m=t[e+h];for(h+=b,o=m&(1<<-d)-1,m>>=-d,d+=c;d>0;o=o*256+t[e+h],h+=b,d-=8);for(a=o&(1<<-d)-1,o>>=-d,d+=r;d>0;a=a*256+t[e+h],h+=b,d-=8);if(o===0)o=1-f;else{if(o===l)return a?NaN:(m?-1:1)*(1/0);a=a+Math.pow(2,r),o=o-f}return(m?-1:1)*a*Math.pow(2,o-r)};zn.write=function(t,e,i,r,n,o){var a,c,l,f=o*8-n-1,d=(1<<f)-1,h=d>>1,b=n===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=r?0:o-1,w=r?1:-1,g=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(c=isNaN(e)?1:0,a=d):(a=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-a))<1&&(a--,l*=2),a+h>=1?e+=b/l:e+=b*Math.pow(2,1-h),e*l>=2&&(a++,l/=2),a+h>=d?(c=0,a=d):a+h>=1?(c=(e*l-1)*Math.pow(2,n),a=a+h):(c=e*Math.pow(2,h-1)*Math.pow(2,n),a=0));n>=8;t[i+m]=c&255,m+=w,c/=256,n-=8);for(a=a<<n|c,f+=n;f>0;t[i+m]=a&255,m+=w,a/=256,f-=8);t[i+m-w]|=g*128}});var we=A(ni=>{"use strict";var Vn=ia(),ii=ra(),na=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;ni.Buffer=y;ni.SlowBuffer=nh;ni.INSPECT_MAX_BYTES=50;var Fr=2147483647;ni.kMaxLength=Fr;y.TYPED_ARRAY_SUPPORT=Zd();!y.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function Zd(){try{let t=new Uint8Array(1),e={foo:s(function(){return 42},"foo")};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),t.foo()===42}catch{return!1}}s(Zd,"typedArraySupport");Object.defineProperty(y.prototype,"parent",{enumerable:!0,get:s(function(){if(y.isBuffer(this))return this.buffer},"get")});Object.defineProperty(y.prototype,"offset",{enumerable:!0,get:s(function(){if(y.isBuffer(this))return this.byteOffset},"get")});function rt(t){if(t>Fr)throw new RangeError('The value "'+t+'" is invalid for option "size"');let e=new Uint8Array(t);return Object.setPrototypeOf(e,y.prototype),e}s(rt,"createBuffer");function y(t,e,i){if(typeof t=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return Kn(t)}return ca(t,e,i)}s(y,"Buffer");y.poolSize=8192;function ca(t,e,i){if(typeof t=="string")return th(t,e);if(ArrayBuffer.isView(t))return ih(t);if(t==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(We(t,ArrayBuffer)||t&&We(t.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(We(t,SharedArrayBuffer)||t&&We(t.buffer,SharedArrayBuffer)))return Gn(t,e,i);if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let r=t.valueOf&&t.valueOf();if(r!=null&&r!==t)return y.from(r,e,i);let n=rh(t);if(n)return n;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof t[Symbol.toPrimitive]=="function")return y.from(t[Symbol.toPrimitive]("string"),e,i);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}s(ca,"from");y.from=function(t,e,i){return ca(t,e,i)};Object.setPrototypeOf(y.prototype,Uint8Array.prototype);Object.setPrototypeOf(y,Uint8Array);function la(t){if(typeof t!="number")throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}s(la,"assertSize");function eh(t,e,i){return la(t),t<=0?rt(t):e!==void 0?typeof i=="string"?rt(t).fill(e,i):rt(t).fill(e):rt(t)}s(eh,"alloc");y.alloc=function(t,e,i){return eh(t,e,i)};function Kn(t){return la(t),rt(t<0?0:Xn(t)|0)}s(Kn,"allocUnsafe");y.allocUnsafe=function(t){return Kn(t)};y.allocUnsafeSlow=function(t){return Kn(t)};function th(t,e){if((typeof e!="string"||e==="")&&(e="utf8"),!y.isEncoding(e))throw new TypeError("Unknown encoding: "+e);let i=fa(t,e)|0,r=rt(i),n=r.write(t,e);return n!==i&&(r=r.slice(0,n)),r}s(th,"fromString");function Hn(t){let e=t.length<0?0:Xn(t.length)|0,i=rt(e);for(let r=0;r<e;r+=1)i[r]=t[r]&255;return i}s(Hn,"fromArrayLike");function ih(t){if(We(t,Uint8Array)){let e=new Uint8Array(t);return Gn(e.buffer,e.byteOffset,e.byteLength)}return Hn(t)}s(ih,"fromArrayView");function Gn(t,e,i){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(i||0))throw new RangeError('"length" is outside of buffer bounds');let r;return e===void 0&&i===void 0?r=new Uint8Array(t):i===void 0?r=new Uint8Array(t,e):r=new Uint8Array(t,e,i),Object.setPrototypeOf(r,y.prototype),r}s(Gn,"fromArrayBuffer");function rh(t){if(y.isBuffer(t)){let e=Xn(t.length)|0,i=rt(e);return i.length===0||t.copy(i,0,0,e),i}if(t.length!==void 0)return typeof t.length!="number"||Qn(t.length)?rt(0):Hn(t);if(t.type==="Buffer"&&Array.isArray(t.data))return Hn(t.data)}s(rh,"fromObject");function Xn(t){if(t>=Fr)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Fr.toString(16)+" bytes");return t|0}s(Xn,"checked");function nh(t){return+t!=t&&(t=0),y.alloc(+t)}s(nh,"SlowBuffer");y.isBuffer=s(function(e){return e!=null&&e._isBuffer===!0&&e!==y.prototype},"isBuffer");y.compare=s(function(e,i){if(We(e,Uint8Array)&&(e=y.from(e,e.offset,e.byteLength)),We(i,Uint8Array)&&(i=y.from(i,i.offset,i.byteLength)),!y.isBuffer(e)||!y.isBuffer(i))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===i)return 0;let r=e.length,n=i.length;for(let o=0,a=Math.min(r,n);o<a;++o)if(e[o]!==i[o]){r=e[o],n=i[o];break}return r<n?-1:n<r?1:0},"compare");y.isEncoding=s(function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},"isEncoding");y.concat=s(function(e,i){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return y.alloc(0);let r;if(i===void 0)for(i=0,r=0;r<e.length;++r)i+=e[r].length;let n=y.allocUnsafe(i),o=0;for(r=0;r<e.length;++r){let a=e[r];if(We(a,Uint8Array))o+a.length>n.length?(y.isBuffer(a)||(a=y.from(a)),a.copy(n,o)):Uint8Array.prototype.set.call(n,a,o);else if(y.isBuffer(a))a.copy(n,o);else throw new TypeError('"list" argument must be an Array of Buffers');o+=a.length}return n},"concat");function fa(t,e){if(y.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||We(t,ArrayBuffer))return t.byteLength;if(typeof t!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);let i=t.length,r=arguments.length>2&&arguments[2]===!0;if(!r&&i===0)return 0;let n=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":return Yn(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return i*2;case"hex":return i>>>1;case"base64":return wa(t).length;default:if(n)return r?-1:Yn(t).length;e=(""+e).toLowerCase(),n=!0}}s(fa,"byteLength");y.byteLength=fa;function oh(t,e,i){let r=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((i===void 0||i>this.length)&&(i=this.length),i<=0)||(i>>>=0,e>>>=0,i<=e))return"";for(t||(t="utf8");;)switch(t){case"hex":return yh(this,e,i);case"utf8":case"utf-8":return da(this,e,i);case"ascii":return hh(this,e,i);case"latin1":case"binary":return ph(this,e,i);case"base64":return uh(this,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return mh(this,e,i);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}s(oh,"slowToString");y.prototype._isBuffer=!0;function Ot(t,e,i){let r=t[e];t[e]=t[i],t[i]=r}s(Ot,"swap");y.prototype.swap16=s(function(){let e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let i=0;i<e;i+=2)Ot(this,i,i+1);return this},"swap16");y.prototype.swap32=s(function(){let e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let i=0;i<e;i+=4)Ot(this,i,i+3),Ot(this,i+1,i+2);return this},"swap32");y.prototype.swap64=s(function(){let e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let i=0;i<e;i+=8)Ot(this,i,i+7),Ot(this,i+1,i+6),Ot(this,i+2,i+5),Ot(this,i+3,i+4);return this},"swap64");y.prototype.toString=s(function(){let e=this.length;return e===0?"":arguments.length===0?da(this,0,e):oh.apply(this,arguments)},"toString");y.prototype.toLocaleString=y.prototype.toString;y.prototype.equals=s(function(e){if(!y.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:y.compare(this,e)===0},"equals");y.prototype.inspect=s(function(){let e="",i=ni.INSPECT_MAX_BYTES;return e=this.toString("hex",0,i).replace(/(.{2})/g,"$1 ").trim(),this.length>i&&(e+=" ... "),"<Buffer "+e+">"},"inspect");na&&(y.prototype[na]=y.prototype.inspect);y.prototype.compare=s(function(e,i,r,n,o){if(We(e,Uint8Array)&&(e=y.from(e,e.offset,e.byteLength)),!y.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(i===void 0&&(i=0),r===void 0&&(r=e?e.length:0),n===void 0&&(n=0),o===void 0&&(o=this.length),i<0||r>e.length||n<0||o>this.length)throw new RangeError("out of range index");if(n>=o&&i>=r)return 0;if(n>=o)return-1;if(i>=r)return 1;if(i>>>=0,r>>>=0,n>>>=0,o>>>=0,this===e)return 0;let a=o-n,c=r-i,l=Math.min(a,c),f=this.slice(n,o),d=e.slice(i,r);for(let h=0;h<l;++h)if(f[h]!==d[h]){a=f[h],c=d[h];break}return a<c?-1:c<a?1:0},"compare");function ua(t,e,i,r,n){if(t.length===0)return-1;if(typeof i=="string"?(r=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),i=+i,Qn(i)&&(i=n?0:t.length-1),i<0&&(i=t.length+i),i>=t.length){if(n)return-1;i=t.length-1}else if(i<0)if(n)i=0;else return-1;if(typeof e=="string"&&(e=y.from(e,r)),y.isBuffer(e))return e.length===0?-1:oa(t,e,i,r,n);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?n?Uint8Array.prototype.indexOf.call(t,e,i):Uint8Array.prototype.lastIndexOf.call(t,e,i):oa(t,[e],i,r,n);throw new TypeError("val must be string, number or Buffer")}s(ua,"bidirectionalIndexOf");function oa(t,e,i,r,n){let o=1,a=t.length,c=e.length;if(r!==void 0&&(r=String(r).toLowerCase(),r==="ucs2"||r==="ucs-2"||r==="utf16le"||r==="utf-16le")){if(t.length<2||e.length<2)return-1;o=2,a/=2,c/=2,i/=2}function l(d,h){return o===1?d[h]:d.readUInt16BE(h*o)}s(l,"read");let f;if(n){let d=-1;for(f=i;f<a;f++)if(l(t,f)===l(e,d===-1?0:f-d)){if(d===-1&&(d=f),f-d+1===c)return d*o}else d!==-1&&(f-=f-d),d=-1}else for(i+c>a&&(i=a-c),f=i;f>=0;f--){let d=!0;for(let h=0;h<c;h++)if(l(t,f+h)!==l(e,h)){d=!1;break}if(d)return f}return-1}s(oa,"arrayIndexOf");y.prototype.includes=s(function(e,i,r){return this.indexOf(e,i,r)!==-1},"includes");y.prototype.indexOf=s(function(e,i,r){return ua(this,e,i,r,!0)},"indexOf");y.prototype.lastIndexOf=s(function(e,i,r){return ua(this,e,i,r,!1)},"lastIndexOf");function sh(t,e,i,r){i=Number(i)||0;let n=t.length-i;r?(r=Number(r),r>n&&(r=n)):r=n;let o=e.length;r>o/2&&(r=o/2);let a;for(a=0;a<r;++a){let c=parseInt(e.substr(a*2,2),16);if(Qn(c))return a;t[i+a]=c}return a}s(sh,"hexWrite");function ah(t,e,i,r){return Ir(Yn(e,t.length-i),t,i,r)}s(ah,"utf8Write");function ch(t,e,i,r){return Ir(Sh(e),t,i,r)}s(ch,"asciiWrite");function lh(t,e,i,r){return Ir(wa(e),t,i,r)}s(lh,"base64Write");function fh(t,e,i,r){return Ir(_h(e,t.length-i),t,i,r)}s(fh,"ucs2Write");y.prototype.write=s(function(e,i,r,n){if(i===void 0)n="utf8",r=this.length,i=0;else if(r===void 0&&typeof i=="string")n=i,r=this.length,i=0;else if(isFinite(i))i=i>>>0,isFinite(r)?(r=r>>>0,n===void 0&&(n="utf8")):(n=r,r=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let o=this.length-i;if((r===void 0||r>o)&&(r=o),e.length>0&&(r<0||i<0)||i>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let a=!1;for(;;)switch(n){case"hex":return sh(this,e,i,r);case"utf8":case"utf-8":return ah(this,e,i,r);case"ascii":case"latin1":case"binary":return ch(this,e,i,r);case"base64":return lh(this,e,i,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return fh(this,e,i,r);default:if(a)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),a=!0}},"write");y.prototype.toJSON=s(function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},"toJSON");function uh(t,e,i){return e===0&&i===t.length?Vn.fromByteArray(t):Vn.fromByteArray(t.slice(e,i))}s(uh,"base64Slice");function da(t,e,i){i=Math.min(t.length,i);let r=[],n=e;for(;n<i;){let o=t[n],a=null,c=o>239?4:o>223?3:o>191?2:1;if(n+c<=i){let l,f,d,h;switch(c){case 1:o<128&&(a=o);break;case 2:l=t[n+1],(l&192)===128&&(h=(o&31)<<6|l&63,h>127&&(a=h));break;case 3:l=t[n+1],f=t[n+2],(l&192)===128&&(f&192)===128&&(h=(o&15)<<12|(l&63)<<6|f&63,h>2047&&(h<55296||h>57343)&&(a=h));break;case 4:l=t[n+1],f=t[n+2],d=t[n+3],(l&192)===128&&(f&192)===128&&(d&192)===128&&(h=(o&15)<<18|(l&63)<<12|(f&63)<<6|d&63,h>65535&&h<1114112&&(a=h))}}a===null?(a=65533,c=1):a>65535&&(a-=65536,r.push(a>>>10&1023|55296),a=56320|a&1023),r.push(a),n+=c}return dh(r)}s(da,"utf8Slice");var sa=4096;function dh(t){let e=t.length;if(e<=sa)return String.fromCharCode.apply(String,t);let i="",r=0;for(;r<e;)i+=String.fromCharCode.apply(String,t.slice(r,r+=sa));return i}s(dh,"decodeCodePointsArray");function hh(t,e,i){let r="";i=Math.min(t.length,i);for(let n=e;n<i;++n)r+=String.fromCharCode(t[n]&127);return r}s(hh,"asciiSlice");function ph(t,e,i){let r="";i=Math.min(t.length,i);for(let n=e;n<i;++n)r+=String.fromCharCode(t[n]);return r}s(ph,"latin1Slice");function yh(t,e,i){let r=t.length;(!e||e<0)&&(e=0),(!i||i<0||i>r)&&(i=r);let n="";for(let o=e;o<i;++o)n+=Eh[t[o]];return n}s(yh,"hexSlice");function mh(t,e,i){let r=t.slice(e,i),n="";for(let o=0;o<r.length-1;o+=2)n+=String.fromCharCode(r[o]+r[o+1]*256);return n}s(mh,"utf16leSlice");y.prototype.slice=s(function(e,i){let r=this.length;e=~~e,i=i===void 0?r:~~i,e<0?(e+=r,e<0&&(e=0)):e>r&&(e=r),i<0?(i+=r,i<0&&(i=0)):i>r&&(i=r),i<e&&(i=e);let n=this.subarray(e,i);return Object.setPrototypeOf(n,y.prototype),n},"slice");function J(t,e,i){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>i)throw new RangeError("Trying to access beyond buffer length")}s(J,"checkOffset");y.prototype.readUintLE=y.prototype.readUIntLE=s(function(e,i,r){e=e>>>0,i=i>>>0,r||J(e,i,this.length);let n=this[e],o=1,a=0;for(;++a<i&&(o*=256);)n+=this[e+a]*o;return n},"readUIntLE");y.prototype.readUintBE=y.prototype.readUIntBE=s(function(e,i,r){e=e>>>0,i=i>>>0,r||J(e,i,this.length);let n=this[e+--i],o=1;for(;i>0&&(o*=256);)n+=this[e+--i]*o;return n},"readUIntBE");y.prototype.readUint8=y.prototype.readUInt8=s(function(e,i){return e=e>>>0,i||J(e,1,this.length),this[e]},"readUInt8");y.prototype.readUint16LE=y.prototype.readUInt16LE=s(function(e,i){return e=e>>>0,i||J(e,2,this.length),this[e]|this[e+1]<<8},"readUInt16LE");y.prototype.readUint16BE=y.prototype.readUInt16BE=s(function(e,i){return e=e>>>0,i||J(e,2,this.length),this[e]<<8|this[e+1]},"readUInt16BE");y.prototype.readUint32LE=y.prototype.readUInt32LE=s(function(e,i){return e=e>>>0,i||J(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216},"readUInt32LE");y.prototype.readUint32BE=y.prototype.readUInt32BE=s(function(e,i){return e=e>>>0,i||J(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])},"readUInt32BE");y.prototype.readBigUInt64LE=ht(s(function(e){e=e>>>0,ri(e,"offset");let i=this[e],r=this[e+7];(i===void 0||r===void 0)&&ji(e,this.length-8);let n=i+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,o=this[++e]+this[++e]*2**8+this[++e]*2**16+r*2**24;return BigInt(n)+(BigInt(o)<<BigInt(32))},"readBigUInt64LE"));y.prototype.readBigUInt64BE=ht(s(function(e){e=e>>>0,ri(e,"offset");let i=this[e],r=this[e+7];(i===void 0||r===void 0)&&ji(e,this.length-8);let n=i*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],o=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+r;return(BigInt(n)<<BigInt(32))+BigInt(o)},"readBigUInt64BE"));y.prototype.readIntLE=s(function(e,i,r){e=e>>>0,i=i>>>0,r||J(e,i,this.length);let n=this[e],o=1,a=0;for(;++a<i&&(o*=256);)n+=this[e+a]*o;return o*=128,n>=o&&(n-=Math.pow(2,8*i)),n},"readIntLE");y.prototype.readIntBE=s(function(e,i,r){e=e>>>0,i=i>>>0,r||J(e,i,this.length);let n=i,o=1,a=this[e+--n];for(;n>0&&(o*=256);)a+=this[e+--n]*o;return o*=128,a>=o&&(a-=Math.pow(2,8*i)),a},"readIntBE");y.prototype.readInt8=s(function(e,i){return e=e>>>0,i||J(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]},"readInt8");y.prototype.readInt16LE=s(function(e,i){e=e>>>0,i||J(e,2,this.length);let r=this[e]|this[e+1]<<8;return r&32768?r|4294901760:r},"readInt16LE");y.prototype.readInt16BE=s(function(e,i){e=e>>>0,i||J(e,2,this.length);let r=this[e+1]|this[e]<<8;return r&32768?r|4294901760:r},"readInt16BE");y.prototype.readInt32LE=s(function(e,i){return e=e>>>0,i||J(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},"readInt32LE");y.prototype.readInt32BE=s(function(e,i){return e=e>>>0,i||J(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},"readInt32BE");y.prototype.readBigInt64LE=ht(s(function(e){e=e>>>0,ri(e,"offset");let i=this[e],r=this[e+7];(i===void 0||r===void 0)&&ji(e,this.length-8);let n=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(i+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)},"readBigInt64LE"));y.prototype.readBigInt64BE=ht(s(function(e){e=e>>>0,ri(e,"offset");let i=this[e],r=this[e+7];(i===void 0||r===void 0)&&ji(e,this.length-8);let n=(i<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+r)},"readBigInt64BE"));y.prototype.readFloatLE=s(function(e,i){return e=e>>>0,i||J(e,4,this.length),ii.read(this,e,!0,23,4)},"readFloatLE");y.prototype.readFloatBE=s(function(e,i){return e=e>>>0,i||J(e,4,this.length),ii.read(this,e,!1,23,4)},"readFloatBE");y.prototype.readDoubleLE=s(function(e,i){return e=e>>>0,i||J(e,8,this.length),ii.read(this,e,!0,52,8)},"readDoubleLE");y.prototype.readDoubleBE=s(function(e,i){return e=e>>>0,i||J(e,8,this.length),ii.read(this,e,!1,52,8)},"readDoubleBE");function ae(t,e,i,r,n,o){if(!y.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>n||e<o)throw new RangeError('"value" argument is out of bounds');if(i+r>t.length)throw new RangeError("Index out of range")}s(ae,"checkInt");y.prototype.writeUintLE=y.prototype.writeUIntLE=s(function(e,i,r,n){if(e=+e,i=i>>>0,r=r>>>0,!n){let c=Math.pow(2,8*r)-1;ae(this,e,i,r,c,0)}let o=1,a=0;for(this[i]=e&255;++a<r&&(o*=256);)this[i+a]=e/o&255;return i+r},"writeUIntLE");y.prototype.writeUintBE=y.prototype.writeUIntBE=s(function(e,i,r,n){if(e=+e,i=i>>>0,r=r>>>0,!n){let c=Math.pow(2,8*r)-1;ae(this,e,i,r,c,0)}let o=r-1,a=1;for(this[i+o]=e&255;--o>=0&&(a*=256);)this[i+o]=e/a&255;return i+r},"writeUIntBE");y.prototype.writeUint8=y.prototype.writeUInt8=s(function(e,i,r){return e=+e,i=i>>>0,r||ae(this,e,i,1,255,0),this[i]=e&255,i+1},"writeUInt8");y.prototype.writeUint16LE=y.prototype.writeUInt16LE=s(function(e,i,r){return e=+e,i=i>>>0,r||ae(this,e,i,2,65535,0),this[i]=e&255,this[i+1]=e>>>8,i+2},"writeUInt16LE");y.prototype.writeUint16BE=y.prototype.writeUInt16BE=s(function(e,i,r){return e=+e,i=i>>>0,r||ae(this,e,i,2,65535,0),this[i]=e>>>8,this[i+1]=e&255,i+2},"writeUInt16BE");y.prototype.writeUint32LE=y.prototype.writeUInt32LE=s(function(e,i,r){return e=+e,i=i>>>0,r||ae(this,e,i,4,4294967295,0),this[i+3]=e>>>24,this[i+2]=e>>>16,this[i+1]=e>>>8,this[i]=e&255,i+4},"writeUInt32LE");y.prototype.writeUint32BE=y.prototype.writeUInt32BE=s(function(e,i,r){return e=+e,i=i>>>0,r||ae(this,e,i,4,4294967295,0),this[i]=e>>>24,this[i+1]=e>>>16,this[i+2]=e>>>8,this[i+3]=e&255,i+4},"writeUInt32BE");function ha(t,e,i,r,n){ga(e,r,n,t,i,7);let o=Number(e&BigInt(4294967295));t[i++]=o,o=o>>8,t[i++]=o,o=o>>8,t[i++]=o,o=o>>8,t[i++]=o;let a=Number(e>>BigInt(32)&BigInt(4294967295));return t[i++]=a,a=a>>8,t[i++]=a,a=a>>8,t[i++]=a,a=a>>8,t[i++]=a,i}s(ha,"wrtBigUInt64LE");function pa(t,e,i,r,n){ga(e,r,n,t,i,7);let o=Number(e&BigInt(4294967295));t[i+7]=o,o=o>>8,t[i+6]=o,o=o>>8,t[i+5]=o,o=o>>8,t[i+4]=o;let a=Number(e>>BigInt(32)&BigInt(4294967295));return t[i+3]=a,a=a>>8,t[i+2]=a,a=a>>8,t[i+1]=a,a=a>>8,t[i]=a,i+8}s(pa,"wrtBigUInt64BE");y.prototype.writeBigUInt64LE=ht(s(function(e,i=0){return ha(this,e,i,BigInt(0),BigInt("0xffffffffffffffff"))},"writeBigUInt64LE"));y.prototype.writeBigUInt64BE=ht(s(function(e,i=0){return pa(this,e,i,BigInt(0),BigInt("0xffffffffffffffff"))},"writeBigUInt64BE"));y.prototype.writeIntLE=s(function(e,i,r,n){if(e=+e,i=i>>>0,!n){let l=Math.pow(2,8*r-1);ae(this,e,i,r,l-1,-l)}let o=0,a=1,c=0;for(this[i]=e&255;++o<r&&(a*=256);)e<0&&c===0&&this[i+o-1]!==0&&(c=1),this[i+o]=(e/a>>0)-c&255;return i+r},"writeIntLE");y.prototype.writeIntBE=s(function(e,i,r,n){if(e=+e,i=i>>>0,!n){let l=Math.pow(2,8*r-1);ae(this,e,i,r,l-1,-l)}let o=r-1,a=1,c=0;for(this[i+o]=e&255;--o>=0&&(a*=256);)e<0&&c===0&&this[i+o+1]!==0&&(c=1),this[i+o]=(e/a>>0)-c&255;return i+r},"writeIntBE");y.prototype.writeInt8=s(function(e,i,r){return e=+e,i=i>>>0,r||ae(this,e,i,1,127,-128),e<0&&(e=255+e+1),this[i]=e&255,i+1},"writeInt8");y.prototype.writeInt16LE=s(function(e,i,r){return e=+e,i=i>>>0,r||ae(this,e,i,2,32767,-32768),this[i]=e&255,this[i+1]=e>>>8,i+2},"writeInt16LE");y.prototype.writeInt16BE=s(function(e,i,r){return e=+e,i=i>>>0,r||ae(this,e,i,2,32767,-32768),this[i]=e>>>8,this[i+1]=e&255,i+2},"writeInt16BE");y.prototype.writeInt32LE=s(function(e,i,r){return e=+e,i=i>>>0,r||ae(this,e,i,4,2147483647,-2147483648),this[i]=e&255,this[i+1]=e>>>8,this[i+2]=e>>>16,this[i+3]=e>>>24,i+4},"writeInt32LE");y.prototype.writeInt32BE=s(function(e,i,r){return e=+e,i=i>>>0,r||ae(this,e,i,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[i]=e>>>24,this[i+1]=e>>>16,this[i+2]=e>>>8,this[i+3]=e&255,i+4},"writeInt32BE");y.prototype.writeBigInt64LE=ht(s(function(e,i=0){return ha(this,e,i,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))},"writeBigInt64LE"));y.prototype.writeBigInt64BE=ht(s(function(e,i=0){return pa(this,e,i,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))},"writeBigInt64BE"));function ya(t,e,i,r,n,o){if(i+r>t.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}s(ya,"checkIEEE754");function ma(t,e,i,r,n){return e=+e,i=i>>>0,n||ya(t,e,i,4,34028234663852886e22,-34028234663852886e22),ii.write(t,e,i,r,23,4),i+4}s(ma,"writeFloat");y.prototype.writeFloatLE=s(function(e,i,r){return ma(this,e,i,!0,r)},"writeFloatLE");y.prototype.writeFloatBE=s(function(e,i,r){return ma(this,e,i,!1,r)},"writeFloatBE");function ba(t,e,i,r,n){return e=+e,i=i>>>0,n||ya(t,e,i,8,17976931348623157e292,-17976931348623157e292),ii.write(t,e,i,r,52,8),i+8}s(ba,"writeDouble");y.prototype.writeDoubleLE=s(function(e,i,r){return ba(this,e,i,!0,r)},"writeDoubleLE");y.prototype.writeDoubleBE=s(function(e,i,r){return ba(this,e,i,!1,r)},"writeDoubleBE");y.prototype.copy=s(function(e,i,r,n){if(!y.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),!n&&n!==0&&(n=this.length),i>=e.length&&(i=e.length),i||(i=0),n>0&&n<r&&(n=r),n===r||e.length===0||this.length===0)return 0;if(i<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-i<n-r&&(n=e.length-i+r);let o=n-r;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(i,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),i),o},"copy");y.prototype.fill=s(function(e,i,r,n){if(typeof e=="string"){if(typeof i=="string"?(n=i,i=0,r=this.length):typeof r=="string"&&(n=r,r=this.length),n!==void 0&&typeof n!="string")throw new TypeError("encoding must be a string");if(typeof n=="string"&&!y.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(e.length===1){let a=e.charCodeAt(0);(n==="utf8"&&a<128||n==="latin1")&&(e=a)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(i<0||this.length<i||this.length<r)throw new RangeError("Out of range index");if(r<=i)return this;i=i>>>0,r=r===void 0?this.length:r>>>0,e||(e=0);let o;if(typeof e=="number")for(o=i;o<r;++o)this[o]=e;else{let a=y.isBuffer(e)?e:y.from(e,n),c=a.length;if(c===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<r-i;++o)this[o+i]=a[o%c]}return this},"fill");var ti={};function Jn(t,e,i){ti[t]=class extends i{static{s(this,"NodeError")}constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(n){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:n,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}s(Jn,"E");Jn("ERR_BUFFER_OUT_OF_BOUNDS",function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);Jn("ERR_INVALID_ARG_TYPE",function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`},TypeError);Jn("ERR_OUT_OF_RANGE",function(t,e,i){let r=`The value of "${t}" is out of range.`,n=i;return Number.isInteger(i)&&Math.abs(i)>2**32?n=aa(String(i)):typeof i=="bigint"&&(n=String(i),(i>BigInt(2)**BigInt(32)||i<-(BigInt(2)**BigInt(32)))&&(n=aa(n)),n+="n"),r+=` It must be ${e}. Received ${n}`,r},RangeError);function aa(t){let e="",i=t.length,r=t[0]==="-"?1:0;for(;i>=r+4;i-=3)e=`_${t.slice(i-3,i)}${e}`;return`${t.slice(0,i)}${e}`}s(aa,"addNumericalSeparator");function bh(t,e,i){ri(e,"offset"),(t[e]===void 0||t[e+i]===void 0)&&ji(e,t.length-(i+1))}s(bh,"checkBounds");function ga(t,e,i,r,n,o){if(t>i||t<e){let a=typeof e=="bigint"?"n":"",c;throw o>3?e===0||e===BigInt(0)?c=`>= 0${a} and < 2${a} ** ${(o+1)*8}${a}`:c=`>= -(2${a} ** ${(o+1)*8-1}${a}) and < 2 ** ${(o+1)*8-1}${a}`:c=`>= ${e}${a} and <= ${i}${a}`,new ti.ERR_OUT_OF_RANGE("value",c,t)}bh(r,n,o)}s(ga,"checkIntBI");function ri(t,e){if(typeof t!="number")throw new ti.ERR_INVALID_ARG_TYPE(e,"number",t)}s(ri,"validateNumber");function ji(t,e,i){throw Math.floor(t)!==t?(ri(t,i),new ti.ERR_OUT_OF_RANGE(i||"offset","an integer",t)):e<0?new ti.ERR_BUFFER_OUT_OF_BOUNDS:new ti.ERR_OUT_OF_RANGE(i||"offset",`>= ${i?1:0} and <= ${e}`,t)}s(ji,"boundsError");var gh=/[^+/0-9A-Za-z-_]/g;function wh(t){if(t=t.split("=")[0],t=t.trim().replace(gh,""),t.length<2)return"";for(;t.length%4!==0;)t=t+"=";return t}s(wh,"base64clean");function Yn(t,e){e=e||1/0;let i,r=t.length,n=null,o=[];for(let a=0;a<r;++a){if(i=t.charCodeAt(a),i>55295&&i<57344){if(!n){if(i>56319){(e-=3)>-1&&o.push(239,191,189);continue}else if(a+1===r){(e-=3)>-1&&o.push(239,191,189);continue}n=i;continue}if(i<56320){(e-=3)>-1&&o.push(239,191,189),n=i;continue}i=(n-55296<<10|i-56320)+65536}else n&&(e-=3)>-1&&o.push(239,191,189);if(n=null,i<128){if((e-=1)<0)break;o.push(i)}else if(i<2048){if((e-=2)<0)break;o.push(i>>6|192,i&63|128)}else if(i<65536){if((e-=3)<0)break;o.push(i>>12|224,i>>6&63|128,i&63|128)}else if(i<1114112){if((e-=4)<0)break;o.push(i>>18|240,i>>12&63|128,i>>6&63|128,i&63|128)}else throw new Error("Invalid code point")}return o}s(Yn,"utf8ToBytes");function Sh(t){let e=[];for(let i=0;i<t.length;++i)e.push(t.charCodeAt(i)&255);return e}s(Sh,"asciiToBytes");function _h(t,e){let i,r,n,o=[];for(let a=0;a<t.length&&!((e-=2)<0);++a)i=t.charCodeAt(a),r=i>>8,n=i%256,o.push(n),o.push(r);return o}s(_h,"utf16leToBytes");function wa(t){return Vn.toByteArray(wh(t))}s(wa,"base64ToBytes");function Ir(t,e,i,r){let n;for(n=0;n<r&&!(n+i>=e.length||n>=t.length);++n)e[n+i]=t[n];return n}s(Ir,"blitBuffer");function We(t,e){return t instanceof e||t!=null&&t.constructor!=null&&t.constructor.name!=null&&t.constructor.name===e.name}s(We,"isInstance");function Qn(t){return t!==t}s(Qn,"numberIsNaN");var Eh=function(){let t="0123456789abcdef",e=new Array(256);for(let i=0;i<16;++i){let r=i*16;for(let n=0;n<16;++n)e[r+n]=t[i]+t[n]}return e}();function ht(t){return typeof BigInt>"u"?xh:t}s(ht,"defineBigIntMethod");function xh(){throw new Error("BigInt not supported")}s(xh,"BufferBigIntNotDefined")});var D=A((J_,Va)=>{"use strict";Va.exports={ArrayIsArray:s(function(t){return Array.isArray(t)},"ArrayIsArray"),ArrayPrototypeIncludes:s(function(t,e){return t.includes(e)},"ArrayPrototypeIncludes"),ArrayPrototypeIndexOf:s(function(t,e){return t.indexOf(e)},"ArrayPrototypeIndexOf"),ArrayPrototypeJoin:s(function(t,e){return t.join(e)},"ArrayPrototypeJoin"),ArrayPrototypeMap:s(function(t,e){return t.map(e)},"ArrayPrototypeMap"),ArrayPrototypePop:s(function(t,e){return t.pop(e)},"ArrayPrototypePop"),ArrayPrototypePush:s(function(t,e){return t.push(e)},"ArrayPrototypePush"),ArrayPrototypeSlice:s(function(t,e,i){return t.slice(e,i)},"ArrayPrototypeSlice"),Error,FunctionPrototypeCall:s(function(t,e,...i){return t.call(e,...i)},"FunctionPrototypeCall"),FunctionPrototypeSymbolHasInstance:s(function(t,e){return Function.prototype[Symbol.hasInstance].call(t,e)},"FunctionPrototypeSymbolHasInstance"),MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties:s(function(t,e){return Object.defineProperties(t,e)},"ObjectDefineProperties"),ObjectDefineProperty:s(function(t,e,i){return Object.defineProperty(t,e,i)},"ObjectDefineProperty"),ObjectGetOwnPropertyDescriptor:s(function(t,e){return Object.getOwnPropertyDescriptor(t,e)},"ObjectGetOwnPropertyDescriptor"),ObjectKeys:s(function(t){return Object.keys(t)},"ObjectKeys"),ObjectSetPrototypeOf:s(function(t,e){return Object.setPrototypeOf(t,e)},"ObjectSetPrototypeOf"),Promise,PromisePrototypeCatch:s(function(t,e){return t.catch(e)},"PromisePrototypeCatch"),PromisePrototypeThen:s(function(t,e,i){return t.then(e,i)},"PromisePrototypeThen"),PromiseReject:s(function(t){return Promise.reject(t)},"PromiseReject"),PromiseResolve:s(function(t){return Promise.resolve(t)},"PromiseResolve"),ReflectApply:Reflect.apply,RegExpPrototypeTest:s(function(t,e){return t.test(e)},"RegExpPrototypeTest"),SafeSet:Set,String,StringPrototypeSlice:s(function(t,e,i){return t.slice(e,i)},"StringPrototypeSlice"),StringPrototypeToLowerCase:s(function(t){return t.toLowerCase()},"StringPrototypeToLowerCase"),StringPrototypeToUpperCase:s(function(t){return t.toUpperCase()},"StringPrototypeToUpperCase"),StringPrototypeTrim:s(function(t){return t.trim()},"StringPrototypeTrim"),Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet:s(function(t,e,i){return t.set(e,i)},"TypedArrayPrototypeSet"),Boolean,Uint8Array}});var si=A((Z_,Br)=>{"use strict";var{AbortController:Ha,AbortSignal:vh}=typeof self<"u"?self:typeof window<"u"?window:void 0;Br.exports=Ha;Br.exports.AbortSignal=vh;Br.exports.default=Ha});var Ki=A((eE,so)=>{"use strict";var ai=typeof Reflect=="object"?Reflect:null,Ga=ai&&typeof ai.apply=="function"?ai.apply:s(function(e,i,r){return Function.prototype.apply.call(e,i,r)},"ReflectApply"),Dr;ai&&typeof ai.ownKeys=="function"?Dr=ai.ownKeys:Object.getOwnPropertySymbols?Dr=s(function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))},"ReflectOwnKeys"):Dr=s(function(e){return Object.getOwnPropertyNames(e)},"ReflectOwnKeys");function Fh(t){console&&console.warn&&console.warn(t)}s(Fh,"ProcessEmitWarning");var Ka=Number.isNaN||s(function(e){return e!==e},"NumberIsNaN");function C(){C.init.call(this)}s(C,"EventEmitter");so.exports=C;so.exports.once=Oh;C.EventEmitter=C;C.prototype._events=void 0;C.prototype._eventsCount=0;C.prototype._maxListeners=void 0;var Ya=10;function Mr(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}s(Mr,"checkListener");Object.defineProperty(C,"defaultMaxListeners",{enumerable:!0,get:s(function(){return Ya},"get"),set:s(function(t){if(typeof t!="number"||t<0||Ka(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");Ya=t},"set")});C.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};C.prototype.setMaxListeners=s(function(e){if(typeof e!="number"||e<0||Ka(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},"setMaxListeners");function Xa(t){return t._maxListeners===void 0?C.defaultMaxListeners:t._maxListeners}s(Xa,"_getMaxListeners");C.prototype.getMaxListeners=s(function(){return Xa(this)},"getMaxListeners");C.prototype.emit=s(function(e){for(var i=[],r=1;r<arguments.length;r++)i.push(arguments[r]);var n=e==="error",o=this._events;if(o!==void 0)n=n&&o.error===void 0;else if(!n)return!1;if(n){var a;if(i.length>0&&(a=i[0]),a instanceof Error)throw a;var c=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw c.context=a,c}var l=o[e];if(l===void 0)return!1;if(typeof l=="function")Ga(l,this,i);else for(var f=l.length,d=tc(l,f),r=0;r<f;++r)Ga(d[r],this,i);return!0},"emit");function Ja(t,e,i,r){var n,o,a;if(Mr(i),o=t._events,o===void 0?(o=t._events=Object.create(null),t._eventsCount=0):(o.newListener!==void 0&&(t.emit("newListener",e,i.listener?i.listener:i),o=t._events),a=o[e]),a===void 0)a=o[e]=i,++t._eventsCount;else if(typeof a=="function"?a=o[e]=r?[i,a]:[a,i]:r?a.unshift(i):a.push(i),n=Xa(t),n>0&&a.length>n&&!a.warned){a.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=t,c.type=e,c.count=a.length,Fh(c)}return t}s(Ja,"_addListener");C.prototype.addListener=s(function(e,i){return Ja(this,e,i,!1)},"addListener");C.prototype.on=C.prototype.addListener;C.prototype.prependListener=s(function(e,i){return Ja(this,e,i,!0)},"prependListener");function Ih(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}s(Ih,"onceWrapper");function Qa(t,e,i){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:i},n=Ih.bind(r);return n.listener=i,r.wrapFn=n,n}s(Qa,"_onceWrap");C.prototype.once=s(function(e,i){return Mr(i),this.on(e,Qa(this,e,i)),this},"once");C.prototype.prependOnceListener=s(function(e,i){return Mr(i),this.prependListener(e,Qa(this,e,i)),this},"prependOnceListener");C.prototype.removeListener=s(function(e,i){var r,n,o,a,c;if(Mr(i),n=this._events,n===void 0)return this;if(r=n[e],r===void 0)return this;if(r===i||r.listener===i)--this._eventsCount===0?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||i));else if(typeof r!="function"){for(o=-1,a=r.length-1;a>=0;a--)if(r[a]===i||r[a].listener===i){c=r[a].listener,o=a;break}if(o<0)return this;o===0?r.shift():Ph(r,o),r.length===1&&(n[e]=r[0]),n.removeListener!==void 0&&this.emit("removeListener",e,c||i)}return this},"removeListener");C.prototype.off=C.prototype.removeListener;C.prototype.removeAllListeners=s(function(e){var i,r,n;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[e]),this;if(arguments.length===0){var o=Object.keys(r),a;for(n=0;n<o.length;++n)a=o[n],a!=="removeListener"&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(i=r[e],typeof i=="function")this.removeListener(e,i);else if(i!==void 0)for(n=i.length-1;n>=0;n--)this.removeListener(e,i[n]);return this},"removeAllListeners");function Za(t,e,i){var r=t._events;if(r===void 0)return[];var n=r[e];return n===void 0?[]:typeof n=="function"?i?[n.listener||n]:[n]:i?Ah(n):tc(n,n.length)}s(Za,"_listeners");C.prototype.listeners=s(function(e){return Za(this,e,!0)},"listeners");C.prototype.rawListeners=s(function(e){return Za(this,e,!1)},"rawListeners");C.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):ec.call(t,e)};C.prototype.listenerCount=ec;function ec(t){var e=this._events;if(e!==void 0){var i=e[t];if(typeof i=="function")return 1;if(i!==void 0)return i.length}return 0}s(ec,"listenerCount");C.prototype.eventNames=s(function(){return this._eventsCount>0?Dr(this._events):[]},"eventNames");function tc(t,e){for(var i=new Array(e),r=0;r<e;++r)i[r]=t[r];return i}s(tc,"arrayClone");function Ph(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}s(Ph,"spliceOne");function Ah(t){for(var e=new Array(t.length),i=0;i<e.length;++i)e[i]=t[i].listener||t[i];return e}s(Ah,"unwrapListeners");function Oh(t,e){return new Promise(function(i,r){function n(a){t.removeListener(e,o),r(a)}s(n,"errorListener");function o(){typeof t.removeListener=="function"&&t.removeListener("error",n),i([].slice.call(arguments))}s(o,"resolver"),ic(t,e,o,{once:!0}),e!=="error"&&Th(t,n,{once:!0})})}s(Oh,"once");function Th(t,e,i){typeof t.on=="function"&&ic(t,"error",e,i)}s(Th,"addErrorHandlerIfEventEmitter");function ic(t,e,i,r){if(typeof t.on=="function")r.once?t.once(e,i):t.on(e,i);else if(typeof t.addEventListener=="function")t.addEventListener(e,s(function n(o){r.once&&t.removeEventListener(e,n),i(o)},"wrapListener"));else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}s(ic,"eventTargetAgnosticAddListener")});var te=A((iE,co)=>{"use strict";var Ch=we(),{kResistStopPropagation:Rh,SymbolDispose:Nh}=D(),Lh=globalThis.AbortSignal||si().AbortSignal,Bh=globalThis.AbortController||si().AbortController,Dh=Object.getPrototypeOf(async function(){}).constructor,rc=globalThis.Blob||Ch.Blob,Mh=s(typeof rc<"u"?function(e){return e instanceof rc}:function(e){return!1},"isBlob"),nc=s((t,e)=>{if(t!==void 0&&(t===null||typeof t!="object"||!("aborted"in t)))throw new ERR_INVALID_ARG_TYPE(e,"AbortSignal",t)},"validateAbortSignal"),Uh=s((t,e)=>{if(typeof t!="function")throw new ERR_INVALID_ARG_TYPE(e,"Function",t)},"validateFunction"),ao=class extends Error{static{s(this,"AggregateError")}constructor(e){if(!Array.isArray(e))throw new TypeError(`Expected input to be an Array, got ${typeof e}`);let i="";for(let r=0;r<e.length;r++)i+=`    ${e[r].stack}
`;super(i),this.name="AggregateError",this.errors=e}};co.exports={AggregateError:ao,kEmptyObject:Object.freeze({}),once:s(function(t){let e=!1;return function(...i){e||(e=!0,t.apply(this,i))}},"once"),createDeferredPromise:s(function(){let t,e;return{promise:new Promise((r,n)=>{t=r,e=n}),resolve:t,reject:e}},"createDeferredPromise"),promisify:s(function(t){return new Promise((e,i)=>{t((r,...n)=>r?i(r):e(...n))})},"promisify"),debuglog:s(function(){return function(){}},"debuglog"),format:s(function(t,...e){return t.replace(/%([sdifj])/g,function(...[i,r]){let n=e.shift();return r==="f"?n.toFixed(6):r==="j"?JSON.stringify(n):r==="s"&&typeof n=="object"?`${n.constructor!==Object?n.constructor.name:""} {}`.trim():n.toString()})},"format"),inspect:s(function(t){switch(typeof t){case"string":if(t.includes("'"))if(t.includes('"')){if(!t.includes("`")&&!t.includes("${"))return`\`${t}\``}else return`"${t}"`;return`'${t}'`;case"number":return isNaN(t)?"NaN":Object.is(t,-0)?String(t):t;case"bigint":return`${String(t)}n`;case"boolean":case"undefined":return String(t);case"object":return"{}"}},"inspect"),types:{isAsyncFunction:s(function(t){return t instanceof Dh},"isAsyncFunction"),isArrayBufferView:s(function(t){return ArrayBuffer.isView(t)},"isArrayBufferView")},isBlob:Mh,deprecate:s(function(t,e){return t},"deprecate"),addAbortListener:Ki().addAbortListener||s(function(e,i){if(e===void 0)throw new ERR_INVALID_ARG_TYPE("signal","AbortSignal",e);nc(e,"signal"),Uh(i,"listener");let r;return e.aborted?queueMicrotask(()=>i()):(e.addEventListener("abort",i,{__proto__:null,once:!0,[Rh]:!0}),r=s(()=>{e.removeEventListener("abort",i)},"removeEventListener")),{__proto__:null,[Nh](){var n;(n=r)===null||n===void 0||n()}}},"addAbortListener"),AbortSignalAny:Lh.any||s(function(e){if(e.length===1)return e[0];let i=new Bh,r=s(()=>i.abort(),"abort");return e.forEach(n=>{nc(n,"signals"),n.addEventListener("abort",r,{once:!0})}),i.signal.addEventListener("abort",()=>{e.forEach(n=>n.removeEventListener("abort",r))},{once:!0}),i.signal},"AbortSignalAny")};co.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")});var ne=A((nE,ac)=>{"use strict";var{format:Wh,inspect:Ur,AggregateError:jh}=te(),qh=globalThis.AggregateError||jh,$h=Symbol("kIsNodeError"),zh=["string","function","number","object","Function","Object","boolean","bigint","symbol"],Vh=/^([A-Z][a-z0-9]*)+$/,Hh="__node_internal_",Wr={};function Nt(t,e){if(!t)throw new Wr.ERR_INTERNAL_ASSERTION(e)}s(Nt,"assert");function oc(t){let e="",i=t.length,r=t[0]==="-"?1:0;for(;i>=r+4;i-=3)e=`_${t.slice(i-3,i)}${e}`;return`${t.slice(0,i)}${e}`}s(oc,"addNumericalSeparator");function Gh(t,e,i){if(typeof e=="function")return Nt(e.length<=i.length,`Code: ${t}; The provided arguments length (${i.length}) does not match the required ones (${e.length}).`),e(...i);let r=(e.match(/%[dfijoOs]/g)||[]).length;return Nt(r===i.length,`Code: ${t}; The provided arguments length (${i.length}) does not match the required ones (${r}).`),i.length===0?e:Wh(e,...i)}s(Gh,"getMessage");function Q(t,e,i){i||(i=Error);class r extends i{static{s(this,"NodeError")}constructor(...o){super(Gh(t,e,o))}toString(){return`${this.name} [${t}]: ${this.message}`}}Object.defineProperties(r.prototype,{name:{value:i.name,writable:!0,enumerable:!1,configurable:!0},toString:{value:s(function(){return`${this.name} [${t}]: ${this.message}`},"value"),writable:!0,enumerable:!1,configurable:!0}}),r.prototype.code=t,r.prototype[$h]=!0,Wr[t]=r}s(Q,"E");function sc(t){let e=Hh+t.name;return Object.defineProperty(t,"name",{value:e}),t}s(sc,"hideStackFrames");function Yh(t,e){if(t&&e&&t!==e){if(Array.isArray(e.errors))return e.errors.push(t),e;let i=new qh([e,t],e.message);return i.code=e.code,i}return t||e}s(Yh,"aggregateTwoErrors");var lo=class extends Error{static{s(this,"AbortError")}constructor(e="The operation was aborted",i=void 0){if(i!==void 0&&typeof i!="object")throw new Wr.ERR_INVALID_ARG_TYPE("options","Object",i);super(e,i),this.code="ABORT_ERR",this.name="AbortError"}};Q("ERR_ASSERTION","%s",Error);Q("ERR_INVALID_ARG_TYPE",(t,e,i)=>{Nt(typeof t=="string","'name' must be a string"),Array.isArray(e)||(e=[e]);let r="The ";t.endsWith(" argument")?r+=`${t} `:r+=`"${t}" ${t.includes(".")?"property":"argument"} `,r+="must be ";let n=[],o=[],a=[];for(let l of e)Nt(typeof l=="string","All expected entries have to be of type string"),zh.includes(l)?n.push(l.toLowerCase()):Vh.test(l)?o.push(l):(Nt(l!=="object",'The value "object" should be written as "Object"'),a.push(l));if(o.length>0){let l=n.indexOf("object");l!==-1&&(n.splice(n,l,1),o.push("Object"))}if(n.length>0){switch(n.length){case 1:r+=`of type ${n[0]}`;break;case 2:r+=`one of type ${n[0]} or ${n[1]}`;break;default:{let l=n.pop();r+=`one of type ${n.join(", ")}, or ${l}`}}(o.length>0||a.length>0)&&(r+=" or ")}if(o.length>0){switch(o.length){case 1:r+=`an instance of ${o[0]}`;break;case 2:r+=`an instance of ${o[0]} or ${o[1]}`;break;default:{let l=o.pop();r+=`an instance of ${o.join(", ")}, or ${l}`}}a.length>0&&(r+=" or ")}switch(a.length){case 0:break;case 1:a[0].toLowerCase()!==a[0]&&(r+="an "),r+=`${a[0]}`;break;case 2:r+=`one of ${a[0]} or ${a[1]}`;break;default:{let l=a.pop();r+=`one of ${a.join(", ")}, or ${l}`}}if(i==null)r+=`. Received ${i}`;else if(typeof i=="function"&&i.name)r+=`. Received function ${i.name}`;else if(typeof i=="object"){var c;if((c=i.constructor)!==null&&c!==void 0&&c.name)r+=`. Received an instance of ${i.constructor.name}`;else{let l=Ur(i,{depth:-1});r+=`. Received ${l}`}}else{let l=Ur(i,{colors:!1});l.length>25&&(l=`${l.slice(0,25)}...`),r+=`. Received type ${typeof i} (${l})`}return r},TypeError);Q("ERR_INVALID_ARG_VALUE",(t,e,i="is invalid")=>{let r=Ur(e);return r.length>128&&(r=r.slice(0,128)+"..."),`The ${t.includes(".")?"property":"argument"} '${t}' ${i}. Received ${r}`},TypeError);Q("ERR_INVALID_RETURN_VALUE",(t,e,i)=>{var r;let n=i!=null&&(r=i.constructor)!==null&&r!==void 0&&r.name?`instance of ${i.constructor.name}`:`type ${typeof i}`;return`Expected ${t} to be returned from the "${e}" function but got ${n}.`},TypeError);Q("ERR_MISSING_ARGS",(...t)=>{Nt(t.length>0,"At least one arg needs to be specified");let e,i=t.length;switch(t=(Array.isArray(t)?t:[t]).map(r=>`"${r}"`).join(" or "),i){case 1:e+=`The ${t[0]} argument`;break;case 2:e+=`The ${t[0]} and ${t[1]} arguments`;break;default:{let r=t.pop();e+=`The ${t.join(", ")}, and ${r} arguments`}break}return`${e} must be specified`},TypeError);Q("ERR_OUT_OF_RANGE",(t,e,i)=>{Nt(e,'Missing "range" argument');let r;return Number.isInteger(i)&&Math.abs(i)>2**32?r=oc(String(i)):typeof i=="bigint"?(r=String(i),(i>2n**32n||i<-(2n**32n))&&(r=oc(r)),r+="n"):r=Ur(i),`The value of "${t}" is out of range. It must be ${e}. Received ${r}`},RangeError);Q("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error);Q("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error);Q("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error);Q("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error);Q("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error);Q("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);Q("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error);Q("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error);Q("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error);Q("ERR_STREAM_WRITE_AFTER_END","write after end",Error);Q("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError);ac.exports={AbortError:lo,aggregateTwoErrors:sc(Yh),hideStackFrames:sc,codes:Wr}});var li=A((sE,bc)=>{"use strict";var{ArrayIsArray:uo,ArrayPrototypeIncludes:uc,ArrayPrototypeJoin:dc,ArrayPrototypeMap:Kh,NumberIsInteger:ho,NumberIsNaN:Xh,NumberMAX_SAFE_INTEGER:Jh,NumberMIN_SAFE_INTEGER:Qh,NumberParseInt:Zh,ObjectPrototypeHasOwnProperty:ep,RegExpPrototypeExec:hc,String:tp,StringPrototypeToUpperCase:ip,StringPrototypeTrim:rp}=D(),{hideStackFrames:_e,codes:{ERR_SOCKET_BAD_PORT:np,ERR_INVALID_ARG_TYPE:ie,ERR_INVALID_ARG_VALUE:ci,ERR_OUT_OF_RANGE:Lt,ERR_UNKNOWN_SIGNAL:cc}}=ne(),{normalizeEncoding:op}=te(),{isAsyncFunction:sp,isArrayBufferView:ap}=te().types,lc={};function cp(t){return t===(t|0)}s(cp,"isInt32");function lp(t){return t===t>>>0}s(lp,"isUint32");var fp=/^[0-7]+$/,up="must be a 32-bit unsigned integer or an octal string";function dp(t,e,i){if(typeof t>"u"&&(t=i),typeof t=="string"){if(hc(fp,t)===null)throw new ci(e,t,up);t=Zh(t,8)}return pc(t,e),t}s(dp,"parseFileMode");var hp=_e((t,e,i=Qh,r=Jh)=>{if(typeof t!="number")throw new ie(e,"number",t);if(!ho(t))throw new Lt(e,"an integer",t);if(t<i||t>r)throw new Lt(e,`>= ${i} && <= ${r}`,t)}),pp=_e((t,e,i=-2147483648,r=2147483647)=>{if(typeof t!="number")throw new ie(e,"number",t);if(!ho(t))throw new Lt(e,"an integer",t);if(t<i||t>r)throw new Lt(e,`>= ${i} && <= ${r}`,t)}),pc=_e((t,e,i=!1)=>{if(typeof t!="number")throw new ie(e,"number",t);if(!ho(t))throw new Lt(e,"an integer",t);let r=i?1:0,n=4294967295;if(t<r||t>n)throw new Lt(e,`>= ${r} && <= ${n}`,t)});function po(t,e){if(typeof t!="string")throw new ie(e,"string",t)}s(po,"validateString");function yp(t,e,i=void 0,r){if(typeof t!="number")throw new ie(e,"number",t);if(i!=null&&t<i||r!=null&&t>r||(i!=null||r!=null)&&Xh(t))throw new Lt(e,`${i!=null?`>= ${i}`:""}${i!=null&&r!=null?" && ":""}${r!=null?`<= ${r}`:""}`,t)}s(yp,"validateNumber");var mp=_e((t,e,i)=>{if(!uc(i,t)){let n="must be one of: "+dc(Kh(i,o=>typeof o=="string"?`'${o}'`:tp(o)),", ");throw new ci(e,t,n)}});function yc(t,e){if(typeof t!="boolean")throw new ie(e,"boolean",t)}s(yc,"validateBoolean");function fo(t,e,i){return t==null||!ep(t,e)?i:t[e]}s(fo,"getOwnPropertyValueOrDefault");var bp=_e((t,e,i=null)=>{let r=fo(i,"allowArray",!1),n=fo(i,"allowFunction",!1);if(!fo(i,"nullable",!1)&&t===null||!r&&uo(t)||typeof t!="object"&&(!n||typeof t!="function"))throw new ie(e,"Object",t)}),gp=_e((t,e)=>{if(t!=null&&typeof t!="object"&&typeof t!="function")throw new ie(e,"a dictionary",t)}),jr=_e((t,e,i=0)=>{if(!uo(t))throw new ie(e,"Array",t);if(t.length<i){let r=`must be longer than ${i}`;throw new ci(e,t,r)}});function wp(t,e){jr(t,e);for(let i=0;i<t.length;i++)po(t[i],`${e}[${i}]`)}s(wp,"validateStringArray");function Sp(t,e){jr(t,e);for(let i=0;i<t.length;i++)yc(t[i],`${e}[${i}]`)}s(Sp,"validateBooleanArray");function _p(t,e){jr(t,e);for(let i=0;i<t.length;i++){let r=t[i],n=`${e}[${i}]`;if(r==null)throw new ie(n,"AbortSignal",r);mc(r,n)}}s(_p,"validateAbortSignalArray");function Ep(t,e="signal"){if(po(t,e),lc[t]===void 0)throw lc[ip(t)]!==void 0?new cc(t+" (signals must use all capital letters)"):new cc(t)}s(Ep,"validateSignalName");var xp=_e((t,e="buffer")=>{if(!ap(t))throw new ie(e,["Buffer","TypedArray","DataView"],t)});function kp(t,e){let i=op(e),r=t.length;if(i==="hex"&&r%2!==0)throw new ci("encoding",e,`is invalid for data of length ${r}`)}s(kp,"validateEncoding");function vp(t,e="Port",i=!0){if(typeof t!="number"&&typeof t!="string"||typeof t=="string"&&rp(t).length===0||+t!==+t>>>0||t>65535||t===0&&!i)throw new np(e,t,i);return t|0}s(vp,"validatePort");var mc=_e((t,e)=>{if(t!==void 0&&(t===null||typeof t!="object"||!("aborted"in t)))throw new ie(e,"AbortSignal",t)}),Fp=_e((t,e)=>{if(typeof t!="function")throw new ie(e,"Function",t)}),Ip=_e((t,e)=>{if(typeof t!="function"||sp(t))throw new ie(e,"Function",t)}),Pp=_e((t,e)=>{if(t!==void 0)throw new ie(e,"undefined",t)});function Ap(t,e,i){if(!uc(i,t))throw new ie(e,`('${dc(i,"|")}')`,t)}s(Ap,"validateUnion");var Op=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function fc(t,e){if(typeof t>"u"||!hc(Op,t))throw new ci(e,t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}s(fc,"validateLinkHeaderFormat");function Tp(t){if(typeof t=="string")return fc(t,"hints"),t;if(uo(t)){let e=t.length,i="";if(e===0)return i;for(let r=0;r<e;r++){let n=t[r];fc(n,"hints"),i+=n,r!==e-1&&(i+=", ")}return i}throw new ci("hints",t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}s(Tp,"validateLinkHeaderValue");bc.exports={isInt32:cp,isUint32:lp,parseFileMode:dp,validateArray:jr,validateStringArray:wp,validateBooleanArray:Sp,validateAbortSignalArray:_p,validateBoolean:yc,validateBuffer:xp,validateDictionary:gp,validateEncoding:kp,validateFunction:Fp,validateInt32:pp,validateInteger:hp,validateNumber:yp,validateObject:bp,validateOneOf:mp,validatePlainFunction:Ip,validatePort:vp,validateSignalName:Ep,validateString:po,validateUint32:pc,validateUndefined:Pp,validateUnion:Ap,validateAbortSignal:mc,validateLinkHeaderValue:Tp}});var gt=A((cE,_c)=>{var $=_c.exports={},$e,ze;function yo(){throw new Error("setTimeout has not been defined")}s(yo,"defaultSetTimout");function mo(){throw new Error("clearTimeout has not been defined")}s(mo,"defaultClearTimeout");(function(){try{typeof setTimeout=="function"?$e=setTimeout:$e=yo}catch{$e=yo}try{typeof clearTimeout=="function"?ze=clearTimeout:ze=mo}catch{ze=mo}})();function gc(t){if($e===setTimeout)return setTimeout(t,0);if(($e===yo||!$e)&&setTimeout)return $e=setTimeout,setTimeout(t,0);try{return $e(t,0)}catch{try{return $e.call(null,t,0)}catch{return $e.call(this,t,0)}}}s(gc,"runTimeout");function Cp(t){if(ze===clearTimeout)return clearTimeout(t);if((ze===mo||!ze)&&clearTimeout)return ze=clearTimeout,clearTimeout(t);try{return ze(t)}catch{try{return ze.call(null,t)}catch{return ze.call(this,t)}}}s(Cp,"runClearTimeout");var nt=[],fi=!1,Bt,qr=-1;function Rp(){!fi||!Bt||(fi=!1,Bt.length?nt=Bt.concat(nt):qr=-1,nt.length&&wc())}s(Rp,"cleanUpNextTick");function wc(){if(!fi){var t=gc(Rp);fi=!0;for(var e=nt.length;e;){for(Bt=nt,nt=[];++qr<e;)Bt&&Bt[qr].run();qr=-1,e=nt.length}Bt=null,fi=!1,Cp(t)}}s(wc,"drainQueue");$.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];nt.push(new Sc(t,e)),nt.length===1&&!fi&&gc(wc)};function Sc(t,e){this.fun=t,this.array=e}s(Sc,"Item");Sc.prototype.run=function(){this.fun.apply(null,this.array)};$.title="browser";$.browser=!0;$.env={};$.argv=[];$.version="";$.versions={};function ot(){}s(ot,"noop");$.on=ot;$.addListener=ot;$.once=ot;$.off=ot;$.removeListener=ot;$.removeAllListeners=ot;$.emit=ot;$.prependListener=ot;$.prependOnceListener=ot;$.listeners=function(t){return[]};$.binding=function(t){throw new Error("process.binding is not supported")};$.cwd=function(){return"/"};$.chdir=function(t){throw new Error("process.chdir is not supported")};$.umask=function(){return 0}});var He=A((fE,Bc)=>{"use strict";var{SymbolAsyncIterator:Ec,SymbolIterator:xc,SymbolFor:Dt}=D(),kc=Dt("nodejs.stream.destroyed"),vc=Dt("nodejs.stream.errored"),bo=Dt("nodejs.stream.readable"),go=Dt("nodejs.stream.writable"),Fc=Dt("nodejs.stream.disturbed"),Np=Dt("nodejs.webstream.isClosedPromise"),Lp=Dt("nodejs.webstream.controllerErrorFunction");function $r(t,e=!1){var i;return!!(t&&typeof t.pipe=="function"&&typeof t.on=="function"&&(!e||typeof t.pause=="function"&&typeof t.resume=="function")&&(!t._writableState||((i=t._readableState)===null||i===void 0?void 0:i.readable)!==!1)&&(!t._writableState||t._readableState))}s($r,"isReadableNodeStream");function zr(t){var e;return!!(t&&typeof t.write=="function"&&typeof t.on=="function"&&(!t._readableState||((e=t._writableState)===null||e===void 0?void 0:e.writable)!==!1))}s(zr,"isWritableNodeStream");function Bp(t){return!!(t&&typeof t.pipe=="function"&&t._readableState&&typeof t.on=="function"&&typeof t.write=="function")}s(Bp,"isDuplexNodeStream");function Ve(t){return t&&(t._readableState||t._writableState||typeof t.write=="function"&&typeof t.on=="function"||typeof t.pipe=="function"&&typeof t.on=="function")}s(Ve,"isNodeStream");function Ic(t){return!!(t&&!Ve(t)&&typeof t.pipeThrough=="function"&&typeof t.getReader=="function"&&typeof t.cancel=="function")}s(Ic,"isReadableStream");function Pc(t){return!!(t&&!Ve(t)&&typeof t.getWriter=="function"&&typeof t.abort=="function")}s(Pc,"isWritableStream");function Ac(t){return!!(t&&!Ve(t)&&typeof t.readable=="object"&&typeof t.writable=="object")}s(Ac,"isTransformStream");function Dp(t){return Ic(t)||Pc(t)||Ac(t)}s(Dp,"isWebStream");function Mp(t,e){return t==null?!1:e===!0?typeof t[Ec]=="function":e===!1?typeof t[xc]=="function":typeof t[Ec]=="function"||typeof t[xc]=="function"}s(Mp,"isIterable");function Vr(t){if(!Ve(t))return null;let e=t._writableState,i=t._readableState,r=e||i;return!!(t.destroyed||t[kc]||r!=null&&r.destroyed)}s(Vr,"isDestroyed");function Oc(t){if(!zr(t))return null;if(t.writableEnded===!0)return!0;let e=t._writableState;return e!=null&&e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}s(Oc,"isWritableEnded");function Up(t,e){if(!zr(t))return null;if(t.writableFinished===!0)return!0;let i=t._writableState;return i!=null&&i.errored?!1:typeof i?.finished!="boolean"?null:!!(i.finished||e===!1&&i.ended===!0&&i.length===0)}s(Up,"isWritableFinished");function Wp(t){if(!$r(t))return null;if(t.readableEnded===!0)return!0;let e=t._readableState;return!e||e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}s(Wp,"isReadableEnded");function Tc(t,e){if(!$r(t))return null;let i=t._readableState;return i!=null&&i.errored?!1:typeof i?.endEmitted!="boolean"?null:!!(i.endEmitted||e===!1&&i.ended===!0&&i.length===0)}s(Tc,"isReadableFinished");function Cc(t){return t&&t[bo]!=null?t[bo]:typeof t?.readable!="boolean"?null:Vr(t)?!1:$r(t)&&t.readable&&!Tc(t)}s(Cc,"isReadable");function Rc(t){return t&&t[go]!=null?t[go]:typeof t?.writable!="boolean"?null:Vr(t)?!1:zr(t)&&t.writable&&!Oc(t)}s(Rc,"isWritable");function jp(t,e){return Ve(t)?Vr(t)?!0:!(e?.readable!==!1&&Cc(t)||e?.writable!==!1&&Rc(t)):null}s(jp,"isFinished");function qp(t){var e,i;return Ve(t)?t.writableErrored?t.writableErrored:(e=(i=t._writableState)===null||i===void 0?void 0:i.errored)!==null&&e!==void 0?e:null:null}s(qp,"isWritableErrored");function $p(t){var e,i;return Ve(t)?t.readableErrored?t.readableErrored:(e=(i=t._readableState)===null||i===void 0?void 0:i.errored)!==null&&e!==void 0?e:null:null}s($p,"isReadableErrored");function zp(t){if(!Ve(t))return null;if(typeof t.closed=="boolean")return t.closed;let e=t._writableState,i=t._readableState;return typeof e?.closed=="boolean"||typeof i?.closed=="boolean"?e?.closed||i?.closed:typeof t._closed=="boolean"&&Nc(t)?t._closed:null}s(zp,"isClosed");function Nc(t){return typeof t._closed=="boolean"&&typeof t._defaultKeepAlive=="boolean"&&typeof t._removedConnection=="boolean"&&typeof t._removedContLen=="boolean"}s(Nc,"isOutgoingMessage");function Lc(t){return typeof t._sent100=="boolean"&&Nc(t)}s(Lc,"isServerResponse");function Vp(t){var e;return typeof t._consuming=="boolean"&&typeof t._dumped=="boolean"&&((e=t.req)===null||e===void 0?void 0:e.upgradeOrConnect)===void 0}s(Vp,"isServerRequest");function Hp(t){if(!Ve(t))return null;let e=t._writableState,i=t._readableState,r=e||i;return!r&&Lc(t)||!!(r&&r.autoDestroy&&r.emitClose&&r.closed===!1)}s(Hp,"willEmitClose");function Gp(t){var e;return!!(t&&((e=t[Fc])!==null&&e!==void 0?e:t.readableDidRead||t.readableAborted))}s(Gp,"isDisturbed");function Yp(t){var e,i,r,n,o,a,c,l,f,d;return!!(t&&((e=(i=(r=(n=(o=(a=t[vc])!==null&&a!==void 0?a:t.readableErrored)!==null&&o!==void 0?o:t.writableErrored)!==null&&n!==void 0?n:(c=t._readableState)===null||c===void 0?void 0:c.errorEmitted)!==null&&r!==void 0?r:(l=t._writableState)===null||l===void 0?void 0:l.errorEmitted)!==null&&i!==void 0?i:(f=t._readableState)===null||f===void 0?void 0:f.errored)!==null&&e!==void 0?e:!((d=t._writableState)===null||d===void 0)&&d.errored))}s(Yp,"isErrored");Bc.exports={isDestroyed:Vr,kIsDestroyed:kc,isDisturbed:Gp,kIsDisturbed:Fc,isErrored:Yp,kIsErrored:vc,isReadable:Cc,kIsReadable:bo,kIsClosedPromise:Np,kControllerErrorFunction:Lp,kIsWritable:go,isClosed:zp,isDuplexNodeStream:Bp,isFinished:jp,isIterable:Mp,isReadableNodeStream:$r,isReadableStream:Ic,isReadableEnded:Wp,isReadableFinished:Tc,isReadableErrored:$p,isNodeStream:Ve,isWebStream:Dp,isWritable:Rc,isWritableNodeStream:zr,isWritableStream:Pc,isWritableEnded:Oc,isWritableFinished:Up,isWritableErrored:qp,isServerRequest:Vp,isServerResponse:Lc,willEmitClose:Hp,isTransformStream:Ac}});var st=A((dE,xo)=>{var wt=gt(),{AbortError:Vc,codes:Kp}=ne(),{ERR_INVALID_ARG_TYPE:Xp,ERR_STREAM_PREMATURE_CLOSE:Dc}=Kp,{kEmptyObject:So,once:_o}=te(),{validateAbortSignal:Jp,validateFunction:Qp,validateObject:Zp,validateBoolean:ey}=li(),{Promise:ty,PromisePrototypeThen:iy,SymbolDispose:Hc}=D(),{isClosed:ry,isReadable:Mc,isReadableNodeStream:wo,isReadableStream:ny,isReadableFinished:Uc,isReadableErrored:Wc,isWritable:jc,isWritableNodeStream:qc,isWritableStream:oy,isWritableFinished:$c,isWritableErrored:zc,isNodeStream:sy,willEmitClose:ay,kIsClosedPromise:cy}=He(),ui;function ly(t){return t.setHeader&&typeof t.abort=="function"}s(ly,"isRequest");var Eo=s(()=>{},"nop");function Gc(t,e,i){var r,n;if(arguments.length===2?(i=e,e=So):e==null?e=So:Zp(e,"options"),Qp(i,"callback"),Jp(e.signal,"options.signal"),i=_o(i),ny(t)||oy(t))return fy(t,e,i);if(!sy(t))throw new Xp("stream",["ReadableStream","WritableStream","Stream"],t);let o=(r=e.readable)!==null&&r!==void 0?r:wo(t),a=(n=e.writable)!==null&&n!==void 0?n:qc(t),c=t._writableState,l=t._readableState,f=s(()=>{t.writable||b()},"onlegacyfinish"),d=ay(t)&&wo(t)===o&&qc(t)===a,h=$c(t,!1),b=s(()=>{h=!0,t.destroyed&&(d=!1),!(d&&(!t.readable||o))&&(!o||m)&&i.call(t)},"onfinish"),m=Uc(t,!1),w=s(()=>{m=!0,t.destroyed&&(d=!1),!(d&&(!t.writable||a))&&(!a||h)&&i.call(t)},"onend"),g=s(V=>{i.call(t,V)},"onerror"),I=ry(t),E=s(()=>{I=!0;let V=zc(t)||Wc(t);if(V&&typeof V!="boolean")return i.call(t,V);if(o&&!m&&wo(t,!0)&&!Uc(t,!1))return i.call(t,new Dc);if(a&&!h&&!$c(t,!1))return i.call(t,new Dc);i.call(t)},"onclose"),O=s(()=>{I=!0;let V=zc(t)||Wc(t);if(V&&typeof V!="boolean")return i.call(t,V);i.call(t)},"onclosed"),U=s(()=>{t.req.on("finish",b)},"onrequest");ly(t)?(t.on("complete",b),d||t.on("abort",E),t.req?U():t.on("request",U)):a&&!c&&(t.on("end",f),t.on("close",f)),!d&&typeof t.aborted=="boolean"&&t.on("aborted",E),t.on("end",w),t.on("finish",b),e.error!==!1&&t.on("error",g),t.on("close",E),I?wt.nextTick(E):c!=null&&c.errorEmitted||l!=null&&l.errorEmitted?d||wt.nextTick(O):(!o&&(!d||Mc(t))&&(h||jc(t)===!1)||!a&&(!d||jc(t))&&(m||Mc(t)===!1)||l&&t.req&&t.aborted)&&wt.nextTick(O);let P=s(()=>{i=Eo,t.removeListener("aborted",E),t.removeListener("complete",b),t.removeListener("abort",E),t.removeListener("request",U),t.req&&t.req.removeListener("finish",b),t.removeListener("end",f),t.removeListener("close",f),t.removeListener("finish",b),t.removeListener("end",w),t.removeListener("error",g),t.removeListener("close",E)},"cleanup");if(e.signal&&!I){let V=s(()=>{let kt=i;P(),kt.call(t,new Vc(void 0,{cause:e.signal.reason}))},"abort");if(e.signal.aborted)wt.nextTick(V);else{ui=ui||te().addAbortListener;let kt=ui(e.signal,V),de=i;i=_o((...Gt)=>{kt[Hc](),de.apply(t,Gt)})}}return P}s(Gc,"eos");function fy(t,e,i){let r=!1,n=Eo;if(e.signal)if(n=s(()=>{r=!0,i.call(t,new Vc(void 0,{cause:e.signal.reason}))},"abort"),e.signal.aborted)wt.nextTick(n);else{ui=ui||te().addAbortListener;let a=ui(e.signal,n),c=i;i=_o((...l)=>{a[Hc](),c.apply(t,l)})}let o=s((...a)=>{r||wt.nextTick(()=>i.apply(t,a))},"resolverFn");return iy(t[cy].promise,o,o),Eo}s(fy,"eosWeb");function uy(t,e){var i;let r=!1;return e===null&&(e=So),(i=e)!==null&&i!==void 0&&i.cleanup&&(ey(e.cleanup,"cleanup"),r=e.cleanup),new ty((n,o)=>{let a=Gc(t,e,c=>{r&&a(),c?o(c):n()})})}s(uy,"finished");xo.exports=Gc;xo.exports.finished=uy});var Mt=A((pE,tl)=>{"use strict";var Ge=gt(),{aggregateTwoErrors:dy,codes:{ERR_MULTIPLE_CALLBACK:hy},AbortError:py}=ne(),{Symbol:Xc}=D(),{kIsDestroyed:yy,isDestroyed:my,isFinished:by,isServerRequest:gy}=He(),Jc=Xc("kDestroy"),ko=Xc("kConstruct");function Qc(t,e,i){t&&(t.stack,e&&!e.errored&&(e.errored=t),i&&!i.errored&&(i.errored=t))}s(Qc,"checkError");function wy(t,e){let i=this._readableState,r=this._writableState,n=r||i;return r!=null&&r.destroyed||i!=null&&i.destroyed?(typeof e=="function"&&e(),this):(Qc(t,r,i),r&&(r.destroyed=!0),i&&(i.destroyed=!0),n.constructed?Yc(this,t,e):this.once(Jc,function(o){Yc(this,dy(o,t),e)}),this)}s(wy,"destroy");function Yc(t,e,i){let r=!1;function n(o){if(r)return;r=!0;let a=t._readableState,c=t._writableState;Qc(o,c,a),c&&(c.closed=!0),a&&(a.closed=!0),typeof i=="function"&&i(o),o?Ge.nextTick(Sy,t,o):Ge.nextTick(Zc,t)}s(n,"onDestroy");try{t._destroy(e||null,n)}catch(o){n(o)}}s(Yc,"_destroy");function Sy(t,e){vo(t,e),Zc(t)}s(Sy,"emitErrorCloseNT");function Zc(t){let e=t._readableState,i=t._writableState;i&&(i.closeEmitted=!0),e&&(e.closeEmitted=!0),(i!=null&&i.emitClose||e!=null&&e.emitClose)&&t.emit("close")}s(Zc,"emitCloseNT");function vo(t,e){let i=t._readableState,r=t._writableState;r!=null&&r.errorEmitted||i!=null&&i.errorEmitted||(r&&(r.errorEmitted=!0),i&&(i.errorEmitted=!0),t.emit("error",e))}s(vo,"emitErrorNT");function _y(){let t=this._readableState,e=this._writableState;t&&(t.constructed=!0,t.closed=!1,t.closeEmitted=!1,t.destroyed=!1,t.errored=null,t.errorEmitted=!1,t.reading=!1,t.ended=t.readable===!1,t.endEmitted=t.readable===!1),e&&(e.constructed=!0,e.destroyed=!1,e.closed=!1,e.closeEmitted=!1,e.errored=null,e.errorEmitted=!1,e.finalCalled=!1,e.prefinished=!1,e.ended=e.writable===!1,e.ending=e.writable===!1,e.finished=e.writable===!1)}s(_y,"undestroy");function Fo(t,e,i){let r=t._readableState,n=t._writableState;if(n!=null&&n.destroyed||r!=null&&r.destroyed)return this;r!=null&&r.autoDestroy||n!=null&&n.autoDestroy?t.destroy(e):e&&(e.stack,n&&!n.errored&&(n.errored=e),r&&!r.errored&&(r.errored=e),i?Ge.nextTick(vo,t,e):vo(t,e))}s(Fo,"errorOrDestroy");function Ey(t,e){if(typeof t._construct!="function")return;let i=t._readableState,r=t._writableState;i&&(i.constructed=!1),r&&(r.constructed=!1),t.once(ko,e),!(t.listenerCount(ko)>1)&&Ge.nextTick(xy,t)}s(Ey,"construct");function xy(t){let e=!1;function i(r){if(e){Fo(t,r??new hy);return}e=!0;let n=t._readableState,o=t._writableState,a=o||n;n&&(n.constructed=!0),o&&(o.constructed=!0),a.destroyed?t.emit(Jc,r):r?Fo(t,r,!0):Ge.nextTick(ky,t)}s(i,"onConstruct");try{t._construct(r=>{Ge.nextTick(i,r)})}catch(r){Ge.nextTick(i,r)}}s(xy,"constructNT");function ky(t){t.emit(ko)}s(ky,"emitConstructNT");function Kc(t){return t?.setHeader&&typeof t.abort=="function"}s(Kc,"isRequest");function el(t){t.emit("close")}s(el,"emitCloseLegacy");function vy(t,e){t.emit("error",e),Ge.nextTick(el,t)}s(vy,"emitErrorCloseLegacy");function Fy(t,e){!t||my(t)||(!e&&!by(t)&&(e=new py),gy(t)?(t.socket=null,t.destroy(e)):Kc(t)?t.abort():Kc(t.req)?t.req.abort():typeof t.destroy=="function"?t.destroy(e):typeof t.close=="function"?t.close():e?Ge.nextTick(vy,t,e):Ge.nextTick(el,t),t.destroyed||(t[yy]=!0))}s(Fy,"destroyer");tl.exports={construct:Ey,destroyer:Fy,destroy:wy,undestroy:_y,errorOrDestroy:Fo}});var Yr=A((mE,rl)=>{"use strict";var{ArrayIsArray:Iy,ObjectSetPrototypeOf:il}=D(),{EventEmitter:Hr}=Ki();function Gr(t){Hr.call(this,t)}s(Gr,"Stream");il(Gr.prototype,Hr.prototype);il(Gr,Hr);Gr.prototype.pipe=function(t,e){let i=this;function r(d){t.writable&&t.write(d)===!1&&i.pause&&i.pause()}s(r,"ondata"),i.on("data",r);function n(){i.readable&&i.resume&&i.resume()}s(n,"ondrain"),t.on("drain",n),!t._isStdio&&(!e||e.end!==!1)&&(i.on("end",a),i.on("close",c));let o=!1;function a(){o||(o=!0,t.end())}s(a,"onend");function c(){o||(o=!0,typeof t.destroy=="function"&&t.destroy())}s(c,"onclose");function l(d){f(),Hr.listenerCount(this,"error")===0&&this.emit("error",d)}s(l,"onerror"),Io(i,"error",l),Io(t,"error",l);function f(){i.removeListener("data",r),t.removeListener("drain",n),i.removeListener("end",a),i.removeListener("close",c),i.removeListener("error",l),t.removeListener("error",l),i.removeListener("end",f),i.removeListener("close",f),t.removeListener("close",f)}return s(f,"cleanup"),i.on("end",f),i.on("close",f),t.on("close",f),t.emit("pipe",i),t};function Io(t,e,i){if(typeof t.prependListener=="function")return t.prependListener(e,i);!t._events||!t._events[e]?t.on(e,i):Iy(t._events[e])?t._events[e].unshift(i):t._events[e]=[i,t._events[e]]}s(Io,"prependListener");rl.exports={Stream:Gr,prependListener:Io}});var Xi=A((gE,Kr)=>{"use strict";var{SymbolDispose:Py}=D(),{AbortError:nl,codes:Ay}=ne(),{isNodeStream:ol,isWebStream:Oy,kControllerErrorFunction:Ty}=He(),Cy=st(),{ERR_INVALID_ARG_TYPE:sl}=Ay,Po,Ry=s((t,e)=>{if(typeof t!="object"||!("aborted"in t))throw new sl(e,"AbortSignal",t)},"validateAbortSignal");Kr.exports.addAbortSignal=s(function(e,i){if(Ry(e,"signal"),!ol(i)&&!Oy(i))throw new sl("stream",["ReadableStream","WritableStream","Stream"],i);return Kr.exports.addAbortSignalNoValidate(e,i)},"addAbortSignal");Kr.exports.addAbortSignalNoValidate=function(t,e){if(typeof t!="object"||!("aborted"in t))return e;let i=ol(e)?()=>{e.destroy(new nl(void 0,{cause:t.reason}))}:()=>{e[Ty](new nl(void 0,{cause:t.reason}))};if(t.aborted)i();else{Po=Po||te().addAbortListener;let r=Po(t,i);Cy(e,r[Py])}return e}});var ll=A((_E,cl)=>{"use strict";var{StringPrototypeSlice:al,SymbolIterator:Ny,TypedArrayPrototypeSet:Xr,Uint8Array:Ly}=D(),{Buffer:Ao}=we(),{inspect:By}=te();cl.exports=class{static{s(this,"BufferList")}constructor(){this.head=null,this.tail=null,this.length=0}push(e){let i={data:e,next:null};this.length>0?this.tail.next=i:this.head=i,this.tail=i,++this.length}unshift(e){let i={data:e,next:this.head};this.length===0&&(this.tail=i),this.head=i,++this.length}shift(){if(this.length===0)return;let e=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0}join(e){if(this.length===0)return"";let i=this.head,r=""+i.data;for(;(i=i.next)!==null;)r+=e+i.data;return r}concat(e){if(this.length===0)return Ao.alloc(0);let i=Ao.allocUnsafe(e>>>0),r=this.head,n=0;for(;r;)Xr(i,r.data,n),n+=r.data.length,r=r.next;return i}consume(e,i){let r=this.head.data;if(e<r.length){let n=r.slice(0,e);return this.head.data=r.slice(e),n}return e===r.length?this.shift():i?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[Ny](){for(let e=this.head;e;e=e.next)yield e.data}_getString(e){let i="",r=this.head,n=0;do{let o=r.data;if(e>o.length)i+=o,e-=o.length;else{e===o.length?(i+=o,++n,r.next?this.head=r.next:this.head=this.tail=null):(i+=al(o,0,e),this.head=r,r.data=al(o,e));break}++n}while((r=r.next)!==null);return this.length-=n,i}_getBuffer(e){let i=Ao.allocUnsafe(e),r=e,n=this.head,o=0;do{let a=n.data;if(e>a.length)Xr(i,a,r-e),e-=a.length;else{e===a.length?(Xr(i,a,r-e),++o,n.next?this.head=n.next:this.head=this.tail=null):(Xr(i,new Ly(a.buffer,a.byteOffset,e),r-e),this.head=n,n.data=a.slice(e));break}++o}while((n=n.next)!==null);return this.length-=o,i}[Symbol.for("nodejs.util.inspect.custom")](e,i){return By(this,{...i,depth:0,customInspect:!1})}}});var Ji=A((xE,hl)=>{"use strict";var{MathFloor:Dy,NumberIsInteger:My}=D(),{validateInteger:Uy}=li(),{ERR_INVALID_ARG_VALUE:Wy}=ne().codes,fl=16*1024,ul=16;function jy(t,e,i){return t.highWaterMark!=null?t.highWaterMark:e?t[i]:null}s(jy,"highWaterMarkFrom");function dl(t){return t?ul:fl}s(dl,"getDefaultHighWaterMark");function qy(t,e){Uy(e,"value",0),t?ul=e:fl=e}s(qy,"setDefaultHighWaterMark");function $y(t,e,i,r){let n=jy(e,r,i);if(n!=null){if(!My(n)||n<0){let o=r?`options.${i}`:"options.highWaterMark";throw new Wy(o,n)}return Dy(n)}return dl(t.objectMode)}s($y,"getHighWaterMark");hl.exports={getHighWaterMark:$y,getDefaultHighWaterMark:dl,setDefaultHighWaterMark:qy}});var ml=A((Oo,yl)=>{var Jr=we(),Ye=Jr.Buffer;function pl(t,e){for(var i in t)e[i]=t[i]}s(pl,"copyProps");Ye.from&&Ye.alloc&&Ye.allocUnsafe&&Ye.allocUnsafeSlow?yl.exports=Jr:(pl(Jr,Oo),Oo.Buffer=Ut);function Ut(t,e,i){return Ye(t,e,i)}s(Ut,"SafeBuffer");Ut.prototype=Object.create(Ye.prototype);pl(Ye,Ut);Ut.from=function(t,e,i){if(typeof t=="number")throw new TypeError("Argument must not be a number");return Ye(t,e,i)};Ut.alloc=function(t,e,i){if(typeof t!="number")throw new TypeError("Argument must be a number");var r=Ye(t);return e!==void 0?typeof i=="string"?r.fill(e,i):r.fill(e):r.fill(0),r};Ut.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Ye(t)};Ut.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Jr.SlowBuffer(t)}});var wl=A(gl=>{"use strict";var Co=ml().Buffer,bl=Co.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function zy(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}s(zy,"_normalizeEncoding");function Vy(t){var e=zy(t);if(typeof e!="string"&&(Co.isEncoding===bl||!bl(t)))throw new Error("Unknown encoding: "+t);return e||t}s(Vy,"normalizeEncoding");gl.StringDecoder=Qi;function Qi(t){this.encoding=Vy(t);var e;switch(this.encoding){case"utf16le":this.text=Jy,this.end=Qy,e=4;break;case"utf8":this.fillLast=Yy,e=4;break;case"base64":this.text=Zy,this.end=em,e=3;break;default:this.write=tm,this.end=im;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=Co.allocUnsafe(e)}s(Qi,"StringDecoder");Qi.prototype.write=function(t){if(t.length===0)return"";var e,i;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";i=this.lastNeed,this.lastNeed=0}else i=0;return i<t.length?e?e+this.text(t,i):this.text(t,i):e||""};Qi.prototype.end=Xy;Qi.prototype.text=Ky;Qi.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function To(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}s(To,"utf8CheckByte");function Hy(t,e,i){var r=e.length-1;if(r<i)return 0;var n=To(e[r]);return n>=0?(n>0&&(t.lastNeed=n-1),n):--r<i||n===-2?0:(n=To(e[r]),n>=0?(n>0&&(t.lastNeed=n-2),n):--r<i||n===-2?0:(n=To(e[r]),n>=0?(n>0&&(n===2?n=0:t.lastNeed=n-3),n):0))}s(Hy,"utf8CheckIncomplete");function Gy(t,e,i){if((e[0]&192)!==128)return t.lastNeed=0,"\uFFFD";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"\uFFFD";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"\uFFFD"}}s(Gy,"utf8CheckExtraBytes");function Yy(t){var e=this.lastTotal-this.lastNeed,i=Gy(this,t,e);if(i!==void 0)return i;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}s(Yy,"utf8FillLast");function Ky(t,e){var i=Hy(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=i;var r=t.length-(i-this.lastNeed);return t.copy(this.lastChar,0,r),t.toString("utf8",e,r)}s(Ky,"utf8Text");function Xy(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e}s(Xy,"utf8End");function Jy(t,e){if((t.length-e)%2===0){var i=t.toString("utf16le",e);if(i){var r=i.charCodeAt(i.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],i.slice(0,-1)}return i}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}s(Jy,"utf16Text");function Qy(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var i=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,i)}return e}s(Qy,"utf16End");function Zy(t,e){var i=(t.length-e)%3;return i===0?t.toString("base64",e):(this.lastNeed=3-i,this.lastTotal=3,i===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-i))}s(Zy,"base64Text");function em(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}s(em,"base64End");function tm(t){return t.toString(this.encoding)}s(tm,"simpleWrite");function im(t){return t&&t.length?this.write(t):""}s(im,"simpleEnd")});var Ro=A((PE,xl)=>{"use strict";var Sl=gt(),{PromisePrototypeThen:rm,SymbolAsyncIterator:_l,SymbolIterator:El}=D(),{Buffer:nm}=we(),{ERR_INVALID_ARG_TYPE:om,ERR_STREAM_NULL_VALUES:sm}=ne().codes;function am(t,e,i){let r;if(typeof e=="string"||e instanceof nm)return new t({objectMode:!0,...i,read:s(function(){this.push(e),this.push(null)},"read")});let n;if(e&&e[_l])n=!0,r=e[_l]();else if(e&&e[El])n=!1,r=e[El]();else throw new om("iterable",["Iterable"],e);let o=new t({objectMode:!0,highWaterMark:1,...i}),a=!1;o._read=function(){a||(a=!0,l())},o._destroy=function(f,d){rm(c(f),()=>Sl.nextTick(d,f),h=>Sl.nextTick(d,h||f))};async function c(f){let d=f!=null,h=typeof r.throw=="function";if(d&&h){let{value:b,done:m}=await r.throw(f);if(await b,m)return}if(typeof r.return=="function"){let{value:b}=await r.return();await b}}s(c,"close");async function l(){for(;;){try{let{value:f,done:d}=n?await r.next():r.next();if(d)o.push(null);else{let h=f&&typeof f.then=="function"?await f:f;if(h===null)throw a=!1,new sm;if(o.push(h))continue;a=!1}}catch(f){o.destroy(f)}break}}return s(l,"next"),o}s(am,"from");xl.exports=am});var er=A((OE,jl)=>{var ke=gt(),{ArrayPrototypeIndexOf:cm,NumberIsInteger:lm,NumberIsNaN:fm,NumberParseInt:um,ObjectDefineProperties:jo,ObjectKeys:dm,ObjectSetPrototypeOf:Fl,Promise:Il,SafeSet:hm,SymbolAsyncDispose:pm,SymbolAsyncIterator:ym,Symbol:mm}=D();jl.exports=k;k.ReadableState=tn;var{EventEmitter:bm}=Ki(),{Stream:St,prependListener:gm}=Yr(),{Buffer:No}=we(),{addAbortSignal:wm}=Xi(),Pl=st(),F=te().debuglog("stream",t=>{F=t}),Sm=ll(),pi=Mt(),{getHighWaterMark:_m,getDefaultHighWaterMark:Em}=Ji(),{aggregateTwoErrors:kl,codes:{ERR_INVALID_ARG_TYPE:xm,ERR_METHOD_NOT_IMPLEMENTED:km,ERR_OUT_OF_RANGE:vm,ERR_STREAM_PUSH_AFTER_EOF:Fm,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:Im},AbortError:Pm}=ne(),{validateObject:Am}=li(),Wt=mm("kPaused"),{StringDecoder:Al}=wl(),Om=Ro();Fl(k.prototype,St.prototype);Fl(k,St);var Lo=s(()=>{},"nop"),{errorOrDestroy:di}=pi,hi=1,Tm=2,Ol=4,Zi=8,Tl=16,Qr=32,Zr=64,Cl=128,Cm=256,Rm=512,Nm=1024,Uo=2048,Wo=4096,Lm=8192,Bm=16384,Dm=32768,Rl=65536,Mm=1<<17,Um=1<<18;function Y(t){return{enumerable:!1,get:s(function(){return(this.state&t)!==0},"get"),set:s(function(e){e?this.state|=t:this.state&=~t},"set")}}s(Y,"makeBitMapDescriptor");jo(tn.prototype,{objectMode:Y(hi),ended:Y(Tm),endEmitted:Y(Ol),reading:Y(Zi),constructed:Y(Tl),sync:Y(Qr),needReadable:Y(Zr),emittedReadable:Y(Cl),readableListening:Y(Cm),resumeScheduled:Y(Rm),errorEmitted:Y(Nm),emitClose:Y(Uo),autoDestroy:Y(Wo),destroyed:Y(Lm),closed:Y(Bm),closeEmitted:Y(Dm),multiAwaitDrain:Y(Rl),readingMore:Y(Mm),dataEmitted:Y(Um)});function tn(t,e,i){typeof i!="boolean"&&(i=e instanceof Ke()),this.state=Uo|Wo|Tl|Qr,t&&t.objectMode&&(this.state|=hi),i&&t&&t.readableObjectMode&&(this.state|=hi),this.highWaterMark=t?_m(this,t,"readableHighWaterMark",i):Em(!1),this.buffer=new Sm,this.length=0,this.pipes=[],this.flowing=null,this[Wt]=null,t&&t.emitClose===!1&&(this.state&=~Uo),t&&t.autoDestroy===!1&&(this.state&=~Wo),this.errored=null,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,t&&t.encoding&&(this.decoder=new Al(t.encoding),this.encoding=t.encoding)}s(tn,"ReadableState");function k(t){if(!(this instanceof k))return new k(t);let e=this instanceof Ke();this._readableState=new tn(t,this,e),t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.construct=="function"&&(this._construct=t.construct),t.signal&&!e&&wm(t.signal,this)),St.call(this,t),pi.construct(this,()=>{this._readableState.needReadable&&en(this,this._readableState)})}s(k,"Readable");k.prototype.destroy=pi.destroy;k.prototype._undestroy=pi.undestroy;k.prototype._destroy=function(t,e){e(t)};k.prototype[bm.captureRejectionSymbol]=function(t){this.destroy(t)};k.prototype[pm]=function(){let t;return this.destroyed||(t=this.readableEnded?null:new Pm,this.destroy(t)),new Il((e,i)=>Pl(this,r=>r&&r!==t?i(r):e(null)))};k.prototype.push=function(t,e){return Nl(this,t,e,!1)};k.prototype.unshift=function(t,e){return Nl(this,t,e,!0)};function Nl(t,e,i,r){F("readableAddChunk",e);let n=t._readableState,o;if(n.state&hi||(typeof e=="string"?(i=i||n.defaultEncoding,n.encoding!==i&&(r&&n.encoding?e=No.from(e,i).toString(n.encoding):(e=No.from(e,i),i=""))):e instanceof No?i="":St._isUint8Array(e)?(e=St._uint8ArrayToBuffer(e),i=""):e!=null&&(o=new xm("chunk",["string","Buffer","Uint8Array"],e))),o)di(t,o);else if(e===null)n.state&=~Zi,qm(t,n);else if(n.state&hi||e&&e.length>0)if(r)if(n.state&Ol)di(t,new Im);else{if(n.destroyed||n.errored)return!1;Bo(t,n,e,!0)}else if(n.ended)di(t,new Fm);else{if(n.destroyed||n.errored)return!1;n.state&=~Zi,n.decoder&&!i?(e=n.decoder.write(e),n.objectMode||e.length!==0?Bo(t,n,e,!1):en(t,n)):Bo(t,n,e,!1)}else r||(n.state&=~Zi,en(t,n));return!n.ended&&(n.length<n.highWaterMark||n.length===0)}s(Nl,"readableAddChunk");function Bo(t,e,i,r){e.flowing&&e.length===0&&!e.sync&&t.listenerCount("data")>0?(e.state&Rl?e.awaitDrainWriters.clear():e.awaitDrainWriters=null,e.dataEmitted=!0,t.emit("data",i)):(e.length+=e.objectMode?1:i.length,r?e.buffer.unshift(i):e.buffer.push(i),e.state&Zr&&rn(t)),en(t,e)}s(Bo,"addChunk");k.prototype.isPaused=function(){let t=this._readableState;return t[Wt]===!0||t.flowing===!1};k.prototype.setEncoding=function(t){let e=new Al(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;let i=this._readableState.buffer,r="";for(let n of i)r+=e.write(n);return i.clear(),r!==""&&i.push(r),this._readableState.length=r.length,this};var Wm=1073741824;function jm(t){if(t>Wm)throw new vm("size","<= 1GiB",t);return t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++,t}s(jm,"computeNewHighWaterMark");function vl(t,e){return t<=0||e.length===0&&e.ended?0:e.state&hi?1:fm(t)?e.flowing&&e.length?e.buffer.first().length:e.length:t<=e.length?t:e.ended?e.length:0}s(vl,"howMuchToRead");k.prototype.read=function(t){F("read",t),t===void 0?t=NaN:lm(t)||(t=um(t,10));let e=this._readableState,i=t;if(t>e.highWaterMark&&(e.highWaterMark=jm(t)),t!==0&&(e.state&=~Cl),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return F("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?Do(this):rn(this),null;if(t=vl(t,e),t===0&&e.ended)return e.length===0&&Do(this),null;let r=(e.state&Zr)!==0;if(F("need readable",r),(e.length===0||e.length-t<e.highWaterMark)&&(r=!0,F("length less than watermark",r)),e.ended||e.reading||e.destroyed||e.errored||!e.constructed)r=!1,F("reading, ended or constructing",r);else if(r){F("do read"),e.state|=Zi|Qr,e.length===0&&(e.state|=Zr);try{this._read(e.highWaterMark)}catch(o){di(this,o)}e.state&=~Qr,e.reading||(t=vl(i,e))}let n;return t>0?n=Ul(t,e):n=null,n===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.multiAwaitDrain?e.awaitDrainWriters.clear():e.awaitDrainWriters=null),e.length===0&&(e.ended||(e.needReadable=!0),i!==t&&e.ended&&Do(this)),n!==null&&!e.errorEmitted&&!e.closeEmitted&&(e.dataEmitted=!0,this.emit("data",n)),n};function qm(t,e){if(F("onEofChunk"),!e.ended){if(e.decoder){let i=e.decoder.end();i&&i.length&&(e.buffer.push(i),e.length+=e.objectMode?1:i.length)}e.ended=!0,e.sync?rn(t):(e.needReadable=!1,e.emittedReadable=!0,Ll(t))}}s(qm,"onEofChunk");function rn(t){let e=t._readableState;F("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(F("emitReadable",e.flowing),e.emittedReadable=!0,ke.nextTick(Ll,t))}s(rn,"emitReadable");function Ll(t){let e=t._readableState;F("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&!e.errored&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,Dl(t)}s(Ll,"emitReadable_");function en(t,e){!e.readingMore&&e.constructed&&(e.readingMore=!0,ke.nextTick($m,t,e))}s(en,"maybeReadMore");function $m(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){let i=e.length;if(F("maybeReadMore read 0"),t.read(0),i===e.length)break}e.readingMore=!1}s($m,"maybeReadMore_");k.prototype._read=function(t){throw new km("_read()")};k.prototype.pipe=function(t,e){let i=this,r=this._readableState;r.pipes.length===1&&(r.multiAwaitDrain||(r.multiAwaitDrain=!0,r.awaitDrainWriters=new hm(r.awaitDrainWriters?[r.awaitDrainWriters]:[]))),r.pipes.push(t),F("pipe count=%d opts=%j",r.pipes.length,e);let o=(!e||e.end!==!1)&&t!==ke.stdout&&t!==ke.stderr?c:I;r.endEmitted?ke.nextTick(o):i.once("end",o),t.on("unpipe",a);function a(E,O){F("onunpipe"),E===i&&O&&O.hasUnpiped===!1&&(O.hasUnpiped=!0,d())}s(a,"onunpipe");function c(){F("onend"),t.end()}s(c,"onend");let l,f=!1;function d(){F("cleanup"),t.removeListener("close",w),t.removeListener("finish",g),l&&t.removeListener("drain",l),t.removeListener("error",m),t.removeListener("unpipe",a),i.removeListener("end",c),i.removeListener("end",I),i.removeListener("data",b),f=!0,l&&r.awaitDrainWriters&&(!t._writableState||t._writableState.needDrain)&&l()}s(d,"cleanup");function h(){f||(r.pipes.length===1&&r.pipes[0]===t?(F("false write response, pause",0),r.awaitDrainWriters=t,r.multiAwaitDrain=!1):r.pipes.length>1&&r.pipes.includes(t)&&(F("false write response, pause",r.awaitDrainWriters.size),r.awaitDrainWriters.add(t)),i.pause()),l||(l=zm(i,t),t.on("drain",l))}s(h,"pause"),i.on("data",b);function b(E){F("ondata");let O=t.write(E);F("dest.write",O),O===!1&&h()}s(b,"ondata");function m(E){if(F("onerror",E),I(),t.removeListener("error",m),t.listenerCount("error")===0){let O=t._writableState||t._readableState;O&&!O.errorEmitted?di(t,E):t.emit("error",E)}}s(m,"onerror"),gm(t,"error",m);function w(){t.removeListener("finish",g),I()}s(w,"onclose"),t.once("close",w);function g(){F("onfinish"),t.removeListener("close",w),I()}s(g,"onfinish"),t.once("finish",g);function I(){F("unpipe"),i.unpipe(t)}return s(I,"unpipe"),t.emit("pipe",i),t.writableNeedDrain===!0?h():r.flowing||(F("pipe resume"),i.resume()),t};function zm(t,e){return s(function(){let r=t._readableState;r.awaitDrainWriters===e?(F("pipeOnDrain",1),r.awaitDrainWriters=null):r.multiAwaitDrain&&(F("pipeOnDrain",r.awaitDrainWriters.size),r.awaitDrainWriters.delete(e)),(!r.awaitDrainWriters||r.awaitDrainWriters.size===0)&&t.listenerCount("data")&&t.resume()},"pipeOnDrainFunctionResult")}s(zm,"pipeOnDrain");k.prototype.unpipe=function(t){let e=this._readableState,i={hasUnpiped:!1};if(e.pipes.length===0)return this;if(!t){let n=e.pipes;e.pipes=[],this.pause();for(let o=0;o<n.length;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}let r=cm(e.pipes,t);return r===-1?this:(e.pipes.splice(r,1),e.pipes.length===0&&this.pause(),t.emit("unpipe",this,i),this)};k.prototype.on=function(t,e){let i=St.prototype.on.call(this,t,e),r=this._readableState;return t==="data"?(r.readableListening=this.listenerCount("readable")>0,r.flowing!==!1&&this.resume()):t==="readable"&&!r.endEmitted&&!r.readableListening&&(r.readableListening=r.needReadable=!0,r.flowing=!1,r.emittedReadable=!1,F("on readable",r.length,r.reading),r.length?rn(this):r.reading||ke.nextTick(Vm,this)),i};k.prototype.addListener=k.prototype.on;k.prototype.removeListener=function(t,e){let i=St.prototype.removeListener.call(this,t,e);return t==="readable"&&ke.nextTick(Bl,this),i};k.prototype.off=k.prototype.removeListener;k.prototype.removeAllListeners=function(t){let e=St.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&ke.nextTick(Bl,this),e};function Bl(t){let e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&e[Wt]===!1?e.flowing=!0:t.listenerCount("data")>0?t.resume():e.readableListening||(e.flowing=null)}s(Bl,"updateReadableListening");function Vm(t){F("readable nexttick read 0"),t.read(0)}s(Vm,"nReadingNextTick");k.prototype.resume=function(){let t=this._readableState;return t.flowing||(F("resume"),t.flowing=!t.readableListening,Hm(this,t)),t[Wt]=!1,this};function Hm(t,e){e.resumeScheduled||(e.resumeScheduled=!0,ke.nextTick(Gm,t,e))}s(Hm,"resume");function Gm(t,e){F("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),Dl(t),e.flowing&&!e.reading&&t.read(0)}s(Gm,"resume_");k.prototype.pause=function(){return F("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(F("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[Wt]=!0,this};function Dl(t){let e=t._readableState;for(F("flow",e.flowing);e.flowing&&t.read()!==null;);}s(Dl,"flow");k.prototype.wrap=function(t){let e=!1;t.on("data",r=>{!this.push(r)&&t.pause&&(e=!0,t.pause())}),t.on("end",()=>{this.push(null)}),t.on("error",r=>{di(this,r)}),t.on("close",()=>{this.destroy()}),t.on("destroy",()=>{this.destroy()}),this._read=()=>{e&&t.resume&&(e=!1,t.resume())};let i=dm(t);for(let r=1;r<i.length;r++){let n=i[r];this[n]===void 0&&typeof t[n]=="function"&&(this[n]=t[n].bind(t))}return this};k.prototype[ym]=function(){return Ml(this)};k.prototype.iterator=function(t){return t!==void 0&&Am(t,"options"),Ml(this,t)};function Ml(t,e){typeof t.read!="function"&&(t=k.wrap(t,{objectMode:!0}));let i=Ym(t,e);return i.stream=t,i}s(Ml,"streamToAsyncIterator");async function*Ym(t,e){let i=Lo;function r(a){this===t?(i(),i=Lo):i=a}s(r,"next"),t.on("readable",r);let n,o=Pl(t,{writable:!1},a=>{n=a?kl(n,a):null,i(),i=Lo});try{for(;;){let a=t.destroyed?null:t.read();if(a!==null)yield a;else{if(n)throw n;if(n===null)return;await new Il(r)}}}catch(a){throw n=kl(n,a),n}finally{(n||e?.destroyOnReturn!==!1)&&(n===void 0||t._readableState.autoDestroy)?pi.destroyer(t,null):(t.off("readable",r),o())}}s(Ym,"createAsyncIterator");jo(k.prototype,{readable:{__proto__:null,get:s(function(){let t=this._readableState;return!!t&&t.readable!==!1&&!t.destroyed&&!t.errorEmitted&&!t.endEmitted},"get"),set:s(function(t){this._readableState&&(this._readableState.readable=!!t)},"set")},readableDidRead:{__proto__:null,enumerable:!1,get:s(function(){return this._readableState.dataEmitted},"get")},readableAborted:{__proto__:null,enumerable:!1,get:s(function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)},"get")},readableHighWaterMark:{__proto__:null,enumerable:!1,get:s(function(){return this._readableState.highWaterMark},"get")},readableBuffer:{__proto__:null,enumerable:!1,get:s(function(){return this._readableState&&this._readableState.buffer},"get")},readableFlowing:{__proto__:null,enumerable:!1,get:s(function(){return this._readableState.flowing},"get"),set:s(function(t){this._readableState&&(this._readableState.flowing=t)},"set")},readableLength:{__proto__:null,enumerable:!1,get:s(function(){return this._readableState.length},"get")},readableObjectMode:{__proto__:null,enumerable:!1,get:s(function(){return this._readableState?this._readableState.objectMode:!1},"get")},readableEncoding:{__proto__:null,enumerable:!1,get:s(function(){return this._readableState?this._readableState.encoding:null},"get")},errored:{__proto__:null,enumerable:!1,get:s(function(){return this._readableState?this._readableState.errored:null},"get")},closed:{__proto__:null,get:s(function(){return this._readableState?this._readableState.closed:!1},"get")},destroyed:{__proto__:null,enumerable:!1,get:s(function(){return this._readableState?this._readableState.destroyed:!1},"get"),set:s(function(t){this._readableState&&(this._readableState.destroyed=t)},"set")},readableEnded:{__proto__:null,enumerable:!1,get:s(function(){return this._readableState?this._readableState.endEmitted:!1},"get")}});jo(tn.prototype,{pipesCount:{__proto__:null,get:s(function(){return this.pipes.length},"get")},paused:{__proto__:null,get:s(function(){return this[Wt]!==!1},"get"),set:s(function(t){this[Wt]=!!t},"set")}});k._fromList=Ul;function Ul(t,e){if(e.length===0)return null;let i;return e.objectMode?i=e.buffer.shift():!t||t>=e.length?(e.decoder?i=e.buffer.join(""):e.buffer.length===1?i=e.buffer.first():i=e.buffer.concat(e.length),e.buffer.clear()):i=e.buffer.consume(t,e.decoder),i}s(Ul,"fromList");function Do(t){let e=t._readableState;F("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,ke.nextTick(Km,e,t))}s(Do,"endReadable");function Km(t,e){if(F("endReadableNT",t.endEmitted,t.length),!t.errored&&!t.closeEmitted&&!t.endEmitted&&t.length===0){if(t.endEmitted=!0,e.emit("end"),e.writable&&e.allowHalfOpen===!1)ke.nextTick(Xm,e);else if(t.autoDestroy){let i=e._writableState;(!i||i.autoDestroy&&(i.finished||i.writable===!1))&&e.destroy()}}}s(Km,"endReadableNT");function Xm(t){t.writable&&!t.writableEnded&&!t.destroyed&&t.end()}s(Xm,"endWritableNT");k.from=function(t,e){return Om(k,t,e)};var Mo;function Wl(){return Mo===void 0&&(Mo={}),Mo}s(Wl,"lazyWebStreams");k.fromWeb=function(t,e){return Wl().newStreamReadableFromReadableStream(t,e)};k.toWeb=function(t,e){return Wl().newReadableStreamFromStreamReadable(t,e)};k.wrap=function(t,e){var i,r;return new k({objectMode:(i=(r=t.readableObjectMode)!==null&&r!==void 0?r:t.objectMode)!==null&&i!==void 0?i:!0,...e,destroy:s(function(n,o){pi.destroyer(t,n),o(n)},"destroy")}).wrap(t)}});var cn=A((CE,Zl)=>{var jt=gt(),{ArrayPrototypeSlice:zl,Error:Jm,FunctionPrototypeSymbolHasInstance:Vl,ObjectDefineProperty:Hl,ObjectDefineProperties:Qm,ObjectSetPrototypeOf:Gl,StringPrototypeToLowerCase:Zm,Symbol:eb,SymbolHasInstance:tb}=D();Zl.exports=M;M.WritableState=rr;var{EventEmitter:ib}=Ki(),tr=Yr().Stream,{Buffer:nn}=we(),an=Mt(),{addAbortSignal:rb}=Xi(),{getHighWaterMark:nb,getDefaultHighWaterMark:ob}=Ji(),{ERR_INVALID_ARG_TYPE:sb,ERR_METHOD_NOT_IMPLEMENTED:ab,ERR_MULTIPLE_CALLBACK:Yl,ERR_STREAM_CANNOT_PIPE:cb,ERR_STREAM_DESTROYED:ir,ERR_STREAM_ALREADY_FINISHED:lb,ERR_STREAM_NULL_VALUES:fb,ERR_STREAM_WRITE_AFTER_END:ub,ERR_UNKNOWN_ENCODING:Kl}=ne().codes,{errorOrDestroy:yi}=an;Gl(M.prototype,tr.prototype);Gl(M,tr);function zo(){}s(zo,"nop");var mi=eb("kOnFinished");function rr(t,e,i){typeof i!="boolean"&&(i=e instanceof Ke()),this.objectMode=!!(t&&t.objectMode),i&&(this.objectMode=this.objectMode||!!(t&&t.writableObjectMode)),this.highWaterMark=t?nb(this,t,"writableHighWaterMark",i):ob(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let r=!!(t&&t.decodeStrings===!1);this.decodeStrings=!r,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=hb.bind(void 0,e),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,sn(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!t||t.emitClose!==!1,this.autoDestroy=!t||t.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[mi]=[]}s(rr,"WritableState");function sn(t){t.buffered=[],t.bufferedIndex=0,t.allBuffers=!0,t.allNoop=!0}s(sn,"resetBuffer");rr.prototype.getBuffer=s(function(){return zl(this.buffered,this.bufferedIndex)},"getBuffer");Hl(rr.prototype,"bufferedRequestCount",{__proto__:null,get:s(function(){return this.buffered.length-this.bufferedIndex},"get")});function M(t){let e=this instanceof Ke();if(!e&&!Vl(M,this))return new M(t);this._writableState=new rr(t,this,e),t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final),typeof t.construct=="function"&&(this._construct=t.construct),t.signal&&rb(t.signal,this)),tr.call(this,t),an.construct(this,()=>{let i=this._writableState;i.writing||Ho(this,i),Go(this,i)})}s(M,"Writable");Hl(M,tb,{__proto__:null,value:s(function(t){return Vl(this,t)?!0:this!==M?!1:t&&t._writableState instanceof rr},"value")});M.prototype.pipe=function(){yi(this,new cb)};function Xl(t,e,i,r){let n=t._writableState;if(typeof i=="function")r=i,i=n.defaultEncoding;else{if(!i)i=n.defaultEncoding;else if(i!=="buffer"&&!nn.isEncoding(i))throw new Kl(i);typeof r!="function"&&(r=zo)}if(e===null)throw new fb;if(!n.objectMode)if(typeof e=="string")n.decodeStrings!==!1&&(e=nn.from(e,i),i="buffer");else if(e instanceof nn)i="buffer";else if(tr._isUint8Array(e))e=tr._uint8ArrayToBuffer(e),i="buffer";else throw new sb("chunk",["string","Buffer","Uint8Array"],e);let o;return n.ending?o=new ub:n.destroyed&&(o=new ir("write")),o?(jt.nextTick(r,o),yi(t,o,!0),o):(n.pendingcb++,db(t,n,e,i,r))}s(Xl,"_write");M.prototype.write=function(t,e,i){return Xl(this,t,e,i)===!0};M.prototype.cork=function(){this._writableState.corked++};M.prototype.uncork=function(){let t=this._writableState;t.corked&&(t.corked--,t.writing||Ho(this,t))};M.prototype.setDefaultEncoding=s(function(e){if(typeof e=="string"&&(e=Zm(e)),!nn.isEncoding(e))throw new Kl(e);return this._writableState.defaultEncoding=e,this},"setDefaultEncoding");function db(t,e,i,r,n){let o=e.objectMode?1:i.length;e.length+=o;let a=e.length<e.highWaterMark;return a||(e.needDrain=!0),e.writing||e.corked||e.errored||!e.constructed?(e.buffered.push({chunk:i,encoding:r,callback:n}),e.allBuffers&&r!=="buffer"&&(e.allBuffers=!1),e.allNoop&&n!==zo&&(e.allNoop=!1)):(e.writelen=o,e.writecb=n,e.writing=!0,e.sync=!0,t._write(i,r,e.onwrite),e.sync=!1),a&&!e.errored&&!e.destroyed}s(db,"writeOrBuffer");function ql(t,e,i,r,n,o,a){e.writelen=r,e.writecb=a,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new ir("write")):i?t._writev(n,e.onwrite):t._write(n,o,e.onwrite),e.sync=!1}s(ql,"doWrite");function $l(t,e,i,r){--e.pendingcb,r(i),Vo(e),yi(t,i)}s($l,"onwriteError");function hb(t,e){let i=t._writableState,r=i.sync,n=i.writecb;if(typeof n!="function"){yi(t,new Yl);return}i.writing=!1,i.writecb=null,i.length-=i.writelen,i.writelen=0,e?(e.stack,i.errored||(i.errored=e),t._readableState&&!t._readableState.errored&&(t._readableState.errored=e),r?jt.nextTick($l,t,i,e,n):$l(t,i,e,n)):(i.buffered.length>i.bufferedIndex&&Ho(t,i),r?i.afterWriteTickInfo!==null&&i.afterWriteTickInfo.cb===n?i.afterWriteTickInfo.count++:(i.afterWriteTickInfo={count:1,cb:n,stream:t,state:i},jt.nextTick(pb,i.afterWriteTickInfo)):Jl(t,i,1,n))}s(hb,"onwrite");function pb({stream:t,state:e,count:i,cb:r}){return e.afterWriteTickInfo=null,Jl(t,e,i,r)}s(pb,"afterWriteTick");function Jl(t,e,i,r){for(!e.ending&&!t.destroyed&&e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"));i-- >0;)e.pendingcb--,r();e.destroyed&&Vo(e),Go(t,e)}s(Jl,"afterWrite");function Vo(t){if(t.writing)return;for(let n=t.bufferedIndex;n<t.buffered.length;++n){var e;let{chunk:o,callback:a}=t.buffered[n],c=t.objectMode?1:o.length;t.length-=c,a((e=t.errored)!==null&&e!==void 0?e:new ir("write"))}let i=t[mi].splice(0);for(let n=0;n<i.length;n++){var r;i[n]((r=t.errored)!==null&&r!==void 0?r:new ir("end"))}sn(t)}s(Vo,"errorBuffer");function Ho(t,e){if(e.corked||e.bufferProcessing||e.destroyed||!e.constructed)return;let{buffered:i,bufferedIndex:r,objectMode:n}=e,o=i.length-r;if(!o)return;let a=r;if(e.bufferProcessing=!0,o>1&&t._writev){e.pendingcb-=o-1;let c=e.allNoop?zo:f=>{for(let d=a;d<i.length;++d)i[d].callback(f)},l=e.allNoop&&a===0?i:zl(i,a);l.allBuffers=e.allBuffers,ql(t,e,!0,e.length,l,"",c),sn(e)}else{do{let{chunk:c,encoding:l,callback:f}=i[a];i[a++]=null;let d=n?1:c.length;ql(t,e,!1,d,c,l,f)}while(a<i.length&&!e.writing);a===i.length?sn(e):a>256?(i.splice(0,a),e.bufferedIndex=0):e.bufferedIndex=a}e.bufferProcessing=!1}s(Ho,"clearBuffer");M.prototype._write=function(t,e,i){if(this._writev)this._writev([{chunk:t,encoding:e}],i);else throw new ab("_write()")};M.prototype._writev=null;M.prototype.end=function(t,e,i){let r=this._writableState;typeof t=="function"?(i=t,t=null,e=null):typeof e=="function"&&(i=e,e=null);let n;if(t!=null){let o=Xl(this,t,e);o instanceof Jm&&(n=o)}return r.corked&&(r.corked=1,this.uncork()),n||(!r.errored&&!r.ending?(r.ending=!0,Go(this,r,!0),r.ended=!0):r.finished?n=new lb("end"):r.destroyed&&(n=new ir("end"))),typeof i=="function"&&(n||r.finished?jt.nextTick(i,n):r[mi].push(i)),this};function on(t){return t.ending&&!t.destroyed&&t.constructed&&t.length===0&&!t.errored&&t.buffered.length===0&&!t.finished&&!t.writing&&!t.errorEmitted&&!t.closeEmitted}s(on,"needFinish");function yb(t,e){let i=!1;function r(n){if(i){yi(t,n??Yl());return}if(i=!0,e.pendingcb--,n){let o=e[mi].splice(0);for(let a=0;a<o.length;a++)o[a](n);yi(t,n,e.sync)}else on(e)&&(e.prefinished=!0,t.emit("prefinish"),e.pendingcb++,jt.nextTick($o,t,e))}s(r,"onFinish"),e.sync=!0,e.pendingcb++;try{t._final(r)}catch(n){r(n)}e.sync=!1}s(yb,"callFinal");function mb(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.finalCalled=!0,yb(t,e)):(e.prefinished=!0,t.emit("prefinish")))}s(mb,"prefinish");function Go(t,e,i){on(e)&&(mb(t,e),e.pendingcb===0&&(i?(e.pendingcb++,jt.nextTick((r,n)=>{on(n)?$o(r,n):n.pendingcb--},t,e)):on(e)&&(e.pendingcb++,$o(t,e))))}s(Go,"finishMaybe");function $o(t,e){e.pendingcb--,e.finished=!0;let i=e[mi].splice(0);for(let r=0;r<i.length;r++)i[r]();if(t.emit("finish"),e.autoDestroy){let r=t._readableState;(!r||r.autoDestroy&&(r.endEmitted||r.readable===!1))&&t.destroy()}}s($o,"finish");Qm(M.prototype,{closed:{__proto__:null,get:s(function(){return this._writableState?this._writableState.closed:!1},"get")},destroyed:{__proto__:null,get:s(function(){return this._writableState?this._writableState.destroyed:!1},"get"),set:s(function(t){this._writableState&&(this._writableState.destroyed=t)},"set")},writable:{__proto__:null,get:s(function(){let t=this._writableState;return!!t&&t.writable!==!1&&!t.destroyed&&!t.errored&&!t.ending&&!t.ended},"get"),set:s(function(t){this._writableState&&(this._writableState.writable=!!t)},"set")},writableFinished:{__proto__:null,get:s(function(){return this._writableState?this._writableState.finished:!1},"get")},writableObjectMode:{__proto__:null,get:s(function(){return this._writableState?this._writableState.objectMode:!1},"get")},writableBuffer:{__proto__:null,get:s(function(){return this._writableState&&this._writableState.getBuffer()},"get")},writableEnded:{__proto__:null,get:s(function(){return this._writableState?this._writableState.ending:!1},"get")},writableNeedDrain:{__proto__:null,get:s(function(){let t=this._writableState;return t?!t.destroyed&&!t.ending&&t.needDrain:!1},"get")},writableHighWaterMark:{__proto__:null,get:s(function(){return this._writableState&&this._writableState.highWaterMark},"get")},writableCorked:{__proto__:null,get:s(function(){return this._writableState?this._writableState.corked:0},"get")},writableLength:{__proto__:null,get:s(function(){return this._writableState&&this._writableState.length},"get")},errored:{__proto__:null,enumerable:!1,get:s(function(){return this._writableState?this._writableState.errored:null},"get")},writableAborted:{__proto__:null,enumerable:!1,get:s(function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)},"get")}});var bb=an.destroy;M.prototype.destroy=function(t,e){let i=this._writableState;return!i.destroyed&&(i.bufferedIndex<i.buffered.length||i[mi].length)&&jt.nextTick(Vo,i),bb.call(this,t,e),this};M.prototype._undestroy=an.undestroy;M.prototype._destroy=function(t,e){e(t)};M.prototype[ib.captureRejectionSymbol]=function(t){this.destroy(t)};var qo;function Ql(){return qo===void 0&&(qo={}),qo}s(Ql,"lazyWebStreams");M.fromWeb=function(t,e){return Ql().newStreamWritableFromWritableStream(t,e)};M.toWeb=function(t){return Ql().newWritableStreamFromStreamWritable(t)}});var yf=A((NE,pf)=>{var Yo=gt(),gb=we(),{isReadable:wb,isWritable:Sb,isIterable:ef,isNodeStream:_b,isReadableNodeStream:tf,isWritableNodeStream:rf,isDuplexNodeStream:Eb,isReadableStream:nf,isWritableStream:of}=He(),sf=st(),{AbortError:df,codes:{ERR_INVALID_ARG_TYPE:xb,ERR_INVALID_RETURN_VALUE:af}}=ne(),{destroyer:gi}=Mt(),kb=Ke(),hf=er(),vb=cn(),{createDeferredPromise:cf}=te(),lf=Ro(),ff=globalThis.Blob||gb.Blob,Fb=s(typeof ff<"u"?function(e){return e instanceof ff}:function(e){return!1},"isBlob"),Ib=globalThis.AbortController||si().AbortController,{FunctionPrototypeCall:uf}=D(),_t=class extends kb{static{s(this,"Duplexify")}constructor(e){super(e),e?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),e?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};pf.exports=s(function t(e,i){if(Eb(e))return e;if(tf(e))return bi({readable:e});if(rf(e))return bi({writable:e});if(_b(e))return bi({writable:!1,readable:!1});if(nf(e))return bi({readable:hf.fromWeb(e)});if(of(e))return bi({writable:vb.fromWeb(e)});if(typeof e=="function"){let{value:n,write:o,final:a,destroy:c}=Pb(e);if(ef(n))return lf(_t,n,{objectMode:!0,write:o,final:a,destroy:c});let l=n?.then;if(typeof l=="function"){let f,d=uf(l,n,h=>{if(h!=null)throw new af("nully","body",h)},h=>{gi(f,h)});return f=new _t({objectMode:!0,readable:!1,write:o,final:s(function(h){a(async()=>{try{await d,Yo.nextTick(h,null)}catch(b){Yo.nextTick(h,b)}})},"final"),destroy:c})}throw new af("Iterable, AsyncIterable or AsyncFunction",i,n)}if(Fb(e))return t(e.arrayBuffer());if(ef(e))return lf(_t,e,{objectMode:!0,writable:!1});if(nf(e?.readable)&&of(e?.writable))return _t.fromWeb(e);if(typeof e?.writable=="object"||typeof e?.readable=="object"){let n=e!=null&&e.readable?tf(e?.readable)?e?.readable:t(e.readable):void 0,o=e!=null&&e.writable?rf(e?.writable)?e?.writable:t(e.writable):void 0;return bi({readable:n,writable:o})}let r=e?.then;if(typeof r=="function"){let n;return uf(r,e,o=>{o!=null&&n.push(o),n.push(null)},o=>{gi(n,o)}),n=new _t({objectMode:!0,writable:!1,read:s(function(){},"read")})}throw new xb(i,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],e)},"duplexify");function Pb(t){let{promise:e,resolve:i}=cf(),r=new Ib,n=r.signal;return{value:t(async function*(){for(;;){let a=e;e=null;let{chunk:c,done:l,cb:f}=await a;if(Yo.nextTick(f),l)return;if(n.aborted)throw new df(void 0,{cause:n.reason});({promise:e,resolve:i}=cf()),yield c}}(),{signal:n}),write:s(function(a,c,l){let f=i;i=null,f({chunk:a,done:!1,cb:l})},"write"),final:s(function(a){let c=i;i=null,c({done:!0,cb:a})},"final"),destroy:s(function(a,c){r.abort(),c(a)},"destroy")}}s(Pb,"fromAsyncGen");function bi(t){let e=t.readable&&typeof t.readable.read!="function"?hf.wrap(t.readable):t.readable,i=t.writable,r=!!wb(e),n=!!Sb(i),o,a,c,l,f;function d(h){let b=l;l=null,b?b(h):h&&f.destroy(h)}return s(d,"onfinished"),f=new _t({readableObjectMode:!!(e!=null&&e.readableObjectMode),writableObjectMode:!!(i!=null&&i.writableObjectMode),readable:r,writable:n}),n&&(sf(i,h=>{n=!1,h&&gi(e,h),d(h)}),f._write=function(h,b,m){i.write(h,b)?m():o=m},f._final=function(h){i.end(),a=h},i.on("drain",function(){if(o){let h=o;o=null,h()}}),i.on("finish",function(){if(a){let h=a;a=null,h()}})),r&&(sf(e,h=>{r=!1,h&&gi(e,h),d(h)}),e.on("readable",function(){if(c){let h=c;c=null,h()}}),e.on("end",function(){f.push(null)}),f._read=function(){for(;;){let h=e.read();if(h===null){c=f._read;return}if(!f.push(h))return}}),f._destroy=function(h,b){!h&&l!==null&&(h=new df),c=null,o=null,a=null,l===null?b(h):(l=b,gi(i,h),gi(e,h))},f}s(bi,"_duplexify")});var Ke=A((BE,gf)=>{"use strict";var{ObjectDefineProperties:Ab,ObjectGetOwnPropertyDescriptor:at,ObjectKeys:Ob,ObjectSetPrototypeOf:mf}=D();gf.exports=ve;var Jo=er(),Ee=cn();mf(ve.prototype,Jo.prototype);mf(ve,Jo);{let t=Ob(Ee.prototype);for(let e=0;e<t.length;e++){let i=t[e];ve.prototype[i]||(ve.prototype[i]=Ee.prototype[i])}}function ve(t){if(!(this instanceof ve))return new ve(t);Jo.call(this,t),Ee.call(this,t),t?(this.allowHalfOpen=t.allowHalfOpen!==!1,t.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),t.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}s(ve,"Duplex");Ab(ve.prototype,{writable:{__proto__:null,...at(Ee.prototype,"writable")},writableHighWaterMark:{__proto__:null,...at(Ee.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...at(Ee.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...at(Ee.prototype,"writableBuffer")},writableLength:{__proto__:null,...at(Ee.prototype,"writableLength")},writableFinished:{__proto__:null,...at(Ee.prototype,"writableFinished")},writableCorked:{__proto__:null,...at(Ee.prototype,"writableCorked")},writableEnded:{__proto__:null,...at(Ee.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...at(Ee.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get:s(function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},"get"),set:s(function(t){this._readableState&&this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)},"set")}});var Ko;function bf(){return Ko===void 0&&(Ko={}),Ko}s(bf,"lazyWebStreams");ve.fromWeb=function(t,e){return bf().newStreamDuplexFromReadableWritablePair(t,e)};ve.toWeb=function(t){return bf().newReadableWritablePairFromDuplex(t)};var Xo;ve.from=function(t){return Xo||(Xo=yf()),Xo(t,"body")}});var es=A((ME,Sf)=>{"use strict";var{ObjectSetPrototypeOf:wf,Symbol:Tb}=D();Sf.exports=ct;var{ERR_METHOD_NOT_IMPLEMENTED:Cb}=ne().codes,Zo=Ke(),{getHighWaterMark:Rb}=Ji();wf(ct.prototype,Zo.prototype);wf(ct,Zo);var nr=Tb("kCallback");function ct(t){if(!(this instanceof ct))return new ct(t);let e=t?Rb(this,t,"readableHighWaterMark",!0):null;e===0&&(t={...t,highWaterMark:null,readableHighWaterMark:e,writableHighWaterMark:t.writableHighWaterMark||0}),Zo.call(this,t),this._readableState.sync=!1,this[nr]=null,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",Nb)}s(ct,"Transform");function Qo(t){typeof this._flush=="function"&&!this.destroyed?this._flush((e,i)=>{if(e){t?t(e):this.destroy(e);return}i!=null&&this.push(i),this.push(null),t&&t()}):(this.push(null),t&&t())}s(Qo,"final");function Nb(){this._final!==Qo&&Qo.call(this)}s(Nb,"prefinish");ct.prototype._final=Qo;ct.prototype._transform=function(t,e,i){throw new Cb("_transform()")};ct.prototype._write=function(t,e,i){let r=this._readableState,n=this._writableState,o=r.length;this._transform(t,e,(a,c)=>{if(a){i(a);return}c!=null&&this.push(c),n.ended||o===r.length||r.length<r.highWaterMark?i():this[nr]=i})};ct.prototype._read=function(){if(this[nr]){let t=this[nr];this[nr]=null,t()}}});var is=A((WE,Ef)=>{"use strict";var{ObjectSetPrototypeOf:_f}=D();Ef.exports=wi;var ts=es();_f(wi.prototype,ts.prototype);_f(wi,ts);function wi(t){if(!(this instanceof wi))return new wi(t);ts.call(this,t)}s(wi,"PassThrough");wi.prototype._transform=function(t,e,i){i(null,t)}});var dn=A((qE,If)=>{var or=gt(),{ArrayIsArray:Lb,Promise:Bb,SymbolAsyncIterator:Db,SymbolDispose:Mb}=D(),un=st(),{once:Ub}=te(),Wb=Mt(),xf=Ke(),{aggregateTwoErrors:jb,codes:{ERR_INVALID_ARG_TYPE:us,ERR_INVALID_RETURN_VALUE:rs,ERR_MISSING_ARGS:qb,ERR_STREAM_DESTROYED:$b,ERR_STREAM_PREMATURE_CLOSE:zb},AbortError:Vb}=ne(),{validateFunction:Hb,validateAbortSignal:Gb}=li(),{isIterable:qt,isReadable:ns,isReadableNodeStream:fn,isNodeStream:kf,isTransformStream:Si,isWebStream:Yb,isReadableStream:os,isReadableFinished:Kb}=He(),Xb=globalThis.AbortController||si().AbortController,ss,as,cs;function vf(t,e,i){let r=!1;t.on("close",()=>{r=!0});let n=un(t,{readable:e,writable:i},o=>{r=!o});return{destroy:s(o=>{r||(r=!0,Wb.destroyer(t,o||new $b("pipe")))},"destroy"),cleanup:n}}s(vf,"destroyer");function Jb(t){return Hb(t[t.length-1],"streams[stream.length - 1]"),t.pop()}s(Jb,"popCallback");function ls(t){if(qt(t))return t;if(fn(t))return Qb(t);throw new us("val",["Readable","Iterable","AsyncIterable"],t)}s(ls,"makeAsyncIterable");async function*Qb(t){as||(as=er()),yield*as.prototype[Db].call(t)}s(Qb,"fromReadable");async function ln(t,e,i,{end:r}){let n,o=null,a=s(f=>{if(f&&(n=f),o){let d=o;o=null,d()}},"resume"),c=s(()=>new Bb((f,d)=>{n?d(n):o=s(()=>{n?d(n):f()},"onresolve")}),"wait");e.on("drain",a);let l=un(e,{readable:!1},a);try{e.writableNeedDrain&&await c();for await(let f of t)e.write(f)||await c();r&&(e.end(),await c()),i()}catch(f){i(n!==f?jb(n,f):f)}finally{l(),e.off("drain",a)}}s(ln,"pumpToNode");async function fs(t,e,i,{end:r}){Si(e)&&(e=e.writable);let n=e.getWriter();try{for await(let o of t)await n.ready,n.write(o).catch(()=>{});await n.ready,r&&await n.close(),i()}catch(o){try{await n.abort(o),i(o)}catch(a){i(a)}}}s(fs,"pumpToWeb");function Zb(...t){return Ff(t,Ub(Jb(t)))}s(Zb,"pipeline");function Ff(t,e,i){if(t.length===1&&Lb(t[0])&&(t=t[0]),t.length<2)throw new qb("streams");let r=new Xb,n=r.signal,o=i?.signal,a=[];Gb(o,"options.signal");function c(){w(new Vb)}s(c,"abort"),cs=cs||te().addAbortListener;let l;o&&(l=cs(o,c));let f,d,h=[],b=0;function m(U){w(U,--b===0)}s(m,"finish");function w(U,P){var V;if(U&&(!f||f.code==="ERR_STREAM_PREMATURE_CLOSE")&&(f=U),!(!f&&!P)){for(;h.length;)h.shift()(f);(V=l)===null||V===void 0||V[Mb](),r.abort(),P&&(f||a.forEach(kt=>kt()),or.nextTick(e,f,d))}}s(w,"finishImpl");let g;for(let U=0;U<t.length;U++){let P=t[U],V=U<t.length-1,kt=U>0,de=V||i?.end!==!1,Gt=U===t.length-1;if(kf(P)){let oe=function(Je){Je&&Je.name!=="AbortError"&&Je.code!=="ERR_STREAM_PREMATURE_CLOSE"&&m(Je)};var O=oe;if(s(oe,"onError"),de){let{destroy:Je,cleanup:vn}=vf(P,V,kt);h.push(Je),ns(P)&&Gt&&a.push(vn)}P.on("error",oe),ns(P)&&Gt&&a.push(()=>{P.removeListener("error",oe)})}if(U===0)if(typeof P=="function"){if(g=P({signal:n}),!qt(g))throw new rs("Iterable, AsyncIterable or Stream","source",g)}else qt(P)||fn(P)||Si(P)?g=P:g=xf.from(P);else if(typeof P=="function"){if(Si(g)){var I;g=ls((I=g)===null||I===void 0?void 0:I.readable)}else g=ls(g);if(g=P(g,{signal:n}),V){if(!qt(g,!0))throw new rs("AsyncIterable",`transform[${U-1}]`,g)}else{var E;ss||(ss=is());let oe=new ss({objectMode:!0}),Je=(E=g)===null||E===void 0?void 0:E.then;if(typeof Je=="function")b++,Je.call(g,ft=>{d=ft,ft!=null&&oe.write(ft),de&&oe.end(),or.nextTick(m)},ft=>{oe.destroy(ft),or.nextTick(m,ft)});else if(qt(g,!0))b++,ln(g,oe,m,{end:de});else if(os(g)||Si(g)){let ft=g.readable||g;b++,ln(ft,oe,m,{end:de})}else throw new rs("AsyncIterable or Promise","destination",g);g=oe;let{destroy:vn,cleanup:Ku}=vf(g,!1,!0);h.push(vn),Gt&&a.push(Ku)}}else if(kf(P)){if(fn(g)){b+=2;let oe=eg(g,P,m,{end:de});ns(P)&&Gt&&a.push(oe)}else if(Si(g)||os(g)){let oe=g.readable||g;b++,ln(oe,P,m,{end:de})}else if(qt(g))b++,ln(g,P,m,{end:de});else throw new us("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],g);g=P}else if(Yb(P)){if(fn(g))b++,fs(ls(g),P,m,{end:de});else if(os(g)||qt(g))b++,fs(g,P,m,{end:de});else if(Si(g))b++,fs(g.readable,P,m,{end:de});else throw new us("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],g);g=P}else g=xf.from(P)}return(n!=null&&n.aborted||o!=null&&o.aborted)&&or.nextTick(c),g}s(Ff,"pipelineImpl");function eg(t,e,i,{end:r}){let n=!1;if(e.on("close",()=>{n||i(new zb)}),t.pipe(e,{end:!1}),r){let a=function(){n=!0,e.end()};var o=a;s(a,"endFn"),Kb(t)?or.nextTick(a):t.once("end",a)}else i();return un(t,{readable:!0,writable:!1},a=>{let c=t._readableState;a&&a.code==="ERR_STREAM_PREMATURE_CLOSE"&&c&&c.ended&&!c.errored&&!c.errorEmitted?t.once("end",i).once("error",i):i(a)}),un(e,{readable:!1,writable:!0},i)}s(eg,"pipe");If.exports={pipelineImpl:Ff,pipeline:Zb}});var hs=A((zE,Rf)=>{"use strict";var{pipeline:tg}=dn(),hn=Ke(),{destroyer:ig}=Mt(),{isNodeStream:pn,isReadable:Pf,isWritable:Af,isWebStream:ds,isTransformStream:$t,isWritableStream:Of,isReadableStream:Tf}=He(),{AbortError:rg,codes:{ERR_INVALID_ARG_VALUE:Cf,ERR_MISSING_ARGS:ng}}=ne(),og=st();Rf.exports=s(function(...e){if(e.length===0)throw new ng("streams");if(e.length===1)return hn.from(e[0]);let i=[...e];if(typeof e[0]=="function"&&(e[0]=hn.from(e[0])),typeof e[e.length-1]=="function"){let m=e.length-1;e[m]=hn.from(e[m])}for(let m=0;m<e.length;++m)if(!(!pn(e[m])&&!ds(e[m]))){if(m<e.length-1&&!(Pf(e[m])||Tf(e[m])||$t(e[m])))throw new Cf(`streams[${m}]`,i[m],"must be readable");if(m>0&&!(Af(e[m])||Of(e[m])||$t(e[m])))throw new Cf(`streams[${m}]`,i[m],"must be writable")}let r,n,o,a,c;function l(m){let w=a;a=null,w?w(m):m?c.destroy(m):!b&&!h&&c.destroy()}s(l,"onfinished");let f=e[0],d=tg(e,l),h=!!(Af(f)||Of(f)||$t(f)),b=!!(Pf(d)||Tf(d)||$t(d));if(c=new hn({writableObjectMode:!!(f!=null&&f.writableObjectMode),readableObjectMode:!!(d!=null&&d.readableObjectMode),writable:h,readable:b}),h){if(pn(f))c._write=function(w,g,I){f.write(w,g)?I():r=I},c._final=function(w){f.end(),n=w},f.on("drain",function(){if(r){let w=r;r=null,w()}});else if(ds(f)){let g=($t(f)?f.writable:f).getWriter();c._write=async function(I,E,O){try{await g.ready,g.write(I).catch(()=>{}),O()}catch(U){O(U)}},c._final=async function(I){try{await g.ready,g.close().catch(()=>{}),n=I}catch(E){I(E)}}}let m=$t(d)?d.readable:d;og(m,()=>{if(n){let w=n;n=null,w()}})}if(b){if(pn(d))d.on("readable",function(){if(o){let m=o;o=null,m()}}),d.on("end",function(){c.push(null)}),c._read=function(){for(;;){let m=d.read();if(m===null){o=c._read;return}if(!c.push(m))return}};else if(ds(d)){let w=($t(d)?d.readable:d).getReader();c._read=async function(){for(;;)try{let{value:g,done:I}=await w.read();if(!c.push(g))return;if(I){c.push(null);return}}catch{return}}}}return c._destroy=function(m,w){!m&&a!==null&&(m=new rg),o=null,r=null,n=null,a===null?w(m):(a=w,pn(d)&&ig(d,m))},c},"compose")});var $f=A((HE,ms)=>{"use strict";var sg=globalThis.AbortController||si().AbortController,{codes:{ERR_INVALID_ARG_VALUE:ag,ERR_INVALID_ARG_TYPE:sr,ERR_MISSING_ARGS:cg,ERR_OUT_OF_RANGE:lg},AbortError:Xe}=ne(),{validateAbortSignal:zt,validateInteger:Nf,validateObject:Vt}=li(),fg=D().Symbol("kWeak"),ug=D().Symbol("kResistStopPropagation"),{finished:dg}=st(),hg=hs(),{addAbortSignalNoValidate:pg}=Xi(),{isWritable:yg,isNodeStream:mg}=He(),{deprecate:bg}=te(),{ArrayPrototypePush:gg,Boolean:wg,MathFloor:Lf,Number:Sg,NumberIsNaN:_g,Promise:Bf,PromiseReject:Df,PromiseResolve:Eg,PromisePrototypeThen:Mf,Symbol:Wf}=D(),yn=Wf("kEmpty"),Uf=Wf("kEof");function xg(t,e){if(e!=null&&Vt(e,"options"),e?.signal!=null&&zt(e.signal,"options.signal"),mg(t)&&!yg(t))throw new ag("stream",t,"must be writable");let i=hg(this,t);return e!=null&&e.signal&&pg(e.signal,i),i}s(xg,"compose");function mn(t,e){if(typeof t!="function")throw new sr("fn",["Function","AsyncFunction"],t);e!=null&&Vt(e,"options"),e?.signal!=null&&zt(e.signal,"options.signal");let i=1;e?.concurrency!=null&&(i=Lf(e.concurrency));let r=i-1;return e?.highWaterMark!=null&&(r=Lf(e.highWaterMark)),Nf(i,"options.concurrency",1),Nf(r,"options.highWaterMark",0),r+=i,s(async function*(){let o=te().AbortSignalAny([e?.signal].filter(wg)),a=this,c=[],l={signal:o},f,d,h=!1,b=0;function m(){h=!0,w()}s(m,"onCatch");function w(){b-=1,g()}s(w,"afterItemProcessed");function g(){d&&!h&&b<i&&c.length<r&&(d(),d=null)}s(g,"maybeResume");async function I(){try{for await(let E of a){if(h)return;if(o.aborted)throw new Xe;try{if(E=t(E,l),E===yn)continue;E=Eg(E)}catch(O){E=Df(O)}b+=1,Mf(E,w,m),c.push(E),f&&(f(),f=null),!h&&(c.length>=r||b>=i)&&await new Bf(O=>{d=O})}c.push(Uf)}catch(E){let O=Df(E);Mf(O,w,m),c.push(O)}finally{h=!0,f&&(f(),f=null)}}s(I,"pump"),I();try{for(;;){for(;c.length>0;){let E=await c[0];if(E===Uf)return;if(o.aborted)throw new Xe;E!==yn&&(yield E),c.shift(),g()}await new Bf(E=>{f=E})}}finally{h=!0,d&&(d(),d=null)}},"map").call(this)}s(mn,"map");function kg(t=void 0){return t!=null&&Vt(t,"options"),t?.signal!=null&&zt(t.signal,"options.signal"),s(async function*(){let i=0;for await(let n of this){var r;if(t!=null&&(r=t.signal)!==null&&r!==void 0&&r.aborted)throw new Xe({cause:t.signal.reason});yield[i++,n]}},"asIndexedPairs").call(this)}s(kg,"asIndexedPairs");async function jf(t,e=void 0){for await(let i of ys.call(this,t,e))return!0;return!1}s(jf,"some");async function vg(t,e=void 0){if(typeof t!="function")throw new sr("fn",["Function","AsyncFunction"],t);return!await jf.call(this,async(...i)=>!await t(...i),e)}s(vg,"every");async function Fg(t,e){for await(let i of ys.call(this,t,e))return i}s(Fg,"find");async function Ig(t,e){if(typeof t!="function")throw new sr("fn",["Function","AsyncFunction"],t);async function i(r,n){return await t(r,n),yn}s(i,"forEachFn");for await(let r of mn.call(this,i,e));}s(Ig,"forEach");function ys(t,e){if(typeof t!="function")throw new sr("fn",["Function","AsyncFunction"],t);async function i(r,n){return await t(r,n)?r:yn}return s(i,"filterFn"),mn.call(this,i,e)}s(ys,"filter");var ps=class extends cg{static{s(this,"ReduceAwareErrMissingArgs")}constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function Pg(t,e,i){var r;if(typeof t!="function")throw new sr("reducer",["Function","AsyncFunction"],t);i!=null&&Vt(i,"options"),i?.signal!=null&&zt(i.signal,"options.signal");let n=arguments.length>1;if(i!=null&&(r=i.signal)!==null&&r!==void 0&&r.aborted){let f=new Xe(void 0,{cause:i.signal.reason});throw this.once("error",()=>{}),await dg(this.destroy(f)),f}let o=new sg,a=o.signal;if(i!=null&&i.signal){let f={once:!0,[fg]:this,[ug]:!0};i.signal.addEventListener("abort",()=>o.abort(),f)}let c=!1;try{for await(let f of this){var l;if(c=!0,i!=null&&(l=i.signal)!==null&&l!==void 0&&l.aborted)throw new Xe;n?e=await t(e,f,{signal:a}):(e=f,n=!0)}if(!c&&!n)throw new ps}finally{o.abort()}return e}s(Pg,"reduce");async function Ag(t){t!=null&&Vt(t,"options"),t?.signal!=null&&zt(t.signal,"options.signal");let e=[];for await(let r of this){var i;if(t!=null&&(i=t.signal)!==null&&i!==void 0&&i.aborted)throw new Xe(void 0,{cause:t.signal.reason});gg(e,r)}return e}s(Ag,"toArray");function Og(t,e){let i=mn.call(this,t,e);return s(async function*(){for await(let n of i)yield*n},"flatMap").call(this)}s(Og,"flatMap");function qf(t){if(t=Sg(t),_g(t))return 0;if(t<0)throw new lg("number",">= 0",t);return t}s(qf,"toIntegerOrInfinity");function Tg(t,e=void 0){return e!=null&&Vt(e,"options"),e?.signal!=null&&zt(e.signal,"options.signal"),t=qf(t),s(async function*(){var r;if(e!=null&&(r=e.signal)!==null&&r!==void 0&&r.aborted)throw new Xe;for await(let o of this){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new Xe;t--<=0&&(yield o)}},"drop").call(this)}s(Tg,"drop");function Cg(t,e=void 0){return e!=null&&Vt(e,"options"),e?.signal!=null&&zt(e.signal,"options.signal"),t=qf(t),s(async function*(){var r;if(e!=null&&(r=e.signal)!==null&&r!==void 0&&r.aborted)throw new Xe;for await(let o of this){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new Xe;if(t-- >0&&(yield o),t<=0)return}},"take").call(this)}s(Cg,"take");ms.exports.streamReturningOperators={asIndexedPairs:bg(kg,"readable.asIndexedPairs will be removed in a future version."),drop:Tg,filter:ys,flatMap:Og,map:mn,take:Cg,compose:xg};ms.exports.promiseReturningOperators={every:vg,forEach:Ig,reduce:Pg,toArray:Ag,some:jf,find:Fg}});var bs=A((YE,zf)=>{"use strict";var{ArrayPrototypePop:Rg,Promise:Ng}=D(),{isIterable:Lg,isNodeStream:Bg,isWebStream:Dg}=He(),{pipelineImpl:Mg}=dn(),{finished:Ug}=st();gs();function Wg(...t){return new Ng((e,i)=>{let r,n,o=t[t.length-1];if(o&&typeof o=="object"&&!Bg(o)&&!Lg(o)&&!Dg(o)){let a=Rg(t);r=a.signal,n=a.end}Mg(t,(a,c)=>{a?i(a):e(c)},{signal:r,end:n})})}s(Wg,"pipeline");zf.exports={finished:Ug,pipeline:Wg}});var gs=A((XE,Zf)=>{var{Buffer:jg}=we(),{ObjectDefineProperty:lt,ObjectKeys:Gf,ReflectApply:Yf}=D(),{promisify:{custom:Kf}}=te(),{streamReturningOperators:Vf,promiseReturningOperators:Hf}=$f(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:Xf}}=ne(),qg=hs(),{setDefaultHighWaterMark:$g,getDefaultHighWaterMark:zg}=Ji(),{pipeline:Jf}=dn(),{destroyer:Vg}=Mt(),Qf=st(),ws=bs(),ar=He(),R=Zf.exports=Yr().Stream;R.isDestroyed=ar.isDestroyed;R.isDisturbed=ar.isDisturbed;R.isErrored=ar.isErrored;R.isReadable=ar.isReadable;R.isWritable=ar.isWritable;R.Readable=er();for(let t of Gf(Vf)){let i=function(...r){if(new.target)throw Xf();return R.Readable.from(Yf(e,this,r))};Ss=i,s(i,"fn");let e=Vf[t];lt(i,"name",{__proto__:null,value:e.name}),lt(i,"length",{__proto__:null,value:e.length}),lt(R.Readable.prototype,t,{__proto__:null,value:i,enumerable:!1,configurable:!0,writable:!0})}var Ss;for(let t of Gf(Hf)){let i=function(...n){if(new.target)throw Xf();return Yf(e,this,n)};Ss=i,s(i,"fn");let e=Hf[t];lt(i,"name",{__proto__:null,value:e.name}),lt(i,"length",{__proto__:null,value:e.length}),lt(R.Readable.prototype,t,{__proto__:null,value:i,enumerable:!1,configurable:!0,writable:!0})}var Ss;R.Writable=cn();R.Duplex=Ke();R.Transform=es();R.PassThrough=is();R.pipeline=Jf;var{addAbortSignal:Hg}=Xi();R.addAbortSignal=Hg;R.finished=Qf;R.destroy=Vg;R.compose=qg;R.setDefaultHighWaterMark=$g;R.getDefaultHighWaterMark=zg;lt(R,"promises",{__proto__:null,configurable:!0,enumerable:!0,get:s(function(){return ws},"get")});lt(Jf,Kf,{__proto__:null,enumerable:!0,get:s(function(){return ws.pipeline},"get")});lt(Qf,Kf,{__proto__:null,enumerable:!0,get:s(function(){return ws.finished},"get")});R.Stream=R;R._isUint8Array=s(function(e){return e instanceof Uint8Array},"isUint8Array");R._uint8ArrayToBuffer=s(function(e){return jg.from(e.buffer,e.byteOffset,e.byteLength)},"_uint8ArrayToBuffer")});var eu=A((QE,z)=>{"use strict";var K=gs(),Gg=bs(),Yg=K.Readable.destroy;z.exports=K.Readable;z.exports._uint8ArrayToBuffer=K._uint8ArrayToBuffer;z.exports._isUint8Array=K._isUint8Array;z.exports.isDisturbed=K.isDisturbed;z.exports.isErrored=K.isErrored;z.exports.isReadable=K.isReadable;z.exports.Readable=K.Readable;z.exports.Writable=K.Writable;z.exports.Duplex=K.Duplex;z.exports.Transform=K.Transform;z.exports.PassThrough=K.PassThrough;z.exports.addAbortSignal=K.addAbortSignal;z.exports.finished=K.finished;z.exports.destroy=K.destroy;z.exports.destroy=Yg;z.exports.pipeline=K.pipeline;z.exports.compose=K.compose;Object.defineProperty(K,"promises",{configurable:!0,enumerable:!0,get:s(function(){return Gg},"get")});z.exports.Stream=K.Stream;z.exports.default=z.exports});var Qg={};hr(Qg,{Async:()=>Tn,AsyncTransaction:()=>Nn,BigIntStats:()=>ce,BigIntStatsFs:()=>Ai,Dir:()=>bt,Dirent:()=>mt,Errno:()=>N,ErrnoError:()=>u,Fetch:()=>$d,FetchFS:()=>Er,File:()=>Ft,FileSystem:()=>ee,FileType:()=>Z,InMemory:()=>Bi,InMemoryStore:()=>gr,IndexFS:()=>Mi,Inode:()=>Be,Locked:()=>zd,LockedFS:()=>ei,NoSyncFile:()=>Xt,Overlay:()=>Vd,OverlayFS:()=>Ui,Port:()=>Md,PortFS:()=>Sr,PortFile:()=>Di,PreloadFile:()=>fe,ReadStream:()=>Et,Readonly:()=>Cn,SimpleAsyncStore:()=>Ln,SimpleTransaction:()=>Qt,Stats:()=>G,StatsCommon:()=>Ii,StatsFs:()=>Pi,StoreFS:()=>Ri,Sync:()=>Td,SyncTransaction:()=>Li,Transaction:()=>Ni,UnlockedOverlayFS:()=>xr,WriteStream:()=>xt,ZenFsType:()=>On,_toUnixTimestamp:()=>Rd,access:()=>Nu,accessSync:()=>Ua,appendFile:()=>fu,appendFileSync:()=>va,attachFS:()=>Bd,checkOptions:()=>qn,chmod:()=>Au,chmodSync:()=>Ba,chown:()=>Iu,chownSync:()=>Na,close:()=>du,closeSync:()=>yt,configure:()=>Xg,constants:()=>vt,copyFile:()=>qu,copyFileSync:()=>no,cp:()=>Hu,cpSync:()=>oo,createReadStream:()=>Mu,createWriteStream:()=>Uu,decode:()=>Jt,decodeDirListing:()=>br,default:()=>Jg,detachFS:()=>Dd,encode:()=>xe,encodeDirListing:()=>ye,errorMessages:()=>Fn,exists:()=>iu,existsSync:()=>qe,fchmod:()=>wu,fchmodSync:()=>Rr,fchown:()=>gu,fchownSync:()=>Cr,fdatasync:()=>yu,fdatasyncSync:()=>Aa,flagToMode:()=>It,flagToNumber:()=>Id,flagToString:()=>Ws,fs:()=>dr,fstat:()=>uu,fstatSync:()=>Fa,fsync:()=>pu,fsyncSync:()=>Pa,ftruncate:()=>hu,ftruncateSync:()=>Ia,futimes:()=>Su,futimesSync:()=>Nr,isAppendable:()=>it,isBackend:()=>Wi,isBackendConfig:()=>kr,isExclusive:()=>Ci,isReadable:()=>ut,isSynchronous:()=>Pd,isTruncating:()=>Ti,isWriteable:()=>le,lchmod:()=>Ou,lchmodSync:()=>Da,lchown:()=>Pu,lchownSync:()=>La,levenshtein:()=>Rn,link:()=>ku,linkSync:()=>Ca,lopenSync:()=>Gi,lstat:()=>nu,lstatSync:()=>Zn,lutimes:()=>Cu,lutimesSync:()=>Ma,mkdir:()=>Eu,mkdirSync:()=>Lr,mkdirpSync:()=>qs,mkdtemp:()=>ju,mkdtempSync:()=>Wa,mount:()=>$i,mountObject:()=>zi,mounts:()=>Se,nop:()=>S,normalizeMode:()=>me,normalizeOptions:()=>be,normalizePath:()=>_,normalizeTime:()=>Pt,open:()=>au,openAsBlob:()=>Yu,openSync:()=>Hi,opendir:()=>Vu,opendirSync:()=>$a,parseFlag:()=>L,promises:()=>ur,randomIno:()=>Oi,read:()=>bu,readFile:()=>cu,readFileSync:()=>Tr,readSync:()=>Ta,readdir:()=>xu,readdirSync:()=>oi,readlink:()=>Fu,readlinkSync:()=>to,readv:()=>$u,readvSync:()=>ja,realpath:()=>Ru,realpathSync:()=>je,rename:()=>tu,renameSync:()=>Ea,resolveMountConfig:()=>Ds,rm:()=>Wu,rmSync:()=>ro,rmdir:()=>_u,rmdirSync:()=>eo,rootCred:()=>Me,rootIno:()=>De,setImmediate:()=>Cd,size_max:()=>pe,stat:()=>ru,statSync:()=>Vi,statfs:()=>Gu,statfsSync:()=>za,symlink:()=>vu,symlinkSync:()=>Ra,truncate:()=>ou,truncateSync:()=>xa,umount:()=>Pr,unlink:()=>su,unlinkSync:()=>Or,unwatchFile:()=>Bu,utimes:()=>Tu,utimesSync:()=>io,watch:()=>Du,watchFile:()=>Lu,write:()=>mu,writeFile:()=>lu,writeFileSync:()=>Yi,writeSync:()=>Oa,writev:()=>zu,writevSync:()=>qa});var N=(p=>(p[p.EPERM=1]="EPERM",p[p.ENOENT=2]="ENOENT",p[p.EINTR=4]="EINTR",p[p.EIO=5]="EIO",p[p.ENXIO=6]="ENXIO",p[p.EBADF=9]="EBADF",p[p.EAGAIN=11]="EAGAIN",p[p.ENOMEM=12]="ENOMEM",p[p.EACCES=13]="EACCES",p[p.EFAULT=14]="EFAULT",p[p.ENOTBLK=15]="ENOTBLK",p[p.EBUSY=16]="EBUSY",p[p.EEXIST=17]="EEXIST",p[p.EXDEV=18]="EXDEV",p[p.ENODEV=19]="ENODEV",p[p.ENOTDIR=20]="ENOTDIR",p[p.EISDIR=21]="EISDIR",p[p.EINVAL=22]="EINVAL",p[p.ENFILE=23]="ENFILE",p[p.EMFILE=24]="EMFILE",p[p.ETXTBSY=26]="ETXTBSY",p[p.EFBIG=27]="EFBIG",p[p.ENOSPC=28]="ENOSPC",p[p.ESPIPE=29]="ESPIPE",p[p.EROFS=30]="EROFS",p[p.EMLINK=31]="EMLINK",p[p.EPIPE=32]="EPIPE",p[p.EDOM=33]="EDOM",p[p.ERANGE=34]="ERANGE",p[p.EDEADLK=35]="EDEADLK",p[p.ENAMETOOLONG=36]="ENAMETOOLONG",p[p.ENOLCK=37]="ENOLCK",p[p.ENOSYS=38]="ENOSYS",p[p.ENOTEMPTY=39]="ENOTEMPTY",p[p.ELOOP=40]="ELOOP",p[p.ENOMSG=42]="ENOMSG",p[p.EBADE=52]="EBADE",p[p.EBADR=53]="EBADR",p[p.EXFULL=54]="EXFULL",p[p.ENOANO=55]="ENOANO",p[p.EBADRQC=56]="EBADRQC",p[p.ENOSTR=60]="ENOSTR",p[p.ENODATA=61]="ENODATA",p[p.ETIME=62]="ETIME",p[p.ENOSR=63]="ENOSR",p[p.ENONET=64]="ENONET",p[p.EREMOTE=66]="EREMOTE",p[p.ENOLINK=67]="ENOLINK",p[p.ECOMM=70]="ECOMM",p[p.EPROTO=71]="EPROTO",p[p.EBADMSG=74]="EBADMSG",p[p.EOVERFLOW=75]="EOVERFLOW",p[p.EBADFD=77]="EBADFD",p[p.ESTRPIPE=86]="ESTRPIPE",p[p.ENOTSOCK=88]="ENOTSOCK",p[p.EDESTADDRREQ=89]="EDESTADDRREQ",p[p.EMSGSIZE=90]="EMSGSIZE",p[p.EPROTOTYPE=91]="EPROTOTYPE",p[p.ENOPROTOOPT=92]="ENOPROTOOPT",p[p.EPROTONOSUPPORT=93]="EPROTONOSUPPORT",p[p.ESOCKTNOSUPPORT=94]="ESOCKTNOSUPPORT",p[p.ENOTSUP=95]="ENOTSUP",p[p.ENETDOWN=100]="ENETDOWN",p[p.ENETUNREACH=101]="ENETUNREACH",p[p.ENETRESET=102]="ENETRESET",p[p.ETIMEDOUT=110]="ETIMEDOUT",p[p.ECONNREFUSED=111]="ECONNREFUSED",p[p.EHOSTDOWN=112]="EHOSTDOWN",p[p.EHOSTUNREACH=113]="EHOSTUNREACH",p[p.EALREADY=114]="EALREADY",p[p.EINPROGRESS=115]="EINPROGRESS",p[p.ESTALE=116]="ESTALE",p[p.EREMOTEIO=121]="EREMOTEIO",p[p.EDQUOT=122]="EDQUOT",p))(N||{}),Fn={1:"Operation not permitted",2:"No such file or directory",4:"Interrupted system call",5:"Input/output error",6:"No such device or address",9:"Bad file descriptor",11:"Resource temporarily unavailable",12:"Cannot allocate memory",13:"Permission denied",14:"Bad address",15:"Block device required",16:"Resource busy or locked",17:"File exists",18:"Invalid cross-device link",19:"No such device",20:"File is not a directory",21:"File is a directory",22:"Invalid argument",23:"Too many open files in system",24:"Too many open files",26:"Text file busy",27:"File is too big",28:"No space left on disk",29:"Illegal seek",30:"Cannot modify a read-only file system",31:"Too many links",32:"Broken pipe",33:"Numerical argument out of domain",34:"Numerical result out of range",35:"Resource deadlock would occur",36:"File name too long",37:"No locks available",38:"Function not implemented",39:"Directory is not empty",40:"Too many levels of symbolic links",42:"No message of desired type",52:"Invalid exchange",53:"Invalid request descriptor",54:"Exchange full",55:"No anode",56:"Invalid request code",60:"Device not a stream",61:"No data available",62:"Timer expired",63:"Out of streams resources",64:"Machine is not on the network",66:"Object is remote",67:"Link has been severed",70:"Communication error on send",71:"Protocol error",74:"Bad message",75:"Value too large for defined data type",77:"File descriptor in bad state",86:"Streams pipe error",88:"Socket operation on non-socket",89:"Destination address required",90:"Message too long",91:"Protocol wrong type for socket",92:"Protocol not available",93:"Protocol not supported",94:"Socket type not supported",95:"Operation is not supported",100:"Network is down",101:"Network is unreachable",102:"Network dropped connection on reset",110:"Connection timed out",111:"Connection refused",112:"Host is down",113:"No route to host",114:"Operation already in progress",115:"Operation now in progress",116:"Stale file handle",121:"Remote I/O error",122:"Disk quota exceeded"},u=class t extends Error{constructor(i,r=Fn[i],n,o=""){super(r);this.errno=i;this.path=n;this.syscall=o;this.code=N[i],this.message=`${this.code}: ${r}${this.path?`, '${this.path}'`:""}`}static{s(this,"ErrnoError")}static fromJSON(i){let r=new t(i.errno,i.message,i.path,i.syscall);return r.code=i.code,r.stack=i.stack,r}static With(i,r,n){return new t(N[i],Fn[N[i]],r,n)}toString(){return this.message}toJSON(){return{errno:this.errno,code:this.code,path:this.path,stack:this.stack,message:this.message,syscall:this.syscall}}bufferSize(){return 4+JSON.stringify(this.toJSON()).length}};var vt={};hr(vt,{COPYFILE_EXCL:()=>Fi,COPYFILE_FICLONE:()=>rd,COPYFILE_FICLONE_FORCE:()=>nd,F_OK:()=>vi,O_APPEND:()=>Ce,O_CREAT:()=>X,O_DIRECT:()=>ud,O_DIRECTORY:()=>sd,O_DSYNC:()=>ld,O_EXCL:()=>Oe,O_NOATIME:()=>ad,O_NOCTTY:()=>od,O_NOFOLLOW:()=>cd,O_NONBLOCK:()=>dd,O_RDONLY:()=>Yt,O_RDWR:()=>se,O_SYMLINK:()=>fd,O_SYNC:()=>Kt,O_TRUNC:()=>Te,O_WRONLY:()=>Ae,R_OK:()=>Pe,S_IFBLK:()=>Ze,S_IFCHR:()=>et,S_IFDIR:()=>Le,S_IFIFO:()=>tt,S_IFLNK:()=>Re,S_IFMT:()=>W,S_IFREG:()=>Ne,S_IFSOCK:()=>Qe,S_IRGRP:()=>wd,S_IROTH:()=>Ed,S_IRUSR:()=>md,S_IRWXG:()=>Pn,S_IRWXO:()=>An,S_IRWXU:()=>In,S_ISGID:()=>pd,S_ISUID:()=>hd,S_ISVTX:()=>yd,S_IWGRP:()=>Sd,S_IWOTH:()=>xd,S_IWUSR:()=>bd,S_IXGRP:()=>_d,S_IXOTH:()=>kd,S_IXUSR:()=>gd,UV_FS_O_FILEMAP:()=>vd,W_OK:()=>he,X_OK:()=>id});var vi=0,Pe=4,he=2,id=1,Fi=1,rd=2,nd=4,Yt=0,Ae=1,se=2,X=64,Oe=128,od=256,Te=512,Ce=1024,sd=65536,ad=262144,cd=131072,Kt=1052672,ld=4096,fd=32768,ud=16384,dd=2048,W=61440,Qe=49152,Re=40960,Ne=32768,Ze=24576,Le=16384,et=8192,tt=4096,hd=2048,pd=1024,yd=512,In=448,md=256,bd=128,gd=64,Pn=56,wd=32,Sd=16,_d=8,An=7,Ed=4,xd=2,kd=1,vd=0;var Z=(r=>(r[r.FILE=32768]="FILE",r[r.DIRECTORY=16384]="DIRECTORY",r[r.SYMLINK=40960]="SYMLINK",r))(Z||{}),Ii=class{constructor({atimeMs:e,mtimeMs:i,ctimeMs:r,birthtimeMs:n,uid:o,gid:a,size:c,mode:l,ino:f}={}){this.dev=this._convert(0);this.ino=this._convert(0);this.rdev=this._convert(0);this.nlink=this._convert(1);this.blksize=this._convert(4096);this.uid=this._convert(0);this.gid=this._convert(0);let d=Date.now();this.atimeMs=this._convert(e??d),this.mtimeMs=this._convert(i??d),this.ctimeMs=this._convert(r??d),this.birthtimeMs=this._convert(n??d),this.uid=this._convert(o??0),this.gid=this._convert(a??0),this.size=this._convert(c??0),this.ino=this._convert(f??0);let h=Number(l)&61440||Z.FILE;if(l)this.mode=this._convert(l);else switch(h){case Z.FILE:this.mode=this._convert(420);break;case Z.DIRECTORY:default:this.mode=this._convert(511)}this.mode&61440||(this.mode=this.mode|this._convert(h))}static{s(this,"StatsCommon")}_convert(e){return this._isBigint?BigInt(e):Number(e)}get blocks(){return this._convert(Math.ceil(Number(this.size)/512))}get atime(){return new Date(Number(this.atimeMs))}set atime(e){this.atimeMs=this._convert(e.getTime())}get mtime(){return new Date(Number(this.mtimeMs))}set mtime(e){this.mtimeMs=this._convert(e.getTime())}get ctime(){return new Date(Number(this.ctimeMs))}set ctime(e){this.ctimeMs=this._convert(e.getTime())}get birthtime(){return new Date(Number(this.birthtimeMs))}set birthtime(e){this.birthtimeMs=this._convert(e.getTime())}isFile(){return(this.mode&61440)===32768}isDirectory(){return(this.mode&61440)===16384}isSymbolicLink(){return(this.mode&61440)===40960}isSocket(){return(this.mode&61440)===49152}isBlockDevice(){return(this.mode&61440)===24576}isCharacterDevice(){return(this.mode&61440)===8192}isFIFO(){return(this.mode&61440)===4096}hasAccess(e,i){if(i.euid===0||i.egid===0)return!0;let r=(i.uid==this.uid?448:0)|(i.gid==this.gid?56:0)|7;return(e&this.mode&r)==e}cred(e=Number(this.uid),i=Number(this.gid)){return{uid:e,gid:i,suid:Number(this.uid),sgid:Number(this.gid),euid:e,egid:i}}chmod(e){this.mode=this._convert(this.mode&61440|e)}chown(e,i){e=Number(e),i=Number(i),!isNaN(e)&&0<=e&&e<2**32&&(this.uid=this._convert(e)),!isNaN(i)&&0<=i&&i<2**32&&(this.gid=this._convert(i))}get atimeNs(){return BigInt(this.atimeMs)*1000n}get mtimeNs(){return BigInt(this.mtimeMs)*1000n}get ctimeNs(){return BigInt(this.ctimeMs)*1000n}get birthtimeNs(){return BigInt(this.birthtimeMs)*1000n}},G=class extends Ii{constructor(){super(...arguments);this._isBigint=!1}static{s(this,"Stats")}},ce=class extends Ii{constructor(){super(...arguments);this._isBigint=!0}static{s(this,"BigIntStats")}},On=525687744115,Pi=class{constructor(){this.type=525687744115;this.bsize=4096;this.blocks=0;this.bfree=0;this.bavail=0;this.files=pe;this.ffree=pe}static{s(this,"StatsFs")}},Ai=class{constructor(){this.type=0x7a656e6673n;this.bsize=4096n;this.blocks=0n;this.bfree=0n;this.bavail=0n;this.files=BigInt(pe);this.ffree=BigInt(pe)}static{s(this,"BigIntStatsFs")}};var pe=2**32-1,De=0n;function Us(){return Math.round(Math.random()*2**32).toString(16)}s(Us,"_random");function Oi(){return BigInt("0x"+Us()+Us())}s(Oi,"randomIno");var Be=class{static{s(this,"Inode")}get data(){return new Uint8Array(this.buffer)}constructor(e){let i=!e;if(e??=new ArrayBuffer(58),e?.byteLength<58)throw new RangeError("Can not create an inode from a buffer less than 58 bytes");if(this.view=new DataView(e),this.buffer=e,!i)return;this.ino=Oi(),this.nlink=1,this.size=4096;let r=Date.now();this.atimeMs=r,this.mtimeMs=r,this.ctimeMs=r,this.birthtimeMs=r}get ino(){return this.view.getBigUint64(0,!0)}set ino(e){this.view.setBigUint64(0,e,!0)}get size(){return this.view.getUint32(8,!0)}set size(e){this.view.setUint32(8,e,!0)}get mode(){return this.view.getUint16(12,!0)}set mode(e){this.view.setUint16(12,e,!0)}get nlink(){return this.view.getUint32(14,!0)}set nlink(e){this.view.setUint32(14,e,!0)}get uid(){return this.view.getUint32(18,!0)}set uid(e){this.view.setUint32(18,e,!0)}get gid(){return this.view.getUint32(22,!0)}set gid(e){this.view.setUint32(22,e,!0)}get atimeMs(){return this.view.getFloat64(26,!0)}set atimeMs(e){this.view.setFloat64(26,e,!0)}get birthtimeMs(){return this.view.getFloat64(34,!0)}set birthtimeMs(e){this.view.setFloat64(34,e,!0)}get mtimeMs(){return this.view.getFloat64(42,!0)}set mtimeMs(e){this.view.setFloat64(42,e,!0)}get ctimeMs(){return this.view.getFloat64(50,!0)}set ctimeMs(e){this.view.setFloat64(50,e,!0)}toStats(){return new G(this)}update(e){let i=!1;return this.size!==e.size&&(this.size=e.size,i=!0),this.mode!==e.mode&&(this.mode=e.mode,i=!0),this.nlink!==e.nlink&&(this.nlink=e.nlink,i=!0),this.uid!==e.uid&&(this.uid=e.uid,i=!0),this.uid!==e.uid&&(this.uid=e.uid,i=!0),this.atimeMs!==e.atimeMs&&(this.atimeMs=e.atimeMs,i=!0),this.mtimeMs!==e.mtimeMs&&(this.mtimeMs=e.mtimeMs,i=!0),this.ctimeMs!==e.ctimeMs&&(this.ctimeMs=e.ctimeMs,i=!0),i}};Symbol.dispose??=Symbol("Symbol.dispose");Symbol.asyncDispose??=Symbol("Symbol.asyncDispose");var Fd=["r","r+","rs","rs+","w","wx","w+","wx+","a","ax","a+","ax+"];function L(t){if(typeof t=="number")return Ws(t);if(!Fd.includes(t))throw new Error("Invalid flag string: "+t);return t}s(L,"parseFlag");function Ws(t){switch(t){case 0:return"r";case 1052672:return"rs";case 2:return"r+";case 1052674:return"rs+";case 577:return"w";case 705:return"wx";case 578:return"w+";case 706:return"wx+";case 1089:return"a";case 1217:return"ax";case 1090:return"a+";case 1218:return"ax+";default:throw new Error("Invalid flag number: "+t)}}s(Ws,"flagToString");function Id(t){switch(t){case"r":return 0;case"rs":return 1052672;case"r+":return 2;case"rs+":return 1052674;case"w":return 577;case"wx":return 705;case"w+":return 578;case"wx+":return 706;case"a":return 1089;case"ax":return 1217;case"a+":return 1090;case"ax+":return 1218;default:throw new Error("Invalid flag string: "+t)}}s(Id,"flagToNumber");function It(t){let e=0;return e<<=1,e+=+ut(t),e<<=1,e+=+le(t),e<<=1,e}s(It,"flagToMode");function ut(t){return t.indexOf("r")!==-1||t.indexOf("+")!==-1}s(ut,"isReadable");function le(t){return t.indexOf("w")!==-1||t.indexOf("a")!==-1||t.indexOf("+")!==-1}s(le,"isWriteable");function Ti(t){return t.indexOf("w")!==-1}s(Ti,"isTruncating");function it(t){return t.indexOf("a")!==-1}s(it,"isAppendable");function Pd(t){return t.indexOf("s")!==-1}s(Pd,"isSynchronous");function Ci(t){return t.indexOf("x")!==-1}s(Ci,"isExclusive");var Ft=class{static{s(this,"File")}[Symbol.asyncDispose](){return this.close()}[Symbol.dispose](){return this.closeSync()}datasync(){return this.sync()}datasyncSync(){return this.syncSync()}},fe=class extends Ft{constructor(i,r,n,o,a=new Uint8Array(new ArrayBuffer(0,i.metadata().noResizableBuffers?{}:{maxByteLength:pe}))){super();this.fs=i;this.path=r;this.flag=n;this.stats=o;this._buffer=a;this._position=0;this.dirty=!1;if(this.stats.size!=a.byteLength){if(ut(this.flag))throw new Error(`Size mismatch: buffer length ${a.byteLength}, stats size ${this.stats.size}`);this.dirty=!0}}static{s(this,"PreloadFile")}get buffer(){return this._buffer}get position(){return it(this.flag)?this.stats.size:this._position}set position(i){this._position=i}async sync(){this.dirty&&(await this.fs.sync(this.path,this._buffer,this.stats),this.dirty=!1)}syncSync(){this.dirty&&(this.fs.syncSync(this.path,this._buffer,this.stats),this.dirty=!1)}async close(){await this.sync()}closeSync(){this.syncSync()}async stat(){return new G(this.stats)}statSync(){return new G(this.stats)}_truncate(i){if(this.dirty=!0,!le(this.flag))throw new u(1,"File not opened with a writeable mode.");if(this.stats.mtimeMs=Date.now(),i>this._buffer.length){let r=new Uint8Array(i-this._buffer.length);this.writeSync(r,0,r.length,this._buffer.length);return}this.stats.size=i,this._buffer=this._buffer.slice(0,i)}async truncate(i){this._truncate(i),await this.sync()}truncateSync(i){this._truncate(i),this.syncSync()}_write(i,r=0,n=this.stats.size,o=this.position){if(this.dirty=!0,!le(this.flag))throw new u(1,"File not opened with a writeable mode.");let a=o+n;if(a>this.stats.size&&(this.stats.size=a,a>this._buffer.byteLength))if(this._buffer.buffer.resizable&&this._buffer.buffer.maxByteLength<=a)this._buffer.buffer.resize(a);else{let l=new Uint8Array(new ArrayBuffer(a,this.fs.metadata().noResizableBuffers?{}:{maxByteLength:pe}));l.set(this._buffer),this._buffer=l}let c=i.slice(r,r+n);return this._buffer.set(c,o),this.stats.mtimeMs=Date.now(),this.position=o+c.byteLength,c.byteLength}async write(i,r,n,o){let a=this._write(i,r,n,o);return await this.sync(),a}writeSync(i,r=0,n=this.stats.size,o=this.position){let a=this._write(i,r,n,o);return this.syncSync(),a}_read(i,r=0,n=this.stats.size,o){if(!ut(this.flag))throw new u(1,"File not opened with a readable mode.");this.dirty=!0,o??=this.position;let a=o+n;a>this.stats.size&&(a=o+Math.max(this.stats.size-o,0)),this.stats.atimeMs=Date.now(),this._position=a;let c=a-o;return c==0||new Uint8Array(i.buffer,r,n).set(this._buffer.slice(o,a)),c}async read(i,r,n,o){let a=this._read(i,r,n,o);return await this.sync(),{bytesRead:a,buffer:i}}readSync(i,r,n,o){let a=this._read(i,r,n,o);return this.statSync(),a}async chmod(i){this.dirty=!0,this.stats.chmod(i),await this.sync()}chmodSync(i){this.dirty=!0,this.stats.chmod(i),this.syncSync()}async chown(i,r){this.dirty=!0,this.stats.chown(i,r),await this.sync()}chownSync(i,r){this.dirty=!0,this.stats.chown(i,r),this.syncSync()}async utimes(i,r){this.dirty=!0,this.stats.atime=i,this.stats.mtime=r,await this.sync()}utimesSync(i,r){this.dirty=!0,this.stats.atime=i,this.stats.mtime=r,this.syncSync()}async _setType(i){this.dirty=!0,this.stats.mode=this.stats.mode&-61441|i,await this.sync()}_setTypeSync(i){this.dirty=!0,this.stats.mode=this.stats.mode&-61441|i,this.syncSync()}},Xt=class extends fe{static{s(this,"NoSyncFile")}constructor(e,i,r,n,o){super(e,i,r,n,o)}async sync(){}syncSync(){}async close(){}closeSync(){}};var Me={uid:0,gid:0,suid:0,sgid:0,euid:0,egid:0};var Ad="/";function js(t,e){let i="",r=0,n=-1,o=0,a="\0";for(let c=0;c<=t.length;++c){if(c<t.length)a=t[c];else{if(a=="/")break;a="/"}if(a=="/"){if(!(n===c-1||o===1))if(o===2){if(i.length<2||r!==2||i.at(-1)!=="."||i.at(-2)!=="."){if(i.length>2){let l=i.lastIndexOf("/");l===-1?(i="",r=0):(i=i.slice(0,l),r=i.length-1-i.lastIndexOf("/")),n=c,o=0;continue}else if(i.length!==0){i="",r=0,n=c,o=0;continue}}e&&(i+=i.length>0?"/..":"..",r=2)}else i.length>0?i+="/"+t.slice(n+1,c):i=t.slice(n+1,c),r=c-n-1;n=c,o=0}else a==="."&&o!==-1?++o:o=-1}return i}s(js,"normalizeString");function dt(...t){let e="";for(let r of[...t.reverse(),Ad])if(r.length&&(e=`${r}/${e}`,r.startsWith("/")))break;let i=e.startsWith("/");return e=js(e,!i),i?`/${e}`:e.length?e:"/"}s(dt,"resolve");function Od(t){if(!t.length)return".";let e=t.startsWith("/"),i=t.endsWith("/");return t=js(t,!e),t.length?(i&&(t+="/"),e?`/${t}`:t):e?"/":i?"./":"."}s(Od,"normalize");function j(...t){if(!t.length)return".";let e=t.join("/");return e?.length?Od(e):"."}s(j,"join");function v(t){if(t.length===0)return".";let e=t[0]==="/",i=-1,r=!0;for(let n=t.length-1;n>=1;--n)if(t[n]==="/"){if(!r){i=n;break}}else r=!1;return i===-1?e?"/":".":e&&i===1?"//":t.slice(0,i)}s(v,"dirname");function q(t,e){let i=0,r=-1,n=!0;if(e!==void 0&&e.length>0&&e.length<=t.length){if(e===t)return"";let o=e.length-1,a=-1;for(let c=t.length-1;c>=0;--c)if(t[c]==="/"){if(!n){i=c+1;break}}else a===-1&&(n=!1,a=c+1),o>=0&&(t[c]===e[o]?--o===-1&&(r=c):(o=-1,r=a));return i===r?r=a:r===-1&&(r=t.length),t.slice(i,r)}for(let o=t.length-1;o>=0;--o)if(t[o]==="/"){if(!n){i=o+1;break}}else r===-1&&(n=!1,r=o+1);return r===-1?"":t.slice(i,r)}s(q,"basename");function yr(t){let e=t.startsWith("/"),i={root:e?"/":"",dir:"",base:"",ext:"",name:""};if(t.length===0)return i;let r=e?1:0,n=-1,o=0,a=-1,c=!0,l=t.length-1,f=0;for(;l>=r;--l){if(t[l]==="/"){if(!c){o=l+1;break}continue}a===-1&&(c=!1,a=l+1),t[l]==="."?n===-1?n=l:f!==1&&(f=1):n!==-1&&(f=-1)}if(a!==-1){let d=o===0&&e?1:o;n===-1||f===0||f===1&&n===a-1&&n===o+1?i.base=i.name=t.slice(d,a):(i.name=t.slice(d,n),i.base=t.slice(d,a),i.ext=t.slice(n,a))}return o>0?i.dir=t.slice(0,o-1):e&&(i.dir="/"),i}s(yr,"parse");var ee=class{static{s(this,"FileSystem")}metadata(){return{name:this.constructor.name.toLowerCase(),readonly:!1,totalSpace:0,freeSpace:0,noResizableBuffers:!1,noAsyncCache:this._disableSync??!1,type:On}}constructor(...e){}async ready(){}async exists(e,i){try{return await this.stat(e,i),!0}catch(r){return r.code!="ENOENT"}}existsSync(e,i){try{return this.statSync(e,i),!0}catch(r){return r.code!="ENOENT"}}};function Td(t){class e extends t{static{s(this,"SyncFS")}async exists(r,n){return this.existsSync(r,n)}async rename(r,n,o){return this.renameSync(r,n,o)}async stat(r,n){return this.statSync(r,n)}async createFile(r,n,o,a){return this.createFileSync(r,n,o,a)}async openFile(r,n,o){return this.openFileSync(r,n,o)}async unlink(r,n){return this.unlinkSync(r,n)}async rmdir(r,n){return this.rmdirSync(r,n)}async mkdir(r,n,o){return this.mkdirSync(r,n,o)}async readdir(r,n){return this.readdirSync(r,n)}async link(r,n,o){return this.linkSync(r,n,o)}async sync(r,n,o){return this.syncSync(r,n,o)}}return e}s(Td,"Sync");function Tn(t){class e extends t{constructor(){super(...arguments);this._queue=[];this._isInitialized=!1}static{s(this,"AsyncFS")}get _queueRunning(){return!!this._queue.length}queueDone(){return new Promise(n=>{let o=s(()=>this._queueRunning?setTimeout(o):n(),"check");o()})}async ready(){if(await super.ready(),!(this._isInitialized||this._disableSync)){this.checkSync(),await this._sync.ready();try{await this.crossCopy("/"),this._isInitialized=!0}catch(n){throw this._isInitialized=!1,n}}}checkSync(n,o){if(this._disableSync)throw new u(95,"Sync caching has been disabled for this async file system",n,o);if(!this._sync)throw new u(95,"No sync cache is attached to this async file system",n,o)}renameSync(n,o,a){this.checkSync(n,"rename"),this._sync.renameSync(n,o,a),this.queue("rename",n,o,a)}statSync(n,o){return this.checkSync(n,"stat"),this._sync.statSync(n,o)}createFileSync(n,o,a,c){return this.checkSync(n,"createFile"),this._sync.createFileSync(n,o,a,c),this.queue("createFile",n,o,a,c),this.openFileSync(n,o,c)}openFileSync(n,o,a){this.checkSync(n,"openFile");let c=this._sync.openFileSync(n,o,a),l=c.statSync(),f=new Uint8Array(l.size);return c.readSync(f),new fe(this,n,o,l,f)}unlinkSync(n,o){this.checkSync(n,"unlinkSync"),this._sync.unlinkSync(n,o),this.queue("unlink",n,o)}rmdirSync(n,o){this.checkSync(n,"rmdir"),this._sync.rmdirSync(n,o),this.queue("rmdir",n,o)}mkdirSync(n,o,a){this.checkSync(n,"mkdir"),this._sync.mkdirSync(n,o,a),this.queue("mkdir",n,o,a)}readdirSync(n,o){return this.checkSync(n,"readdir"),this._sync.readdirSync(n,o)}linkSync(n,o,a){this.checkSync(n,"link"),this._sync.linkSync(n,o,a),this.queue("link",n,o,a)}syncSync(n,o,a){this.checkSync(n,"sync"),this._sync.syncSync(n,o,a),this.queue("sync",n,o,a)}existsSync(n,o){return this.checkSync(n,"exists"),this._sync.existsSync(n,o)}async crossCopy(n){this.checkSync(n,"crossCopy");let o=await this.stat(n,Me);if(o.isDirectory()){if(n!=="/"){let c=await this.stat(n,Me);this._sync.mkdirSync(n,c.mode,c.cred())}let a=await this.readdir(n,Me);for(let c of a)await this.crossCopy(j(n,c))}else{await using a=await this.openFile(n,L("r"),Me);using c=this._sync.createFileSync(n,L("w"),o.mode,o.cred());let l=new Uint8Array(o.size);await a.read(l),c.writeSync(l,0,o.size)}}async _next(){if(!this._queueRunning)return;let[n,...o]=this._queue.shift();await this[n](...o),await this._next()}queue(...n){this._queue.push(n),this._next()}}return e}s(Tn,"Async");function Cn(t){class e extends t{static{s(this,"ReadonlyFS")}metadata(){return{...super.metadata(),readonly:!0}}async rename(r,n,o){throw new u(30)}renameSync(r,n,o){throw new u(30)}async createFile(r,n,o,a){throw new u(30)}createFileSync(r,n,o,a){throw new u(30)}async unlink(r,n){throw new u(30)}unlinkSync(r,n){throw new u(30)}async rmdir(r,n){throw new u(30)}rmdirSync(r,n){throw new u(30)}async mkdir(r,n,o){throw new u(30)}mkdirSync(r,n,o){throw new u(30)}async link(r,n,o){throw new u(30)}linkSync(r,n,o){throw new u(30)}async sync(r,n,o){throw new u(30)}syncSync(r,n,o){throw new u(30)}}return e}s(Cn,"Readonly");function qs(t,e,i,r){r.existsSync(t,i)||(qs(v(t),e,i,r),r.mkdirSync(t,e,i))}s(qs,"mkdirpSync");function mr(t,e,i,r,n){return Math.min(t+1,e+1,i+1,r===n?e:e+1)}s(mr,"_min");function Rn(t,e){if(t===e)return 0;t.length>e.length&&([t,e]=[e,t]);let i=t.length,r=e.length;for(;i>0&&t.charCodeAt(i-1)===e.charCodeAt(r-1);)i--,r--;let n=0;for(;n<i&&t.charCodeAt(n)===e.charCodeAt(n);)n++;if(i-=n,r-=n,i===0||r===1)return r;let o=new Array(i<<1);for(let b=0;b<i;)o[i+b]=t.charCodeAt(n+b),o[b]=++b;let a,c,l,f,d;for(a=0;a+3<r;){let b=e.charCodeAt(n+(c=a)),m=e.charCodeAt(n+(l=a+1)),w=e.charCodeAt(n+(f=a+2)),g=e.charCodeAt(n+(d=a+3)),I=a+=4;for(let E=0;E<i;){let O=o[i+E],U=o[E];c=mr(U,c,l,b,O),l=mr(c,l,f,m,O),f=mr(l,f,d,w,O),I=mr(f,d,I,g,O),o[E++]=I,d=f,f=l,l=c,c=U}}let h=0;for(;a<r;){let b=e.charCodeAt(n+(c=a));h=++a;for(let m=0;m<i;m++){let w=o[m];o[m]=h=w<c||h<c?w>h?h+1:w+1:b===o[i+m]?c:c+1,c=w}}return h}s(Rn,"levenshtein");var Cd=typeof globalThis.setImmediate=="function"?globalThis.setImmediate:t=>setTimeout(t,0);function xe(t){if(typeof t!="string")throw new u(22,"Can not encode a non-string");return new Uint8Array(Array.from(t).map(e=>e.charCodeAt(0)))}s(xe,"encode");function Jt(t){if(!(t instanceof Uint8Array))throw new u(22,"Can not decode a non-Uint8Array");return Array.from(t).map(e=>String.fromCharCode(e)).join("")}s(Jt,"decode");function br(t){return JSON.parse(Jt(t),(e,i)=>e==""?i:BigInt(i))}s(br,"decodeDirListing");function ye(t){return xe(JSON.stringify(t,(e,i)=>e==""?i:i.toString()))}s(ye,"encodeDirListing");function Rd(t){if(typeof t=="number")return Math.floor(t);if(t instanceof Date)return Math.floor(t.getTime()/1e3);throw new Error("Cannot parse time: "+t)}s(Rd,"_toUnixTimestamp");function me(t,e){if(typeof t=="number")return t;if(typeof t=="string"){let i=parseInt(t,8);if(!isNaN(i))return i}if(typeof e=="number")return e;throw new u(22,"Invalid mode: "+t?.toString())}s(me,"normalizeMode");function Pt(t){if(t instanceof Date)return t;if(typeof t=="number")return new Date(t*1e3);if(typeof t=="string")return new Date(t);throw new u(22,"Invalid time.")}s(Pt,"normalizeTime");function _(t){if(t=t.toString(),t.includes("\0"))throw new u(22,"Path can not contain null character");if(t.length==0)throw new u(22,"Path can not be empty");return dt(t.replaceAll(/[/\\]+/g,"/"))}s(_,"normalizePath");function be(t,e="utf8",i,r=0){return typeof t!="object"||t===null?{encoding:typeof t=="string"?t:e??null,flag:i,mode:r}:{encoding:typeof t?.encoding=="string"?t.encoding:e??null,flag:typeof t?.flag=="string"?t.flag:i,mode:me("mode"in t?t?.mode:null,r)}}s(be,"normalizeOptions");function S(){}s(S,"nop");var $s=5,Ri=class extends ee{constructor(i){super();this.store=i;this._initialized=!1}static{s(this,"StoreFS")}async ready(){this._initialized||(await this.checkRoot(),this._initialized=!0)}metadata(){return{...super.metadata(),name:this.store.name}}async empty(){await this.store.clear(),await this.checkRoot()}emptySync(){this.store.clearSync(),this.checkRootSync()}async rename(i,r,n){let o=this.store.transaction(),a=v(i),c=q(i),l=v(r),f=q(r),d=await this.findINode(o,a),h=await this.getDirListing(o,d,a);if(!d.toStats().hasAccess(2,n))throw u.With("EACCES",i,"rename");if(!h[c])throw u.With("ENOENT",i,"rename");let b=h[c];if(delete h[c],(l+"/").indexOf(i+"/")===0)throw new u(16,a);let m,w;if(l===a?(m=d,w=h):(m=await this.findINode(o,l),w=await this.getDirListing(o,m,l)),w[f]){let g=await this.getINode(o,w[f],r);if(g.toStats().isFile())try{await o.remove(g.ino),await o.remove(w[f])}catch(I){throw await o.abort(),I}else throw u.With("EPERM",r,"rename")}w[f]=b;try{await o.set(d.ino,ye(h)),await o.set(m.ino,ye(w))}catch(g){throw await o.abort(),g}await o.commit()}renameSync(i,r,n){let o=this.store.transaction(),a=v(i),c=q(i),l=v(r),f=q(r),d=this.findINodeSync(o,a),h=this.getDirListingSync(o,d,a);if(!d.toStats().hasAccess(2,n))throw u.With("EACCES",i,"rename");if(!h[c])throw u.With("ENOENT",i,"rename");let b=h[c];if(delete h[c],(l+"/").indexOf(i+"/")==0)throw new u(16,a);let m,w;if(l===a?(m=d,w=h):(m=this.findINodeSync(o,l),w=this.getDirListingSync(o,m,l)),w[f]){let g=this.getINodeSync(o,w[f],r);if(g.toStats().isFile())try{o.removeSync(g.ino),o.removeSync(w[f])}catch(I){throw o.abortSync(),I}else throw u.With("EPERM",r,"rename")}w[f]=b;try{o.setSync(d.ino,ye(h)),o.setSync(m.ino,ye(w))}catch(g){throw o.abortSync(),g}o.commitSync()}async stat(i,r){let n=this.store.transaction(),o=await this.findINode(n,i);if(!o)throw u.With("ENOENT",i,"stat");let a=o.toStats();if(!a.hasAccess(4,r))throw u.With("EACCES",i,"stat");return a}statSync(i,r){let n=this.findINodeSync(this.store.transaction(),i).toStats();if(!n.hasAccess(4,r))throw u.With("EACCES",i,"stat");return n}async createFile(i,r,n,o){let a=new Uint8Array(0),c=await this.commitNew(this.store.transaction(),i,Z.FILE,n,o,a);return new fe(this,i,r,c.toStats(),a)}createFileSync(i,r,n,o){return this.commitNewSync(i,Z.FILE,n,o),this.openFileSync(i,r,o)}async openFile(i,r,n){let o=this.store.transaction(),a=await this.findINode(o,i),c=await o.get(a.ino);if(!a.toStats().hasAccess(It(r),n))throw u.With("EACCES",i,"openFile");if(!c)throw u.With("ENOENT",i,"openFile");return new fe(this,i,r,a.toStats(),c)}openFileSync(i,r,n){let o=this.store.transaction(),a=this.findINodeSync(o,i),c=o.getSync(a.ino);if(!a.toStats().hasAccess(It(r),n))throw u.With("EACCES",i,"openFile");if(!c)throw u.With("ENOENT",i,"openFile");return new fe(this,i,r,a.toStats(),c)}async unlink(i,r){return this.remove(i,!1,r)}unlinkSync(i,r){this.removeSync(i,!1,r)}async rmdir(i,r){if((await this.readdir(i,r)).length>0)throw u.With("ENOTEMPTY",i,"rmdir");await this.remove(i,!0,r)}rmdirSync(i,r){if(this.readdirSync(i,r).length>0)throw u.With("ENOTEMPTY",i,"rmdir");this.removeSync(i,!0,r)}async mkdir(i,r,n){let o=this.store.transaction(),a=xe("{}");await this.commitNew(o,i,Z.DIRECTORY,r,n,a)}mkdirSync(i,r,n){this.commitNewSync(i,Z.DIRECTORY,r,n,xe("{}"))}async readdir(i,r){let n=this.store.transaction(),o=await this.findINode(n,i);if(!o.toStats().hasAccess(4,r))throw u.With("EACCES",i,"readdur");return Object.keys(await this.getDirListing(n,o,i))}readdirSync(i,r){let n=this.store.transaction(),o=this.findINodeSync(n,i);if(!o.toStats().hasAccess(4,r))throw u.With("EACCES",i,"readdir");return Object.keys(this.getDirListingSync(n,o,i))}async sync(i,r,n){let o=this.store.transaction(),a=await this._findINode(o,v(i),q(i)),c=await this.getINode(o,a,i),l=c.update(n);try{await o.set(c.ino,r),l&&await o.set(a,c.data)}catch(f){throw await o.abort(),f}await o.commit()}syncSync(i,r,n){let o=this.store.transaction(),a=this._findINodeSync(o,v(i),q(i)),c=this.getINodeSync(o,a,i),l=c.update(n);try{o.setSync(c.ino,r),l&&o.setSync(a,c.data)}catch(f){throw o.abortSync(),f}o.commitSync()}async link(i,r,n){let o=this.store.transaction(),a=v(i);if(!(await this.findINode(o,a)).toStats().hasAccess(4,n))throw u.With("EACCES",a,"link");let l=v(r),f=await this.findINode(o,l),d=await this.getDirListing(o,f,l);if(!f.toStats().hasAccess(2,n))throw u.With("EACCES",l,"link");let h=await this._findINode(o,a,q(i)),b=await this.getINode(o,h,i);if(!b.toStats().hasAccess(2,n))throw u.With("EACCES",r,"link");b.nlink++,d[q(r)]=h;try{o.setSync(h,b.data),o.setSync(f.ino,ye(d))}catch(m){throw o.abortSync(),m}o.commitSync()}linkSync(i,r,n){let o=this.store.transaction(),a=v(i);if(!this.findINodeSync(o,a).toStats().hasAccess(4,n))throw u.With("EACCES",a,"link");let l=v(r),f=this.findINodeSync(o,l),d=this.getDirListingSync(o,f,l);if(!f.toStats().hasAccess(2,n))throw u.With("EACCES",l,"link");let h=this._findINodeSync(o,a,q(i)),b=this.getINodeSync(o,h,i);if(!b.toStats().hasAccess(2,n))throw u.With("EACCES",r,"link");b.nlink++,d[q(r)]=h;try{o.setSync(h,b.data),o.setSync(f.ino,ye(d))}catch(m){throw o.abortSync(),m}o.commitSync()}async checkRoot(){let i=this.store.transaction();if(await i.get(De))return;let r=new Be;r.mode=511|Z.DIRECTORY,await i.set(r.ino,xe("{}")),await i.set(De,r.data),await i.commit()}checkRootSync(){let i=this.store.transaction();if(i.getSync(De))return;let r=new Be;r.mode=511|Z.DIRECTORY,i.setSync(r.ino,xe("{}")),i.setSync(De,r.data),i.commitSync()}async _findINode(i,r,n,o=new Set){let a=j(r,n);if(o.has(a))throw new u(5,"Infinite loop detected while finding inode",a);if(o.add(a),r=="/"&&n==="")return De;let c=r=="/"?await this.getINode(i,De,r):await this.findINode(i,r,o),l=await this.getDirListing(i,c,r);if(!(n in l))throw u.With("ENOENT",dt(r,n),"_findINode");return l[n]}_findINodeSync(i,r,n,o=new Set){let a=j(r,n);if(o.has(a))throw new u(5,"Infinite loop detected while finding inode",a);if(o.add(a),r=="/"&&n==="")return De;let c=r=="/"?this.getINodeSync(i,De,r):this.findINodeSync(i,r,o),l=this.getDirListingSync(i,c,r);if(!(n in l))throw u.With("ENOENT",dt(r,n),"_findINode");return l[n]}async findINode(i,r,n=new Set){let o=await this._findINode(i,v(r),q(r),n);return this.getINode(i,o,r)}findINodeSync(i,r,n=new Set){let o=this._findINodeSync(i,v(r),q(r),n);return this.getINodeSync(i,o,r)}async getINode(i,r,n){let o=await i.get(r);if(!o)throw u.With("ENOENT",n,"getINode");return new Be(o.buffer)}getINodeSync(i,r,n){let o=i.getSync(r);if(!o)throw u.With("ENOENT",n,"getINode");return new Be(o.buffer)}async getDirListing(i,r,n){if(!r.toStats().isDirectory())throw u.With("ENOTDIR",n,"getDirListing");let o=await i.get(r.ino);if(!o)throw u.With("ENOENT",n,"getDirListing");return br(o)}getDirListingSync(i,r,n){if(!r.toStats().isDirectory())throw u.With("ENOTDIR",n,"getDirListing");let o=i.getSync(r.ino);if(!o)throw u.With("ENOENT",n,"getDirListing");return br(o)}async addNew(i,r,n){for(let o=0;o<$s;o++){let a=Oi();if(!await i.get(a))return await i.set(a,r),a}throw new u(28,"No inode IDs available",n,"addNewNode")}addNewSync(i,r,n){for(let o=0;o<$s;o++){let a=Oi();if(!i.getSync(a))return i.setSync(a,r),a}throw new u(28,"No inode IDs available",n,"addNewNode")}async commitNew(i,r,n,o,a,c){let l=v(r),f=await this.findINode(i,l);if(!f.toStats().hasAccess(2,a))throw u.With("EACCES",r,"commitNewFile");let d=q(r),h=await this.getDirListing(i,f,l);if(r==="/")throw u.With("EEXIST",r,"commitNewFile");if(h[d])throw await i.abort(),u.With("EEXIST",r,"commitNewFile");try{let b=new Be;return b.ino=await this.addNew(i,c,r),b.mode=o|n,b.uid=a.uid,b.gid=a.gid,b.size=c.length,h[d]=await this.addNew(i,b.data,r),await i.set(f.ino,ye(h)),await i.commit(),b}catch(b){throw i.abort(),b}}commitNewSync(i,r,n,o,a=new Uint8Array){let c=this.store.transaction(),l=v(i),f=this.findINodeSync(c,l);if(!f.toStats().hasAccess(2,o))throw u.With("EACCES",i,"commitNewFile");let d=q(i),h=this.getDirListingSync(c,f,l);if(i==="/")throw u.With("EEXIST",i,"commitNewFile");if(h[d])throw u.With("EEXIST",i,"commitNewFile");let b=new Be;try{b.ino=this.addNewSync(c,a,i),b.size=a.length,b.mode=n|r,b.uid=o.uid,b.gid=o.gid,h[d]=this.addNewSync(c,b.data,i),c.setSync(f.ino,ye(h))}catch(m){throw c.abortSync(),m}return c.commitSync(),b}async remove(i,r,n){let o=this.store.transaction(),a=v(i),c=await this.findINode(o,a),l=await this.getDirListing(o,c,a),f=q(i);if(!l[f])throw u.With("ENOENT",i,"removeEntry");let d=l[f],h=await this.getINode(o,d,i);if(!h.toStats().hasAccess(2,n))throw u.With("EACCES",i,"removeEntry");if(delete l[f],!r&&h.toStats().isDirectory())throw u.With("EISDIR",i,"removeEntry");if(r&&!h.toStats().isDirectory())throw u.With("ENOTDIR",i,"removeEntry");try{await o.set(c.ino,ye(l)),--h.nlink<1&&(await o.remove(h.ino),await o.remove(d))}catch(b){throw await o.abort(),b}await o.commit()}removeSync(i,r,n){let o=this.store.transaction(),a=v(i),c=this.findINodeSync(o,a),l=this.getDirListingSync(o,c,a),f=q(i),d=l[f];if(!d)throw u.With("ENOENT",i,"removeEntry");let h=this.getINodeSync(o,d,i);if(!h.toStats().hasAccess(2,n))throw u.With("EACCES",i,"removeEntry");if(delete l[f],!r&&h.toStats().isDirectory())throw u.With("EISDIR",i,"removeEntry");if(r&&!h.toStats().isDirectory())throw u.With("ENOTDIR",i,"removeEntry");try{o.setSync(c.ino,ye(l)),--h.nlink<1&&(o.removeSync(h.ino),o.removeSync(d))}catch(b){throw o.abortSync(),b}o.commitSync()}};var Ni=class{constructor(e){this.store=e;this.aborted=!1}static{s(this,"Transaction")}async[Symbol.asyncDispose](){this.aborted||await this.commit()}[Symbol.dispose](){this.aborted||this.commitSync()}},Li=class extends Ni{static{s(this,"SyncTransaction")}async get(e){return this.getSync(e)}async set(e,i){return this.setSync(e,i)}async remove(e){return this.removeSync(e)}async commit(){return this.commitSync()}async abort(){return this.abortSync()}},Nn=class extends Ni{static{s(this,"AsyncTransaction")}getSync(){throw u.With("ENOSYS",void 0,"AsyncTransaction.getSync")}setSync(){throw u.With("ENOSYS",void 0,"AsyncTransaction.setSync")}removeSync(){throw u.With("ENOSYS",void 0,"AsyncTransaction.removeSync")}commitSync(){throw u.With("ENOSYS",void 0,"AsyncTransaction.commitSync")}abortSync(){throw u.With("ENOSYS",void 0,"AsyncTransaction.abortSync")}};var Ln=class{constructor(){this.cache=new Map;this.queue=new Set}static{s(this,"SimpleAsyncStore")}get(e){return this.cache.get(e)}set(e,i){this.cache.set(e,i),this.queue.add(this._set(e,i))}delete(e){this.cache.delete(e),this.queue.add(this._delete(e))}clearSync(){this.cache.clear(),this.queue.add(this.clear())}async sync(){for(let[e,i]of await this.entries())this.cache.has(e)||this.cache.set(e,i);for(let e of this.queue)await e}transaction(){return new Qt(this)}},Qt=class extends Li{constructor(i){super(i);this.originalData=new Map;this.modifiedKeys=new Set}static{s(this,"SimpleTransaction")}getSync(i){let r=this.store.get(i);return this.stashOldValue(i,r),r}setSync(i,r){return this.markModified(i),this.store.set(i,r)}removeSync(i){this.markModified(i),this.store.delete(i)}commitSync(){}abortSync(){for(let i of this.modifiedKeys){let r=this.originalData.get(i);r?this.store.set(i,r):this.store.delete(i)}}stashOldValue(i,r){this.originalData.has(i)||this.originalData.set(i,r)}markModified(i){this.modifiedKeys.add(i),this.originalData.has(i)||this.originalData.set(i,this.store.get(i))}};var gr=class extends Map{constructor(i="tmp"){super();this.name=i}static{s(this,"InMemoryStore")}async sync(){}clearSync(){this.clear()}transaction(){return new Qt(this)}},Bi={name:"InMemory",isAvailable:s(function(){return!0},"isAvailable"),options:{name:{type:"string",required:!1,description:"The name of the store"}},create:s(function({name:t}){let e=new Ri(new gr(t));return e.checkRootSync(),e},"create")};function Nd(t){return typeof t=="object"&&t!=null&&"fd"in t&&"path"in t&&"position"in t}s(Nd,"isFileData");function Bn(t){return typeof t=="object"&&t!=null&&"_zenfs"in t&&!!t._zenfs}s(Bn,"isMessage");var Zt=new Map;function Dn(t,{port:e,timeout:i=1e3,fs:r}={}){let n=new Error().stack.slice(6);if(!e)throw u.With("EINVAL");return new Promise((o,a)=>{let c=Math.random().toString(16).slice(10);Zt.set(c,{resolve:o,reject:a,fs:r}),e.postMessage({...t,_zenfs:!0,id:c,stack:n});let l=setTimeout(()=>{let f=new u(5,"RPC Failed");f.stack+=n,a(f),typeof l=="object"&&l.unref()},i)})}s(Dn,"request");function zs(t){if(!Bn(t))return;let{id:e,value:i,error:r,stack:n}=t;if(!Zt.has(e)){let l=new u(5,"Invalid RPC id:"+e);throw l.stack+=n,l}let{resolve:o,reject:a,fs:c}=Zt.get(e);if(r){let l=u.fromJSON(i);l.stack+=n,a(l),Zt.delete(e);return}if(Nd(i)){let{fd:l,path:f,position:d}=i,h=new Di(c,l,f,d);o(h),Zt.delete(e);return}o(i),Zt.delete(e)}s(zs,"handleResponse");function Mn(t,e){if(!t)throw u.With("EINVAL");t["on"in t?"on":"addEventListener"]("message",i=>{e("data"in i?i.data:i)})}s(Mn,"attach");function Vs(t,e){if(!t)throw u.With("EINVAL");t["off"in t?"off":"removeEventListener"]("message",i=>{e("data"in i?i.data:i)})}s(Vs,"detach");var Di=class extends Ft{constructor(i,r,n,o){super();this.fs=i;this.fd=r;this.path=n;this.position=o}static{s(this,"PortFile")}rpc(i,...r){return Dn({scope:"file",fd:this.fd,method:i,args:r},this.fs.options)}_throwNoSync(i){throw new u(95,"Syncrohnous operations not support on PortFile",this.path,i)}stat(){return this.rpc("stat")}statSync(){this._throwNoSync("stat")}truncate(i){return this.rpc("truncate",i)}truncateSync(){this._throwNoSync("truncate")}write(i,r,n,o){return this.rpc("write",i,r,n,o)}writeSync(){this._throwNoSync("write")}async read(i,r,n,o){return await this.rpc("read",i,r,n,o)}readSync(){this._throwNoSync("read")}chown(i,r){return this.rpc("chown",i,r)}chownSync(){this._throwNoSync("chown")}chmod(i){return this.rpc("chmod",i)}chmodSync(){this._throwNoSync("chmod")}utimes(i,r){return this.rpc("utimes",i,r)}utimesSync(){this._throwNoSync("utimes")}_setType(i){return this.rpc("_setType",i)}_setTypeSync(){this._throwNoSync("_setType")}close(){return this.rpc("close")}closeSync(){this._throwNoSync("close")}sync(){return this.rpc("sync")}syncSync(){this._throwNoSync("sync")}},Sr=class extends Tn(ee){constructor(i){super();this.options=i;this._sync=Bi.create({name:"port-tmpfs"});this.port=i.port,Mn(this.port,zs)}static{s(this,"PortFS")}metadata(){return{...super.metadata(),name:"PortFS"}}rpc(i,...r){return Dn({scope:"fs",method:i,args:r},{...this.options,fs:this})}async ready(){await this.rpc("ready"),await super.ready()}rename(i,r,n){return this.rpc("rename",i,r,n)}async stat(i,r){return new G(await this.rpc("stat",i,r))}sync(i,r,n){return this.rpc("sync",i,r,n)}openFile(i,r,n){return this.rpc("openFile",i,r,n)}createFile(i,r,n,o){return this.rpc("createFile",i,r,n,o)}unlink(i,r){return this.rpc("unlink",i,r)}rmdir(i,r){return this.rpc("rmdir",i,r)}mkdir(i,r,n){return this.rpc("mkdir",i,r,n)}readdir(i,r){return this.rpc("readdir",i,r)}exists(i,r){return this.rpc("exists",i,r)}link(i,r,n){return this.rpc("link",i,r,n)}},Hs=0,wr=new Map;async function Gs(t,e,i){if(!Bn(i))return;let{method:r,args:n,id:o,scope:a,stack:c}=i,l,f=!1;try{switch(a){case"fs":l=await e[r](...n),l instanceof Ft&&(wr.set(++Hs,l),l={fd:Hs,path:l.path,position:l.position});break;case"file":let{fd:d}=i;if(!wr.has(d))throw new u(9);l=await wr.get(d)[r](...n),r=="close"&&wr.delete(d);break;default:return}}catch(d){l=d,f=!0}t.postMessage({_zenfs:!0,scope:a,id:o,error:f,method:r,stack:c,value:l instanceof u?l.toJSON():l})}s(Gs,"handleRequest");function Bd(t,e){Mn(t,i=>Gs(t,e,i))}s(Bd,"attachFS");function Dd(t,e){Vs(t,i=>Gs(t,e,i))}s(Dd,"detachFS");var Md={name:"Port",options:{port:{type:"object",required:!0,description:"The target port that you want to connect to",validator:s(function(t){if(typeof t?.postMessage!="function")throw new u(22,"option must be a port.")},"validator")},timeout:{type:"number",required:!1,description:"How long to wait before the request times out"}},isAvailable:s(async function(){return!0},"isAvailable"),create:s(function(t){return new Sr(t)},"create")};function Ys(t){try{return JSON.parse(t),!0}catch{return!1}}s(Ys,"isJSON");function Un(t){return t.at(0).toUpperCase()+t.slice(1)}s(Un,"capitalize");var Wn=Symbol("struct_init"),Ud=Symbol("struct");var Ks=["int8","uint8","int16","uint16","int32","uint32","int64","uint64","float32","float64"],Xs=[...Ks,...Ks.map(t=>Un(t)),"char"];function Js(t,e){return function(i,r){let n=typeof r=="object"?r.name:r;if(typeof n=="symbol"&&(console.warn("Symbol used for struct member name will be coerced to string: "+n.toString()),n=n.toString()),!n)throw new ReferenceError("Invalid name for struct member");if(typeof i!="object")throw new TypeError("Invalid member for struct field");if(!("constructor"in i))throw new TypeError("Invalid member for struct field");let o=i.constructor;o[Wn]||=[],o[Wn].push({name:n,type:t,length:e})}}s(Js,"member");function qd(t){function e(i,r){return typeof i=="number"?Js(t,i):Js(t)(i,r)}return s(e,"_"),e}s(qd,"_member");var PS=Object.fromEntries(Xs.map(t=>[t,qd(t)]));var Qs=1,_r=class t extends Map{static{s(this,"Index")}constructor(){super()}files(){let e=new Map;for(let[i,r]of this)r.isFile()&&e.set(i,r);return e}toJSON(){return{version:Qs,entries:Object.fromEntries(this)}}toString(){return JSON.stringify(this.toJSON())}dirEntries(e){let i=[];for(let r of this.keys())v(r)==e&&i.push(q(r));return i}fromJSON(e){if(e.version!=Qs)throw new u(22,"Index version mismatch");this.clear();for(let[i,r]of Object.entries(e.entries)){let n=new G(r);n.isDirectory()&&(n.fileData=xe(JSON.stringify(this.dirEntries(i)))),this.set(i,n)}}static parse(e){if(!Ys(e))throw new u(22,"Invalid JSON");let i=JSON.parse(e),r=new t;return r.fromJSON(i),r}};var Mi=class extends Cn(ee){constructor(i){super();this.indexData=i;this.index=new _r;this._isInitialized=!1}static{s(this,"IndexFS")}async ready(){await super.ready(),!this._isInitialized&&(this.index.fromJSON(await this.indexData),this._isInitialized=!0)}async reloadFiles(){for(let[i,r]of this.index.files())delete r.fileData,r.fileData=await this.getData(i,r)}reloadFilesSync(){for(let[i,r]of this.index.files())delete r.fileData,r.fileData=this.getDataSync(i,r)}async stat(i){return this.statSync(i)}statSync(i){if(!this.index.has(i))throw u.With("ENOENT",i,"stat");return this.index.get(i)}async openFile(i,r,n){if(le(r))throw new u(1,i);let o=this.index.get(i);if(!o)throw u.With("ENOENT",i,"openFile");if(!o.hasAccess(It(r),n))throw u.With("EACCES",i,"openFile");return new Xt(this,i,r,o,o.isDirectory()?o.fileData:await this.getData(i,o))}openFileSync(i,r,n){if(le(r))throw new u(1,i);let o=this.index.get(i);if(!o)throw u.With("ENOENT",i,"openFile");if(!o.hasAccess(It(r),n))throw u.With("EACCES",i,"openFile");return new Xt(this,i,r,o,o.isDirectory()?o.fileData:this.getDataSync(i,o))}async readdir(i){return this.readdirSync(i)}readdirSync(i){let r=this.index.get(i);if(!r)throw u.With("ENOENT",i,"readdir");if(!r.isDirectory())throw u.With("ENOTDIR",i,"readdir");return JSON.parse(Jt(r.fileData))}};async function Zs(t,e){let i=await fetch(t).catch(r=>{throw new u(5,r.message)});if(!i.ok)throw new u(5,"fetch failed: response returned code "+i.status);switch(e){case"buffer":let r=await i.arrayBuffer().catch(n=>{throw new u(5,n.message)});return new Uint8Array(r);case"json":return i.json().catch(n=>{throw new u(5,n.message)});default:throw new u(22,"Invalid download type: "+e)}}s(Zs,"fetchFile");var Er=class t extends Mi{static{s(this,"FetchFS")}async ready(){if(!this._isInitialized){await super.ready();for(let[e,i]of this.index.files())await this.getData(e,i)}}constructor({index:e="index.json",baseUrl:i=""}){super(typeof e!="string"?e:Zs(e,"json")),i.at(-1)!="/"&&(i+="/"),this.baseUrl=i}metadata(){return{...super.metadata(),name:t.name,readonly:!0}}preload(e,i){let r=this.index.get(e);if(!r)throw u.With("ENOENT",e,"preloadFile");if(!r.isFile())throw u.With("EISDIR",e,"preloadFile");r.size=i.length,r.fileData=i}async getData(e,i){if(i.fileData)return i.fileData;let r=await Zs(this.baseUrl+(e.startsWith("/")?e.slice(1):e),"buffer");return i.fileData=r,r}getDataSync(e,i){if(i.fileData)return i.fileData;throw new u(61,"",e,"getData")}},$d={name:"Fetch",options:{index:{type:["string","object"],required:!1,description:"URL to a file index as a JSON file or the file index object itself, generated with the make-index script. Defaults to `index.json`."},baseUrl:{type:"string",required:!1,description:"Used as the URL prefix for fetched files. Default: Fetch files relative to the index."}},isAvailable:s(function(){return typeof globalThis.fetch=="function"},"isAvailable"),create:s(function(t){return new Er(t)},"create")};var ei=class{constructor(e){this.fs=e;this.locks=new Map}static{s(this,"LockedFS")}addLock(e){let i={...Promise.withResolvers(),[Symbol.dispose]:()=>{this.unlock(e)}};return this.locks.set(e,i),i}async lock(e){return this.locks.has(e)&&await this.locks.get(e).promise,this.addLock(e)}lockSync(e){if(this.locks.has(e))throw u.With("EBUSY",e,"lockSync");return this.addLock(e)}unlock(e,i=!1){if(!this.locks.has(e)){if(i)return!1;throw new u(1,"Can not unlock an already unlocked path",e)}return this.locks.get(e).resolve(),this.locks.delete(e),!0}isLocked(e){return this.locks.has(e)}async ready(){await this.fs.ready()}metadata(){return{...this.fs.metadata(),name:"Locked<"+this.fs.metadata().name+">"}}async rename(e,i,r){using n=await this.lock(e);await this.fs.rename(e,i,r)}renameSync(e,i,r){using n=this.lockSync(e);return this.fs.renameSync(e,i,r)}async stat(e,i){using r=await this.lock(e);return await this.fs.stat(e,i)}statSync(e,i){using r=this.lockSync(e);return this.fs.statSync(e,i)}async openFile(e,i,r){using n=await this.lock(e);return await this.fs.openFile(e,i,r)}openFileSync(e,i,r){using n=this.lockSync(e);return this.fs.openFileSync(e,i,r)}async createFile(e,i,r,n){using o=await this.lock(e);return await this.fs.createFile(e,i,r,n)}createFileSync(e,i,r,n){using o=this.lockSync(e);return this.fs.createFileSync(e,i,r,n)}async unlink(e,i){using r=await this.lock(e);await this.fs.unlink(e,i)}unlinkSync(e,i){using r=this.lockSync(e);return this.fs.unlinkSync(e,i)}async rmdir(e,i){using r=await this.lock(e);await this.fs.rmdir(e,i)}rmdirSync(e,i){using r=this.lockSync(e);return this.fs.rmdirSync(e,i)}async mkdir(e,i,r){using n=await this.lock(e);await this.fs.mkdir(e,i,r)}mkdirSync(e,i,r){using n=this.lockSync(e);return this.fs.mkdirSync(e,i,r)}async readdir(e,i){using r=await this.lock(e);return await this.fs.readdir(e,i)}readdirSync(e,i){using r=this.lockSync(e);return this.fs.readdirSync(e,i)}async exists(e,i){using r=await this.lock(e);return await this.fs.exists(e,i)}existsSync(e,i){using r=this.lockSync(e);return this.fs.existsSync(e,i)}async link(e,i,r){using n=await this.lock(e);await this.fs.link(e,i,r)}linkSync(e,i,r){using n=this.lockSync(e);return this.fs.linkSync(e,i,r)}async sync(e,i,r){using n=await this.lock(e);await this.fs.sync(e,i,r)}syncSync(e,i,r){using n=this.lockSync(e);return this.fs.syncSync(e,i,r)}},zd={name:"Locked",options:{fs:{type:"object",required:!0,description:"",validator:s(function(t){if(!(t instanceof ee))throw new u(22,"fs passed to LockedFS must be a FileSystem")},"validator")}},isAvailable:s(function(){return!0},"isAvailable"),create:s(function({fs:t}){return new ei(t)},"create")};var jn="/.deleted",xr=class extends ee{constructor({writable:i,readable:r}){super();this._isInitialized=!1;this._deletedFiles=new Set;this._deleteLog="";this._deleteLogUpdatePending=!1;this._deleteLogUpdateNeeded=!1;if(this._writable=i,this._readable=r,this._writable.metadata().readonly)throw new u(22,"Writable file system must be writable.");this._ready=this._initialize()}static{s(this,"UnlockedOverlayFS")}async ready(){await this._readable.ready(),await this._writable.ready(),await this._ready}metadata(){return{...super.metadata(),name:Ui.name}}getOverlayedFileSystems(){return{readable:this._readable,writable:this._writable}}async sync(i,r,n){let o=n.cred(0,0);await this.createParentDirectories(i,o),await this._writable.exists(i,o)||await this._writable.createFile(i,"w",420,o),await this._writable.sync(i,r,n)}syncSync(i,r,n){let o=n.cred(0,0);this.createParentDirectoriesSync(i,o),this._writable.syncSync(i,r,n)}async _initialize(){if(!this._isInitialized){try{let i=await this._writable.openFile(jn,L("r"),Me),{size:r}=await i.stat(),{buffer:n}=await i.read(new Uint8Array(r));this._deleteLog=Jt(n)}catch(i){if(i.errno!==2)throw i}this._isInitialized=!0,this._reparseDeletionLog()}}getDeletionLog(){return this._deleteLog}restoreDeletionLog(i,r){this._deleteLog=i,this._reparseDeletionLog(),this.updateLog("",r)}async rename(i,r,n){this.checkInitialized(),this.checkPath(i),this.checkPath(r);try{await this._writable.rename(i,r,n)}catch{if(this._deletedFiles.has(i))throw u.With("ENOENT",i,"rename")}}renameSync(i,r,n){this.checkInitialized(),this.checkPath(i),this.checkPath(r);try{this._writable.renameSync(i,r,n)}catch{if(this._deletedFiles.has(i))throw u.With("ENOENT",i,"rename")}}async stat(i,r){this.checkInitialized();try{return await this._writable.stat(i,r)}catch{if(this._deletedFiles.has(i))throw u.With("ENOENT",i,"stat");let o=new G(await this._readable.stat(i,r));return o.mode|=146,o}}statSync(i,r){this.checkInitialized();try{return this._writable.statSync(i,r)}catch{if(this._deletedFiles.has(i))throw u.With("ENOENT",i,"stat");let o=new G(this._readable.statSync(i,r));return o.mode|=146,o}}async openFile(i,r,n){if(await this._writable.exists(i,n))return this._writable.openFile(i,r,n);let o=await this._readable.openFile(i,L("r"),n),a=new G(await o.stat()),{buffer:c}=await o.read(new Uint8Array(a.size));return new fe(this,i,r,a,c)}openFileSync(i,r,n){if(this._writable.existsSync(i,n))return this._writable.openFileSync(i,r,n);let o=this._readable.openFileSync(i,L("r"),n),a=new G(o.statSync()),c=new Uint8Array(a.size);return o.readSync(c),new fe(this,i,r,a,c)}async createFile(i,r,n,o){return this.checkInitialized(),await this._writable.createFile(i,r,n,o),this.openFile(i,r,o)}createFileSync(i,r,n,o){return this.checkInitialized(),this._writable.createFileSync(i,r,n,o),this.openFileSync(i,r,o)}async link(i,r,n){this.checkInitialized(),await this._writable.link(i,r,n)}linkSync(i,r,n){this.checkInitialized(),this._writable.linkSync(i,r,n)}async unlink(i,r){if(this.checkInitialized(),this.checkPath(i),!await this.exists(i,r))throw u.With("ENOENT",i,"unlink");await this._writable.exists(i,r)&&await this._writable.unlink(i,r),await this.exists(i,r)&&this.deletePath(i,r)}unlinkSync(i,r){if(this.checkInitialized(),this.checkPath(i),!this.existsSync(i,r))throw u.With("ENOENT",i,"unlink");this._writable.existsSync(i,r)&&this._writable.unlinkSync(i,r),this.existsSync(i,r)&&this.deletePath(i,r)}async rmdir(i,r){if(this.checkInitialized(),!await this.exists(i,r))throw u.With("ENOENT",i,"rmdir");if(await this._writable.exists(i,r)&&await this._writable.rmdir(i,r),await this.exists(i,r)){if((await this.readdir(i,r)).length>0)throw u.With("ENOTEMPTY",i,"rmdir");this.deletePath(i,r)}}rmdirSync(i,r){if(this.checkInitialized(),!this.existsSync(i,r))throw u.With("ENOENT",i,"rmdir");if(this._writable.existsSync(i,r)&&this._writable.rmdirSync(i,r),this.existsSync(i,r)){if(this.readdirSync(i,r).length>0)throw u.With("ENOTEMPTY",i,"rmdir");this.deletePath(i,r)}}async mkdir(i,r,n){if(this.checkInitialized(),await this.exists(i,n))throw u.With("EEXIST",i,"mkdir");await this.createParentDirectories(i,n),await this._writable.mkdir(i,r,n)}mkdirSync(i,r,n){if(this.checkInitialized(),this.existsSync(i,n))throw u.With("EEXIST",i,"mkdir");this.createParentDirectoriesSync(i,n),this._writable.mkdirSync(i,r,n)}async readdir(i,r){if(this.checkInitialized(),!(await this.stat(i,r)).isDirectory())throw u.With("ENOTDIR",i,"readdir");let o=[];try{o.push(...await this._writable.readdir(i,r))}catch{}try{o.push(...(await this._readable.readdir(i,r)).filter(c=>!this._deletedFiles.has(`${i}/${c}`)))}catch{}let a={};return o.filter(c=>{let l=!a[c];return a[c]=!0,l})}readdirSync(i,r){if(this.checkInitialized(),!this.statSync(i,r).isDirectory())throw u.With("ENOTDIR",i,"readdir");let o=[];try{o=o.concat(this._writable.readdirSync(i,r))}catch{}try{o=o.concat(this._readable.readdirSync(i,r).filter(c=>!this._deletedFiles.has(`${i}/${c}`)))}catch{}let a={};return o.filter(c=>{let l=!a[c];return a[c]=!0,l})}deletePath(i,r){this._deletedFiles.add(i),this.updateLog(`d${i}
`,r)}async updateLog(i,r){if(this._deleteLog+=i,this._deleteLogUpdatePending){this._deleteLogUpdateNeeded=!0;return}this._deleteLogUpdatePending=!0;let n=await this._writable.openFile(jn,L("w"),r);try{await n.write(xe(this._deleteLog)),this._deleteLogUpdateNeeded&&(this._deleteLogUpdateNeeded=!1,this.updateLog("",r))}catch(o){this._deleteLogError=o}finally{this._deleteLogUpdatePending=!1}}_reparseDeletionLog(){this._deletedFiles.clear();for(let i of this._deleteLog.split(`
`))i.startsWith("d")&&this._deletedFiles.add(i.slice(1))}checkInitialized(){if(!this._isInitialized)throw new u(1,"OverlayFS is not initialized. Please initialize OverlayFS using its initialize() method before using it.");if(!this._deleteLogError)return;let i=this._deleteLogError;throw delete this._deleteLogError,i}checkPath(i){if(i==jn)throw u.With("EPERM",i,"checkPath")}createParentDirectoriesSync(i,r){let n=v(i),o=[];for(;!this._writable.existsSync(n,r);)o.push(n),n=v(n);o=o.reverse();for(let a of o)this._writable.mkdirSync(a,this.statSync(a,r).mode,r)}async createParentDirectories(i,r){let n=v(i),o=[];for(;!await this._writable.exists(n,r);)o.push(n),n=v(n);o=o.reverse();for(let a of o){let c=await this.stat(a,r);await this._writable.mkdir(a,c.mode,r)}}operateOnWritable(i,r){if(!this.existsSync(i,r))throw u.With("ENOENT",i,"operateOnWriteable");this._writable.existsSync(i,r)||this.copyToWritableSync(i,r)}async operateOnWritableAsync(i,r){if(!await this.exists(i,r))throw u.With("ENOENT",i,"operateOnWritable");if(!await this._writable.exists(i,r))return this.copyToWritable(i,r)}copyToWritableSync(i,r){let n=this.statSync(i,r);if(n.isDirectory()){this._writable.mkdirSync(i,n.mode,r);return}let o=new Uint8Array(n.size),a=this._readable.openFileSync(i,L("r"),r);a.readSync(o),a.closeSync();let c=this._writable.openFileSync(i,L("w"),r);c.writeSync(o),c.closeSync()}async copyToWritable(i,r){let n=await this.stat(i,r);if(n.isDirectory()){await this._writable.mkdir(i,n.mode,r);return}let o=new Uint8Array(n.size),a=await this._readable.openFile(i,L("r"),r);await a.read(o),await a.close();let c=await this._writable.openFile(i,L("w"),r);await c.write(o),await c.close()}},Ui=class extends ei{static{s(this,"OverlayFS")}constructor(e){super(new xr(e))}getOverlayedFileSystems(){return super.fs.getOverlayedFileSystems()}getDeletionLog(){return super.fs.getDeletionLog()}resDeletionLog(){return super.fs.getDeletionLog()}unwrap(){return super.fs}},Vd={name:"Overlay",options:{writable:{type:"object",required:!0,description:"The file system to write modified files to."},readable:{type:"object",required:!0,description:"The file system that initially populates this file system."}},isAvailable:s(function(){return!0},"isAvailable"),create:s(function(t){return new Ui(t)},"create")};function Wi(t){return t!=null&&typeof t=="object"&&"isAvailable"in t&&typeof t.isAvailable=="function"&&"create"in t&&typeof t.create=="function"}s(Wi,"isBackend");async function qn(t,e){if(typeof e!="object"||e===null)throw new u(22,"Invalid options");for(let[i,r]of Object.entries(t.options)){let n=e?.[i];if(n==null){if(!r.required)continue;let a=Object.keys(e).filter(c=>!(c in t.options)).map(c=>({str:c,distance:Rn(i,c)})).filter(c=>c.distance<5).sort((c,l)=>c.distance-l.distance);throw new u(22,`${t.name}: Required option '${i}' not provided.${a.length>0?` You provided '${a[0].str}', did you mean '${i}'.`:""}`)}if(!(Array.isArray(r.type)?r.type.indexOf(typeof n)!=-1:typeof n==r.type))throw new u(22,`${t.name}: Value provided for option ${i} is not the proper type. Expected ${Array.isArray(r.type)?`one of {${r.type.join(", ")}}`:r.type}, but received ${typeof n}`);r.validator&&await r.validator(n)}}s(qn,"checkOptions");function kr(t){return t!=null&&typeof t=="object"&&"backend"in t&&Wi(t.backend)}s(kr,"isBackendConfig");var dr={};hr(dr,{BigIntStatsFs:()=>Ai,Dir:()=>bt,Dirent:()=>mt,ReadStream:()=>Et,Stats:()=>G,StatsFs:()=>Pi,WriteStream:()=>xt,access:()=>Nu,accessSync:()=>Ua,appendFile:()=>fu,appendFileSync:()=>va,chmod:()=>Au,chmodSync:()=>Ba,chown:()=>Iu,chownSync:()=>Na,close:()=>du,closeSync:()=>yt,constants:()=>vt,copyFile:()=>qu,copyFileSync:()=>no,cp:()=>Hu,cpSync:()=>oo,createReadStream:()=>Mu,createWriteStream:()=>Uu,exists:()=>iu,existsSync:()=>qe,fchmod:()=>wu,fchmodSync:()=>Rr,fchown:()=>gu,fchownSync:()=>Cr,fdatasync:()=>yu,fdatasyncSync:()=>Aa,fstat:()=>uu,fstatSync:()=>Fa,fsync:()=>pu,fsyncSync:()=>Pa,ftruncate:()=>hu,ftruncateSync:()=>Ia,futimes:()=>Su,futimesSync:()=>Nr,lchmod:()=>Ou,lchmodSync:()=>Da,lchown:()=>Pu,lchownSync:()=>La,link:()=>ku,linkSync:()=>Ca,lopenSync:()=>Gi,lstat:()=>nu,lstatSync:()=>Zn,lutimes:()=>Cu,lutimesSync:()=>Ma,mkdir:()=>Eu,mkdirSync:()=>Lr,mkdtemp:()=>ju,mkdtempSync:()=>Wa,mount:()=>$i,mountObject:()=>zi,mounts:()=>Se,open:()=>au,openAsBlob:()=>Yu,openSync:()=>Hi,opendir:()=>Vu,opendirSync:()=>$a,promises:()=>ur,read:()=>bu,readFile:()=>cu,readFileSync:()=>Tr,readSync:()=>Ta,readdir:()=>xu,readdirSync:()=>oi,readlink:()=>Fu,readlinkSync:()=>to,readv:()=>$u,readvSync:()=>ja,realpath:()=>Ru,realpathSync:()=>je,rename:()=>tu,renameSync:()=>Ea,rm:()=>Wu,rmSync:()=>ro,rmdir:()=>_u,rmdirSync:()=>eo,stat:()=>ru,statSync:()=>Vi,statfs:()=>Gu,statfsSync:()=>za,symlink:()=>vu,symlinkSync:()=>Ra,truncate:()=>ou,truncateSync:()=>xa,umount:()=>Pr,unlink:()=>su,unlinkSync:()=>Or,unwatchFile:()=>Bu,utimes:()=>Tu,utimesSync:()=>io,watch:()=>Du,watchFile:()=>Lu,write:()=>mu,writeFile:()=>lu,writeFileSync:()=>Yi,writeSync:()=>Oa,writev:()=>zu,writevSync:()=>qa});var Ls=pr(we(),1);var ur={};hr(ur,{FileHandle:()=>re,access:()=>Ts,appendFile:()=>xs,chmod:()=>Ps,chown:()=>Fs,constants:()=>vt,copyFile:()=>xn,cp:()=>kn,exists:()=>Ie,lchmod:()=>As,lchown:()=>Is,link:()=>ks,lstat:()=>gn,lutimes:()=>Os,mkdir:()=>fr,mkdtemp:()=>Cs,open:()=>ue,opendir:()=>Rs,readFile:()=>lr,readdir:()=>Rt,readlink:()=>Sn,realpath:()=>Fe,rename:()=>_s,rm:()=>En,rmdir:()=>wn,stat:()=>_i,statfs:()=>Ns,symlink:()=>vs,truncate:()=>Es,unlink:()=>cr,utimes:()=>_n,watch:()=>Kg,writeFile:()=>xi});var Ht=pr(we(),1);var pt=pr(we(),1);var x=Me;function _a(t){x=t}s(_a,"setCred");var Tt=new Map,kh=100;function qi(t){let e=kh++;return Tt.set(e,t),e}s(qi,"file2fd");function B(t){if(!Tt.has(t))throw new u(9);return Tt.get(t)}s(B,"fd2file");var Se=new Map;$i("/",Bi.create({name:"root"}));function $i(t,e){if(t[0]!=="/"&&(t="/"+t),t=dt(t),Se.has(t))throw new u(22,"Mount point "+t+" is already in use.");Se.set(t,e)}s($i,"mount");function Pr(t){if(t[0]!=="/"&&(t=`/${t}`),t=dt(t),!Se.has(t))throw new u(22,"Mount point "+t+" is already unmounted.");Se.delete(t)}s(Pr,"umount");function T(t){t=_(t);let e=[...Se].sort((i,r)=>i[0].length>r[0].length?-1:1);for(let[i,r]of e)if(i.length<=t.length&&t.startsWith(i))return t=t.slice(i.length>1?i.length:0),t===""&&(t="/"),{fs:r,path:t,mountPoint:i};throw new u(5,"ZenFS not initialized with a file system")}s(T,"resolveMount");function Sa(t,e){for(let[i,r]of Object.entries(e))t=t?.replaceAll(i,r);return t}s(Sa,"fixPaths");function H(t,e){return typeof t.stack=="string"&&(t.stack=Sa(t.stack,e)),t.message=Sa(t.message,e),t}s(H,"fixError");function zi(t){"/"in t&&Pr("/");for(let[e,i]of Object.entries(t))$i(e,i)}s(zi,"mountObject");function Ar(t,e){let i=t.metadata(),r=i.blockSize||4096;return{type:(e?BigInt:Number)(i.type),bsize:(e?BigInt:Number)(r),ffree:(e?BigInt:Number)(i.freeNodes||pe),files:(e?BigInt:Number)(i.totalNodes||pe),bavail:(e?BigInt:Number)(i.freeSpace/r),bfree:(e?BigInt:Number)(i.freeSpace/r),blocks:(e?BigInt:Number)(i.totalSpace/r)}}s(Ar,"_statfs");function Ea(t,e){t=_(t),e=_(e);let i=T(t),r=T(e),n={[i.path]:t,[r.path]:e};try{if(i===r)return i.fs.renameSync(i.path,r.path,x);Yi(e,Tr(t)),Or(t)}catch(o){throw H(o,n)}}s(Ea,"renameSync");function qe(t){t=_(t);try{let{fs:e,path:i}=T(je(t));return e.existsSync(i,x)}catch(e){if(e.errno==2)return!1;throw e}}s(qe,"existsSync");function Vi(t,e){t=_(t);let{fs:i,path:r}=T(qe(t)?je(t):t);try{let n=i.statSync(r,x);return e?.bigint?new ce(n):n}catch(n){throw H(n,{[r]:t})}}s(Vi,"statSync");function Zn(t,e){t=_(t);let{fs:i,path:r}=T(t);try{let n=i.statSync(r,x);return e?.bigint?new ce(n):n}catch(n){throw H(n,{[r]:t})}}s(Zn,"lstatSync");function xa(t,e=0){using i=Ct(t,"r+");if(e||=0,e<0)throw new u(22);i.truncateSync(e)}s(xa,"truncateSync");function Or(t){t=_(t);let{fs:e,path:i}=T(t);try{return e.unlinkSync(i,x)}catch(r){throw H(r,{[i]:t})}}s(Or,"unlinkSync");function Ct(t,e,i,r=!0){t=_(t);let n=me(i,420),o=L(e);t=r&&qe(t)?je(t):t;let{fs:a,path:c}=T(t);if(!a.existsSync(c,x)){if(!le(o)&&!it(o)||o=="r+")throw u.With("ENOENT",t,"_open");if(!a.statSync(v(c),x).isDirectory())throw u.With("ENOTDIR",v(t),"_open");return a.createFileSync(c,o,n,x)}let l=a.statSync(c,x);if(!l.hasAccess(n,x))throw u.With("EACCES",t,"_open");if(Ci(o))throw u.With("EEXIST",t,"_open");return Ti(o)?(a.unlinkSync(c,x),a.createFileSync(c,o,l.mode,x)):a.openFileSync(c,o,x)}s(Ct,"_openSync");function Hi(t,e,i=0){return qi(Ct(t,e,i,!0))}s(Hi,"openSync");function Gi(t,e,i){return qi(Ct(t,e,i,!1))}s(Gi,"lopenSync");function ka(t,e,i){using r=Ct(t,e,420,i);let n=r.statSync(),o=new Uint8Array(n.size);return r.readSync(o,0,n.size,0),r.closeSync(),o}s(ka,"_readFileSync");function Tr(t,e={}){let i=be(e,null,"r",420),r=L(i.flag);if(!ut(r))throw new u(22,"Flag passed to readFile must allow for reading.");let n=pt.Buffer.from(ka(typeof t=="number"?B(t).path:t.toString(),i.flag,!0));return i.encoding?n.toString(i.encoding):n}s(Tr,"readFileSync");function Yi(t,e,i={}){let r=be(i,"utf8","w+",420),n=L(r.flag);if(!le(n))throw new u(22,"Flag passed to writeFile must allow for writing.");if(typeof e!="string"&&!r.encoding)throw new u(22,"Encoding not specified");let o=typeof e=="string"?pt.Buffer.from(e,r.encoding):new Uint8Array(e.buffer,e.byteOffset,e.byteLength);if(!o)throw new u(22,"Data not specified");Ct(typeof t=="number"?B(t).path:t.toString(),n,r.mode,!0).writeSync(o,0,o.byteLength,0)}s(Yi,"writeFileSync");function va(t,e,i={}){let r=be(i,"utf8","a",420),n=L(r.flag);if(!it(n))throw new u(22,"Flag passed to appendFile must allow for appending.");if(typeof e!="string"&&!r.encoding)throw new u(22,"Encoding not specified");let o=typeof e=="string"?pt.Buffer.from(e,r.encoding):new Uint8Array(e.buffer,e.byteOffset,e.byteLength);Ct(typeof t=="number"?B(t).path:t.toString(),n,r.mode,!0).writeSync(o,0,o.byteLength)}s(va,"appendFileSync");function Fa(t,e){let i=B(t).statSync();return e?.bigint?new ce(i):i}s(Fa,"fstatSync");function yt(t){B(t).closeSync(),Tt.delete(t)}s(yt,"closeSync");function Ia(t,e=0){if(e||=0,e<0)throw new u(22);B(t).truncateSync(e)}s(Ia,"ftruncateSync");function Pa(t){B(t).syncSync()}s(Pa,"fsyncSync");function Aa(t){B(t).datasyncSync()}s(Aa,"fdatasyncSync");function Oa(t,e,i,r,n){let o,a,c,l;if(typeof e=="string"){l=typeof i=="number"?i:null;let d=typeof r=="string"?r:"utf8";a=0,o=pt.Buffer.from(e,d),c=o.byteLength}else o=new Uint8Array(e.buffer,e.byteOffset,e.byteLength),a=i,c=r,l=typeof n=="number"?n:null;let f=B(t);return l??=f.position,f.writeSync(o,a,c,l)}s(Oa,"writeSync");function Ta(t,e,i,r,n){let o=B(t),a=typeof i=="object"?i.offset:i;return typeof i=="object"&&(r=i.length,n=i.position),n=Number(n),isNaN(n)&&(n=o.position),o.readSync(e,a,r,n)}s(Ta,"readSync");function Cr(t,e,i){B(t).chownSync(e,i)}s(Cr,"fchownSync");function Rr(t,e){let i=me(e,-1);if(i<0)throw new u(22,"Invalid mode.");B(t).chmodSync(i)}s(Rr,"fchmodSync");function Nr(t,e,i){B(t).utimesSync(Pt(e),Pt(i))}s(Nr,"futimesSync");function eo(t){t=_(t);let{fs:e,path:i}=T(qe(t)?je(t):t);try{e.rmdirSync(i,x)}catch(r){throw H(r,{[i]:t})}}s(eo,"rmdirSync");function Lr(t,e){e=typeof e=="object"?e:{mode:e};let i=me(e?.mode,511);t=_(t),t=qe(t)?je(t):t;let{fs:r,path:n}=T(t),o={[n]:t};try{if(!e?.recursive)return r.mkdirSync(n,i,x);let a=[];for(let c=n,l=t;!r.existsSync(c,x);c=v(c),l=v(l))a.unshift(c),o[c]=l;for(let c of a)r.mkdirSync(c,i,x);return a[0]}catch(a){throw H(a,o)}}s(Lr,"mkdirSync");function oi(t,e){t=_(t);let{fs:i,path:r}=T(qe(t)?je(t):t),n;try{n=i.readdirSync(r,x)}catch(o){throw H(o,{[r]:t})}for(let o of Se.keys()){if(!o.startsWith(t))continue;let a=o.slice(t.length);a.includes("/")||a.length==0||n.push(a)}return n.map(o=>typeof e=="object"&&e?.withFileTypes?new mt(o,Vi(j(t.toString(),o))):e=="buffer"||typeof e=="object"&&e?.encoding=="buffer"?pt.Buffer.from(o):o)}s(oi,"readdirSync");function Ca(t,e){t=_(t),e=_(e);let{fs:i,path:r}=T(t);try{return i.linkSync(r,e,x)}catch(n){throw H(n,{[r]:t})}}s(Ca,"linkSync");function Ra(t,e,i="file"){if(!["file","dir","junction"].includes(i))throw new u(22,"Invalid type: "+i);if(qe(e))throw u.With("EEXIST",e.toString(),"symlink");Yi(e,t.toString()),Ct(e,"r+",420,!1)._setTypeSync(Z.SYMLINK)}s(Ra,"symlinkSync");function to(t,e){let i=pt.Buffer.from(ka(t.toString(),"r",!1)),r=typeof e=="object"?e?.encoding:e;return r=="buffer"?i:i.toString(r)}s(to,"readlinkSync");function Na(t,e,i){let r=Hi(t,"r+");Cr(r,e,i),yt(r)}s(Na,"chownSync");function La(t,e,i){let r=Gi(t,"r+");Cr(r,e,i),yt(r)}s(La,"lchownSync");function Ba(t,e){let i=Hi(t,"r+");Rr(i,e),yt(i)}s(Ba,"chmodSync");function Da(t,e){let i=Gi(t,"r+");Rr(i,e),yt(i)}s(Da,"lchmodSync");function io(t,e,i){let r=Hi(t,"r+");Nr(r,e,i),yt(r)}s(io,"utimesSync");function Ma(t,e,i){let r=Gi(t,"r+");Nr(r,e,i),yt(r)}s(Ma,"lutimesSync");function je(t,e){t=_(t);let{base:i,dir:r}=yr(t),n=j(r=="/"?"/":je(r),i),{fs:o,path:a,mountPoint:c}=T(n);try{return o.statSync(a,x).isSymbolicLink()?je(c+to(n)):n}catch(l){throw H(l,{[a]:n})}}s(je,"realpathSync");function Ua(t,e=384){if(!Vi(t).hasAccess(e,x))throw new u(13)}s(Ua,"accessSync");function ro(t,e){switch(t=_(t),Vi(t).mode&61440){case 16384:if(e?.recursive)for(let r of oi(t))ro(j(t,r));eo(t);return;case 32768:case 40960:Or(t);return;case 24576:case 8192:case 4096:case 49152:default:throw new u(1,"File type not supported",t,"rm")}}s(ro,"rmSync");function Wa(t,e){let i=typeof e=="object"?e?.encoding:e||"utf8",n="/tmp/"+`${t}${Date.now()}-${Math.random().toString(36).slice(2)}`;return Lr(n),i=="buffer"?pt.Buffer.from(n):n}s(Wa,"mkdtempSync");function no(t,e,i){if(t=_(t),e=_(e),i&&i&1&&qe(e))throw new u(17,"Destination file already exists.",e,"copyFile");Yi(e,Tr(t))}s(no,"copyFileSync");function ja(t,e,i){let r=B(t),n=0;for(let o of e)n+=r.readSync(o,0,o.byteLength,i+n);return n}s(ja,"readvSync");function qa(t,e,i){let r=B(t),n=0;for(let o of e)n+=r.writeSync(new Uint8Array(o.buffer),0,o.byteLength,i+n);return n}s(qa,"writevSync");function $a(t,e){return t=_(t),new bt(t)}s($a,"opendirSync");function oo(t,e,i){t=_(t),e=_(e);let r=Zn(t);if(i?.errorOnExist&&qe(e))throw new u(17,"Destination file or directory already exists.",e,"cp");switch(r.mode&61440){case 16384:if(!i?.recursive)throw new u(21,t+" is a directory (not copied)",t,"cp");Lr(e,{recursive:!0});for(let n of oi(t,{withFileTypes:!0}))i.filter&&!i.filter(j(t,n.name),j(e,n.name))||oo(j(t,n.name),j(e,n.name),i);break;case 32768:case 40960:no(t,e);break;case 24576:case 8192:case 4096:case 49152:default:throw new u(1,"File type not supported",t,"rm")}i?.preserveTimestamps&&io(e,r.atime,r.mtime)}s(oo,"cpSync");function za(t,e){t=_(t);let{fs:i}=T(t);return Ar(i,e?.bigint)}s(za,"statfsSync");var mt=class{constructor(e,i){this.path=e;this.stats=i}static{s(this,"Dirent")}get name(){return q(this.path)}get parentPath(){return this.path}isFile(){return this.stats.isFile()}isDirectory(){return this.stats.isDirectory()}isBlockDevice(){return this.stats.isBlockDevice()}isCharacterDevice(){return this.stats.isCharacterDevice()}isSymbolicLink(){return this.stats.isSymbolicLink()}isFIFO(){return this.stats.isFIFO()}isSocket(){return this.stats.isSocket()}},bt=class{constructor(e){this.path=e;this.closed=!1;this._entries=[]}static{s(this,"Dir")}checkClosed(){if(this.closed)throw new u(9,"Can not use closed Dir")}close(e){if(this.closed=!0,!e)return Promise.resolve();e()}closeSync(){this.closed=!0}async _read(){return this._entries||(this._entries=await Rt(this.path,{withFileTypes:!0})),this._entries.length&&this._entries.shift()||null}read(e){if(!e)return this._read();this._read().then(i=>e(void 0,i))}readSync(){return this._entries||(this._entries=oi(this.path,{withFileTypes:!0})),this._entries.length&&this._entries.shift()||null}[Symbol.asyncIterator](){let e=this;return{[Symbol.asyncIterator]:this[Symbol.asyncIterator],next:s(async function(){let i=await e._read();return i!=null?{done:!1,value:i}:(await e.close(),{done:!0,value:void 0})},"next")}}};var bn=pr(eu(),1);var Et=class extends bn.Readable{static{s(this,"ReadStream")}close(e=()=>null){try{super.destroy(),super.emit("close"),e()}catch(i){e(new u(5,i.toString()))}}},xt=class extends bn.Writable{static{s(this,"WriteStream")}close(e=()=>null){try{super.destroy(),super.emit("close"),e()}catch(i){e(new u(5,i.toString()))}}};var re=class{static{s(this,"FileHandle")}constructor(e){let i=typeof e!="number";this.fd=i?qi(e):e,this.file=i?e:B(e)}chown(e,i){return this.file.chown(e,i)}chmod(e){let i=me(e,-1);if(i<0)throw new u(22,"Invalid mode.");return this.file.chmod(i)}datasync(){return this.file.datasync()}sync(){return this.file.sync()}truncate(e){if(e||=0,e<0)throw new u(22);return this.file.truncate(e)}utimes(e,i){return this.file.utimes(Pt(e),Pt(i))}async appendFile(e,i={}){let r=be(i,"utf8","a",420),n=L(r.flag);if(!it(n))throw new u(22,"Flag passed to appendFile must allow for appending.");if(typeof e!="string"&&!r.encoding)throw new u(22,"Encoding not specified");let o=typeof e=="string"?Ht.Buffer.from(e,r.encoding):e;await this.file.write(o,0,o.length)}read(e,i,r,n){return isNaN(+n)&&(n=this.file.position),this.file.read(e,i,r,n)}async readFile(e){let i=be(e,null,"r",292),r=L(i.flag);if(!ut(r))throw new u(22,"Flag passed must allow for reading.");let{size:n}=await this.stat(),{buffer:o}=await this.file.read(new Uint8Array(n),0,n,0),a=Ht.Buffer.from(o);return i.encoding?a.toString(i.encoding):a}readableWebStream(e={}){let i=s(async({close:r,enqueue:n,error:o})=>{try{let l=0,f=0,d=NaN;for(;d>0;){let h=await this.read(new Uint8Array(65536),0,65536,f);if(!h.bytesRead){r();return}if(n(h.buffer.slice(0,h.bytesRead)),f+=h.bytesRead,++l>=1e7)throw new u(27,"Too many iterations on readable stream",this.file.path,"FileHandle.readableWebStream");d=h.bytesRead}}catch(a){o(a)}},"start");return new globalThis.ReadableStream({start:i,type:e.type})}readLines(e){throw u.With("ENOSYS",this.file.path,"FileHandle.readLines")}[Symbol.asyncDispose](){return this.close()}async stat(e){let i=await this.file.stat();return e?.bigint?new ce(i):i}async write(e,i,r,n){let o,a,c;if(typeof e=="string"){n=typeof i=="number"?i:null;let f=typeof r=="string"?r:"utf8";a=0,o=Ht.Buffer.from(e,f),c=o.length}else o=new Uint8Array(e.buffer,e.byteOffset,e.byteLength),a=i,c=r,n=typeof n=="number"?n:null;n??=this.file.position;let l=await this.file.write(o,a,c,n);return{buffer:o,bytesWritten:l}}async writeFile(e,i={}){let r=be(i,"utf8","w",420),n=L(r.flag);if(!le(n))throw new u(22,"Flag passed must allow for writing.");if(typeof e!="string"&&!r.encoding)throw new u(22,"Encoding not specified");let o=typeof e=="string"?Ht.Buffer.from(e,r.encoding):e;await this.file.write(o,0,o.length,0)}async close(){await this.file.close(),Tt.delete(this.fd)}async writev(e,i){let r=0;for(let n of e)r+=(await this.write(n,0,n.length,i+r)).bytesWritten;return{bytesWritten:r,buffers:e}}async readv(e,i){let r=0;for(let n of e)r+=(await this.read(n,0,n.byteLength,i+r)).bytesRead;return{bytesRead:r,buffers:e}}createReadStream(e){let i=new Et({highWaterMark:e?.highWaterMark||65536,encoding:e.encoding,read:s(async r=>{try{let n=await this.read(new Uint8Array(r),0,r,this.file.position);i.push(n.bytesRead?n.buffer.slice(0,n.bytesRead):null),this.file.position+=n.bytesRead}catch(n){i.destroy(n)}},"read")});return i.path=this.file.path,i}createWriteStream(e){let i={highWaterMark:e?.highWaterMark,encoding:e?.encoding,write:s(async(n,o,a)=>{try{let{bytesWritten:c}=await this.write(n,null,o);a(c==n.length?null:new Error("Failed to write full chunk"))}catch(c){a(c)}},"write")},r=new xt(i);return r.path=this.file.path,r}};async function _s(t,e){t=_(t),e=_(e);let i=T(t),r=T(e);try{if(i.mountPoint==r.mountPoint){await i.fs.rename(i.path,r.path,x);return}await xi(e,await lr(t)),await cr(t)}catch(n){throw H(n,{[i.path]:t,[r.path]:e})}}s(_s,"rename");async function Ie(t){try{let{fs:e,path:i}=T(await Fe(t));return await e.exists(i,x)}catch(e){if(e instanceof u&&e.code=="ENOENT")return!1;throw e}}s(Ie,"exists");async function _i(t,e){t=_(t);let{fs:i,path:r}=T(await Ie(t)?await Fe(t):t);try{let n=await i.stat(r,x);return e?.bigint?new ce(n):n}catch(n){throw H(n,{[r]:t})}}s(_i,"stat");async function gn(t,e){t=_(t);let{fs:i,path:r}=T(t);try{let n=await i.stat(r,x);return e?.bigint?new ce(n):n}catch(n){throw H(n,{[r]:t})}}s(gn,"lstat");async function Es(t,e=0){await(await ue(t,"r+")).truncate(e)}s(Es,"truncate");async function cr(t){t=_(t);let{fs:e,path:i}=T(t);try{await e.unlink(i,x)}catch(r){throw H(r,{[i]:t})}}s(cr,"unlink");async function Ei(t,e,i=420,r){t=_(t);let n=me(i,420),o=L(e);t=r&&await Ie(t)?await Fe(t):t;let{fs:a,path:c}=T(t);if(!await a.exists(c,x)){if(!le(o)&&!it(o)||o=="r+")throw u.With("ENOENT",t,"_open");let f=await a.stat(v(c),x);if(f&&!f.isDirectory())throw u.With("ENOTDIR",v(t),"_open");return new re(await a.createFile(c,o,n,x))}if(Ci(o))throw u.With("EEXIST",t,"_open");if(!Ti(o))return new re(await a.openFile(c,o,x));let l=await a.openFile(c,o,x);return await l.truncate(0),await l.sync(),new re(l)}s(Ei,"_open");async function ue(t,e="r",i=420){return await Ei(t,e,i,!0)}s(ue,"open");async function lr(t,e){let i=be(e,null,"r",420);return await(typeof t=="object"&&"fd"in t?t:await ue(t,i.flag,i.mode)).readFile(i)}s(lr,"readFile");async function xi(t,e,i){let r=be(i,"utf8","w+",420);await using n=t instanceof re?t:await ue(t.toString(),r.flag,r.mode);let o=e;if(typeof o!="string"&&!(o instanceof Uint8Array))throw new u(22,"Iterables and streams not supported",n.file.path,"writeFile");await n.writeFile(o,r)}s(xi,"writeFile");async function xs(t,e,i){let r=be(i,"utf8","a",420),n=L(r.flag);if(!it(n))throw new u(22,"Flag passed to appendFile must allow for appending.");if(typeof e!="string"&&!r.encoding)throw new u(22,"Encoding not specified");let o=typeof e=="string"?Ht.Buffer.from(e,r.encoding):new Uint8Array(e.buffer,e.byteOffset,e.byteLength);await(typeof t=="object"&&"fd"in t?t:await ue(t,r.flag,r.mode)).appendFile(o,r)}s(xs,"appendFile");async function wn(t){t=_(t),t=await Ie(t)?await Fe(t):t;let{fs:e,path:i}=T(t);try{await e.rmdir(i,x)}catch(r){throw H(r,{[i]:t})}}s(wn,"rmdir");async function fr(t,e){e=typeof e=="object"?e:{mode:e};let i=me(e?.mode,511);t=_(t),t=await Ie(t)?await Fe(t):t;let{fs:r,path:n}=T(t),o={[n]:t};try{e?.recursive||await r.mkdir(n,i,x);let a=[];for(let c=n,l=t;!await r.exists(c,x);c=v(c),l=v(l))a.unshift(c),o[c]=l;for(let c of a)await r.mkdir(c,i,x);return a[0]}catch(a){throw H(a,o)}}s(fr,"mkdir");async function Rt(t,e){t=_(t),t=await Ie(t)?await Fe(t):t;let{fs:i,path:r}=T(t),n;try{n=await i.readdir(r,x)}catch(a){throw H(a,{[r]:t})}for(let a of Se.keys())if(a.startsWith(t)){let c=a.slice(t.length);if(c.includes("/")||c.length==0)continue;n.push(c)}let o=[];for(let a of n)o.push(typeof e=="object"&&e?.withFileTypes?new mt(a,await _i(j(t,a))):a);return o}s(Rt,"readdir");async function ks(t,e){t=_(t),e=_(e);let{fs:i,path:r}=T(e);try{return await i.link(t,e,x)}catch(n){throw H(n,{[r]:e})}}s(ks,"link");async function vs(t,e,i="file"){if(!["file","dir","junction"].includes(i))throw new u(22,"Invalid symlink type: "+i);if(await Ie(e))throw u.With("EEXIST",e.toString(),"symlink");await xi(e,t.toString()),await(await Ei(e,"r+",420,!1)).file._setType(Z.SYMLINK)}s(vs,"symlink");async function Sn(t,e){let r=await(await Ei(_(t),"r",420,!1)).readFile(),n=typeof e=="object"?e?.encoding:e;return n=="buffer"?r:r.toString(n)}s(Sn,"readlink");async function Fs(t,e,i){await(await ue(t,"r+")).chown(e,i)}s(Fs,"chown");async function Is(t,e,i){await(await Ei(t,"r+",420,!1)).chown(e,i)}s(Is,"lchown");async function Ps(t,e){await(await ue(t,"r+")).chmod(e)}s(Ps,"chmod");async function As(t,e){await(await Ei(t,"r+",420,!1)).chmod(e)}s(As,"lchmod");async function _n(t,e,i){await(await ue(t,"r+")).utimes(e,i)}s(_n,"utimes");async function Os(t,e,i){await(await Ei(t,"r+",420,!1)).utimes(new Date(e),new Date(i))}s(Os,"lutimes");async function Fe(t,e){t=_(t);let{base:i,dir:r}=yr(t),n=j(r=="/"?"/":await Fe(r),i),{fs:o,path:a,mountPoint:c}=T(n);try{return(await o.stat(a,x)).isSymbolicLink()?Fe(c+await Sn(n)):n}catch(l){throw H(l,{[a]:n})}}s(Fe,"realpath");function Kg(t,e={}){throw u.With("ENOSYS",t.toString(),"watch")}s(Kg,"watch");async function Ts(t,e=0){if(!(await _i(t)).hasAccess(e,x))throw new u(13)}s(Ts,"access");async function En(t,e){switch(t=_(t),(await _i(t)).mode&61440){case 16384:if(e?.recursive)for(let r of await Rt(t))await En(j(t,r));await wn(t);return;case 32768:case 40960:await cr(t);return;case 24576:case 8192:case 4096:case 49152:default:throw new u(1,"File type not supported",t,"rm")}}s(En,"rm");async function Cs(t,e){let i=typeof e=="object"?e?.encoding:e||"utf8",n="/tmp/"+`${t}${Date.now()}-${Math.random().toString(36).slice(2)}`;return await fr(n),i=="buffer"?Ht.Buffer.from(n):n}s(Cs,"mkdtemp");async function xn(t,e,i){if(t=_(t),e=_(e),i&&i&1&&await Ie(e))throw new u(17,"Destination file already exists.",e,"copyFile");await xi(e,await lr(t))}s(xn,"copyFile");async function Rs(t,e){return t=_(t),new bt(t)}s(Rs,"opendir");async function kn(t,e,i){t=_(t),e=_(e);let r=await gn(t);if(i?.errorOnExist&&await Ie(e))throw new u(17,"Destination file or directory already exists.",e,"cp");switch(r.mode&61440){case 16384:if(!i?.recursive)throw new u(21,t+" is a directory (not copied)",t,"cp");await fr(e,{recursive:!0});for(let n of await Rt(t,{withFileTypes:!0}))i.filter&&!i.filter(j(t,n.name),j(e,n.name))||await kn(j(t,n.name),j(e,n.name),i);break;case 32768:case 40960:await xn(t,e);break;case 24576:case 8192:case 4096:case 49152:default:throw new u(1,"File type not supported",t,"rm")}i?.preserveTimestamps&&await _n(e,r.atime,r.mtime)}s(kn,"cp");async function Ns(t,e){t=_(t);let{fs:i}=T(t);return Ar(i,e?.bigint)}s(Ns,"statfs");function tu(t,e,i=S){_s(t,e).then(()=>i()).catch(i)}s(tu,"rename");function iu(t,e=S){Ie(t).then(e).catch(()=>e(!1))}s(iu,"exists");function ru(t,e,i=S){i=typeof e=="function"?e:i,_i(t,typeof e!="function"?e:{}).then(r=>i(void 0,r)).catch(i)}s(ru,"stat");function nu(t,e,i=S){i=typeof e=="function"?e:i,gn(t,typeof e!="function"?e:{}).then(r=>i(void 0,r)).catch(i)}s(nu,"lstat");function ou(t,e=0,i=S){i=typeof e=="function"?e:i,Es(t,typeof e=="number"?e:0).then(()=>i()).catch(i)}s(ou,"truncate");function su(t,e=S){cr(t).then(()=>e()).catch(e)}s(su,"unlink");function au(t,e,i,r=S){let n=me(i,420);r=typeof i=="function"?i:r,ue(t,e,n).then(o=>r(void 0,o.fd)).catch(r)}s(au,"open");function cu(t,e,i=S){i=typeof e=="function"?e:i,lr(t,typeof e=="function"?null:e).then(r=>i(void 0,r)).catch(i)}s(cu,"readFile");function lu(t,e,i,r=S){r=typeof i=="function"?i:r,xi(t,e,typeof i!="function"?i:null).then(()=>r(void 0)).catch(r)}s(lu,"writeFile");function fu(t,e,i,r=S){r=typeof i=="function"?i:r,xs(t,e,typeof i=="function"?null:i).then(()=>r()).catch(r)}s(fu,"appendFile");function uu(t,e,i=S){i=typeof e=="function"?e:i,B(t).stat().then(r=>i(void 0,typeof e=="object"&&e?.bigint?new ce(r):r)).catch(i)}s(uu,"fstat");function du(t,e=S){new re(t).close().then(()=>e()).catch(e)}s(du,"close");function hu(t,e,i=S){let r=typeof e=="number"?e:0;i=typeof e=="function"?e:i;let n=B(t);if(r<0)throw new u(22);n.truncate(r).then(()=>i()).catch(i)}s(hu,"ftruncate");function pu(t,e=S){B(t).sync().then(()=>e()).catch(e)}s(pu,"fsync");function yu(t,e=S){B(t).datasync().then(()=>e()).catch(e)}s(yu,"fdatasync");function mu(t,e,i,r,n,o=S){let a,c,l,f,d,h=new re(t);if(typeof e=="string"){switch(d="utf8",typeof i){case"function":o=i;break;case"number":f=i,d=typeof r=="string"?r:"utf8",o=typeof n=="function"?n:o;break;default:o=typeof r=="function"?r:typeof n=="function"?n:o,o(new u(22,"Invalid arguments."));return}a=Ls.Buffer.from(e),c=0,l=a.length;let b=o;h.write(a,c,l,f).then(({bytesWritten:m})=>b(void 0,m,a.toString(d))).catch(b)}else{a=Ls.Buffer.from(e.buffer),c=i,l=r,f=typeof n=="number"?n:null;let b=typeof n=="function"?n:o;h.write(a,c,l,f).then(({bytesWritten:m})=>b(void 0,m,a)).catch(b)}}s(mu,"write");function bu(t,e,i,r,n,o=S){new re(t).read(e,i,r,n).then(({bytesRead:a,buffer:c})=>o(void 0,a,c)).catch(o)}s(bu,"read");function gu(t,e,i,r=S){new re(t).chown(e,i).then(()=>r()).catch(r)}s(gu,"fchown");function wu(t,e,i){new re(t).chmod(e).then(()=>i()).catch(i)}s(wu,"fchmod");function Su(t,e,i,r=S){new re(t).utimes(e,i).then(()=>r()).catch(r)}s(Su,"futimes");function _u(t,e=S){wn(t).then(()=>e()).catch(e)}s(_u,"rmdir");function Eu(t,e,i=S){fr(t,e).then(()=>i()).catch(i)}s(Eu,"mkdir");function xu(t,e,i=S){i=typeof e=="function"?e:i,Rt(t,typeof e!="function"?e:{}).then(n=>i(void 0,n)).catch(i)}s(xu,"readdir");function ku(t,e,i=S){ks(t,e).then(()=>i()).catch(i)}s(ku,"link");function vu(t,e,i,r=S){let n=typeof i=="string"?i:"file";r=typeof i=="function"?i:r,vs(t,e,n).then(()=>r()).catch(r)}s(vu,"symlink");function Fu(t,e,i=S){i=typeof e=="function"?e:i,Sn(t).then(r=>i(void 0,r)).catch(i)}s(Fu,"readlink");function Iu(t,e,i,r=S){Fs(t,e,i).then(()=>r()).catch(r)}s(Iu,"chown");function Pu(t,e,i,r=S){Is(t,e,i).then(()=>r()).catch(r)}s(Pu,"lchown");function Au(t,e,i=S){Ps(t,e).then(()=>i()).catch(i)}s(Au,"chmod");function Ou(t,e,i=S){As(t,e).then(()=>i()).catch(i)}s(Ou,"lchmod");function Tu(t,e,i,r=S){_n(t,e,i).then(()=>r()).catch(r)}s(Tu,"utimes");function Cu(t,e,i,r=S){Os(t,e,i).then(()=>r()).catch(r)}s(Cu,"lutimes");function Ru(t,e,i=S){i=typeof e=="function"?e:i,Fe(t,typeof e=="function"?null:e).then(r=>i(void 0,r)).catch(i)}s(Ru,"realpath");function Nu(t,e,i=S){let r=typeof e=="number"?e:4;i=typeof e=="function"?e:i,Ts(t,typeof e=="function"?null:e).then(()=>i()).catch(i)}s(Nu,"access");function Lu(t,e,i=S){throw u.With("ENOSYS",t.toString(),"watchFile")}s(Lu,"watchFile");function Bu(t,e=S){throw u.With("ENOSYS",t.toString(),"unwatchFile")}s(Bu,"unwatchFile");function Du(t,e,i=S){throw u.With("ENOSYS",t.toString(),"watch")}s(Du,"watch");function Mu(t,e){let i=typeof e=="object"?e:{encoding:e},r,n=new Et({highWaterMark:i.highWaterMark||64*1024,encoding:i.encoding||"utf8",read:s(async function(o){try{r||=await ue(t,"r",i?.mode);let a=await r.read(new Uint8Array(o),0,o,r.file.position);n.push(a.bytesRead?a.buffer.slice(0,a.bytesRead):null),r.file.position+=a.bytesRead,a.bytesRead||await r.close()}catch(a){await r?.close(),n.destroy(a)}},"read"),destroy:s(function(o,a){r?.close().then(()=>a(o)).catch(a)},"destroy")});return n.path=t.toString(),n}s(Mu,"createReadStream");function Uu(t,e){let i=typeof e=="object"?e:{encoding:e},r,n=new xt({highWaterMark:i?.highWaterMark,write:s(async function(o,a,c){try{r||=await ue(t,"w",i?.mode||438),await r.write(o,0,a),c(void 0)}catch(l){await r?.close(),c(l)}},"write"),destroy:s(function(o,a){a(o),r?.close().then(()=>a(o)).catch(a)},"destroy"),final:s(function(o){r?.close().then(()=>o()).catch(o)},"final")});return n.path=t.toString(),n}s(Uu,"createWriteStream");function Wu(t,e,i=S){i=typeof e=="function"?e:i,En(t,typeof e=="function"?void 0:e).then(()=>i(void 0)).catch(i)}s(Wu,"rm");function ju(t,e,i=S){i=typeof e=="function"?e:i,Cs(t,typeof e!="function"?e:null).then(r=>i(void 0,r)).catch(i)}s(ju,"mkdtemp");function qu(t,e,i,r=S){r=typeof i=="function"?i:r,xn(t,e,typeof i=="function"?void 0:i).then(()=>r(void 0)).catch(r)}s(qu,"copyFile");function $u(t,e,i,r=S){r=typeof i=="function"?i:r,new re(t).readv(e,typeof i=="function"?void 0:i).then(({buffers:n,bytesRead:o})=>r(void 0,o,n)).catch(r)}s($u,"readv");function zu(t,e,i,r=S){r=typeof i=="function"?i:r,new re(t).writev(e,typeof i=="function"?void 0:i).then(({buffers:n,bytesWritten:o})=>r(void 0,o,n)).catch(r)}s(zu,"writev");function Vu(t,e,i=S){i=typeof e=="function"?e:i,Rs(t,typeof e=="function"?void 0:e).then(r=>i(void 0,r)).catch(i)}s(Vu,"opendir");function Hu(t,e,i,r=S){r=typeof i=="function"?i:r,kn(t,e,typeof i=="function"?void 0:i).then(()=>r(void 0)).catch(r)}s(Hu,"cp");function Gu(t,e,i=S){i=typeof e=="function"?e:i,Ns(t,typeof e=="function"?void 0:e).then(r=>i(void 0,r)).catch(i)}s(Gu,"statfs");async function Yu(t,e){let i=await ue(t.toString(),"r"),r=await i.readFile();return await i.close(),new Blob([r],e)}s(Yu,"openAsBlob");function Bs(t){return kr(t)||Wi(t)||t instanceof ee}s(Bs,"isMountConfig");async function Ds(t,e=0){if(typeof t!="object"||t==null)throw new u(22,"Invalid options on mount configuration");if(!Bs(t))throw new u(22,"Invalid mount configuration");if(t instanceof ee)return t;Wi(t)&&(t={backend:t});for(let[n,o]of Object.entries(t))if(n!="backend"&&Bs(o)){if(e>10)throw new u(22,"Invalid configuration, too deep and possibly infinite");t[n]=await Ds(o,++e)}let{backend:i}=t;if(!await i.isAvailable())throw new u(1,"Backend not available: "+i);qn(i,t);let r=await i.create(t);return"_disableSync"in r&&(r._disableSync=t.disableAsyncCache||!1),await r.ready(),r}s(Ds,"resolveMountConfig");async function Xg(t){let e="uid"in t&&t.uid||0,i="gid"in t&&t.gid||0;if(Bs(t)&&(t={mounts:{"/":t}}),_a({uid:e,gid:i,suid:e,sgid:i,euid:e,egid:i}),!!t.mounts){for(let[r,n]of Object.entries(t.mounts)){if(!r.startsWith("/"))throw new u(22,"Mount points must have absolute paths");kr(n)&&(n.disableAsyncCache??=t.disableAsyncCache||!1),t.mounts[r]=await Ds(n)}zi(t.mounts)}}s(Xg,"configure");var Jg=dr;return td(Qg);})();
/*! Bundled license information:

ieee754/index.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

buffer/index.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)
*/
//# sourceMappingURL=browser.min.js.map
